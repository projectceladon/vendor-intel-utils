From 10332ab54b6cc8cf8d749d0e26aeeffc550563c6 Mon Sep 17 00:00:00 2001
From: Ratnesh Kumar Rai <ratnesh.kumar.rai@intel.com>
Date: Tue, 28 Feb 2023 08:40:00 +0530
Subject: [PATCH] Compatibility changes to build nn-hal for Android R

Tracked-On: OAM-105850
Change-Id: If1a47acb071cd4cf8e3ba04218edc69e6261c731
Signed-off-by: Anoob Anto K <anoob.anto.kodankandath@intel.com>
Signed-off-by: Ratnesh Kumar Rai <ratnesh.kumar.rai@intel.com>
Signed-off-by: Jaikrishna, Nemallapudi <nemallapudi.jaikrishna@intel.com>
---
 Android.bp                | 10 +++-------
 ngraph_creator/Android.bp |  3 ---
 2 files changed, 3 insertions(+), 10 deletions(-)

diff --git a/Android.bp b/Android.bp
index a8cfc38..f9697a0 100644
--- a/Android.bp
+++ b/Android.bp
@@ -21,9 +21,7 @@ cc_library_shared {
     ],
 
     include_dirs: [
-        "packages/modules/NeuralNetworks/common/include",
-        "packages/modules/NeuralNetworks/common/types/include",
-        "packages/modules/NeuralNetworks/runtime/include",
+        "frameworks/ml/nn/runtime/include/",
         "frameworks/native/libs/nativewindow/include",
         "external/mesa3d/include/android_stub",
         "external/grpc-grpc",
@@ -168,9 +166,8 @@ cc_binary {
     srcs: ["service.cpp"],
 
     include_dirs: [
-        "packages/modules/NeuralNetworks/common/include",
-        "packages/modules/NeuralNetworks/common/types/include",
-        "packages/modules/NeuralNetworks/runtime/include",
+        "frameworks/ml/nn/common/include",
+        "frameworks/ml/nn/runtime/include/",
         "frameworks/native/libs/nativewindow/include",
         "external/mesa3d/include/android_stub",
     ],
@@ -186,7 +183,6 @@ cc_binary {
 
     shared_libs: [
         "libhidlbase",
-        "libhidltransport",
         "libhidlmemory",
         "libutils",
         "liblog",
diff --git a/ngraph_creator/Android.bp b/ngraph_creator/Android.bp
index 5a4175a..7f4f083 100755
--- a/ngraph_creator/Android.bp
+++ b/ngraph_creator/Android.bp
@@ -99,9 +99,6 @@ cc_library_static {
     ],
 
     include_dirs: [
-        "packages/modules/NeuralNetworks/common/include",
-        "packages/modules/NeuralNetworks/common/types/include",
-        "packages/modules/NeuralNetworks/runtime/include",
         "external/mesa3d/include/android_stub",
     ],
 
-- 
2.39.1

