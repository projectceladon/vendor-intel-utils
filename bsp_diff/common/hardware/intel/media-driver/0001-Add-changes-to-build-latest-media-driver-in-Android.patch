From 07e34fbc71a6f172af1b3210854c9d9e26c1fdb3 Mon Sep 17 00:00:00 2001
From: Ratnesh Kumar Rai <ratnesh.kumar.rai@intel.com>
Date: Fri, 30 Sep 2022 23:00:55 +0530
Subject: [PATCH] Add changes to build latest media driver in Android

Changes include:
- Updating template files for c and cpp flags
- Fixes for compilation issues seen in Android
- Fixes to cmake files to make sure include files are
added to generated Android.mk file
- Added generated Android.mk files
- Updated Android.mk with paths missing

Change-Id: I2e17c1d036783dabca1b18c2bade9f882b56a8a0
Tracked-On: OAM-104545
Signed-off-by: Jeevaka Prabu Badrappan <jeevaka.badrappan@intel.com>
Signed-off-by: Ratnesh Kumar Rai <ratnesh.kumar.rai@intel.com>
Signed-off-by: yerriswamy <yerriswamy.kt@intel.com>
---
 CMakeLists.txt                                |    4 +-
 .../Android/GenerateAndroidMk.py              |   25 +
 Tools/MediaDriverTools/Android/mk/cmrt.tpl    |    6 +
 Tools/MediaDriverTools/Android/mk/gmm.tpl     |   15 +-
 .../Android/mk/media_driver.tpl               |   27 +-
 cmrtlib/Android.mk                            |   86 +
 .../agnostic/common/cp/media_srcs.cmake       |    4 +-
 .../common/heap_manager/media_srcs.cmake      |    1 +
 .../agnostic/common/hw/media_srcs.cmake       |    6 +
 .../agnostic/common/hw/vdbox/media_srcs.cmake |    1 +
 .../common/media_interfaces/media_srcs.cmake  |    4 +-
 media_common/agnostic/common/media_srcs.cmake |    9 +-
 .../agnostic/common/os/media_srcs.cmake       |    1 +
 .../common/renderhal/media_srcs.cmake         |    1 +
 .../agnostic/common/shared/media_srcs.cmake   |    2 +
 .../shared/user_setting/media_srcs.cmake      |    1 +
 .../agnostic/common/vp/hal/media_srcs.cmake   |    2 +
 .../agnostic/common/vp/kdll/media_srcs.cmake  |    1 +
 .../common/vp/kernel/media_srcs.cmake         |    4 +-
 .../linux/common/cp/os/media_srcs.cmake       |    1 +
 media_common/linux/common/os/media_srcs.cmake |    1 +
 media_driver/Android.mk                       | 1667 +++++++++++++++++
 .../agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake  |    1 +
 .../Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake     |    1 +
 .../Xe_M/Xe_HPM/vp/hal/media_srcs.cmake       |    2 +
 .../Xe_M/Xe_M_base/shared/media_srcs.cmake    |    1 +
 .../agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake  |    2 +
 .../Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake     |    1 +
 .../Xe_M/Xe_XPM/vp/hal/media_srcs.cmake       |    2 +
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    4 +-
 .../Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake    |    2 +
 .../Xe_XPM_plus/hw/vdbox/media_srcs.cmake     |    1 +
 .../Xe_M/Xe_XPM_plus/shared/media_srcs.cmake  |    4 +-
 .../Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake  |    2 +
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    2 +
 .../Xe_XPM_plus/vp/kernel/media_srcs.cmake    |    4 +-
 .../Xe_R/Xe_HP/hw/render/media_srcs.cmake     |    1 +
 .../Xe_R/Xe_HPC/hw/blt/media_srcs.cmake       |    1 +
 .../Xe_R/Xe_HPC/hw/render/media_srcs.cmake    |    1 +
 .../Xe_R/Xe_HPG/hw/render/media_srcs.cmake    |    1 +
 .../Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake   |    1 +
 .../Xe_HP_base/hw/render/media_srcs.cmake     |    1 +
 .../agnostic/common/hw/media_srcs.cmake       |    7 +
 .../agnostic/common/hw/vdbox/media_srcs.cmake |    1 +
 .../common/media_interfaces/media_srcs.cmake  |    4 +-
 .../agnostic/common/os/media_srcs.cmake       |    2 +
 .../common/renderhal/media_srcs.cmake         |    1 +
 .../agnostic/common/shared/media_srcs.cmake   |    1 +
 .../common/shared/mediacopy/media_srcs.cmake  |    1 +
 .../shared/user_setting/media_srcs.cmake      |    1 +
 .../agnostic/common/vp/hal/media_srcs.cmake   |    2 +
 .../agnostic/common/vp/kdll/media_srcs.cmake  |    4 +-
 .../agnostic/common/vp/media_srcs.cmake       |    3 +-
 .../g12/g12_base/hw/render/media_srcs.cmake   |    1 +
 .../agnostic/gen10/cm/media_srcs.cmake        |    1 +
 .../agnostic/gen10/hw/media_srcs.cmake        |    2 +
 .../agnostic/gen10/hw/vdbox/media_srcs.cmake  |    1 +
 .../agnostic/gen10/renderhal/media_srcs.cmake |    1 +
 .../agnostic/gen10/vp/hal/media_srcs.cmake    |    2 +
 .../agnostic/gen10/vp/kernel/media_srcs.cmake |    2 +
 .../agnostic/gen11/cm/media_srcs.cmake        |    1 +
 .../agnostic/gen11/hw/media_srcs.cmake        |    1 +
 .../agnostic/gen11/hw/vdbox/media_srcs.cmake  |    1 +
 .../agnostic/gen11/renderhal/media_srcs.cmake |    1 +
 .../agnostic/gen11/vp/hal/media_srcs.cmake    |    4 +-
 .../gen11_icllp/vp/hal/media_srcs.cmake       |    4 +-
 .../gen11_icllp/vp/kernel/media_srcs.cmake    |    2 +
 .../vp/kernel_free/media_srcs.cmake           |    2 +
 .../gen11_jsl_ehl/renderhal/media_srcs.cmake  |    2 +
 .../gen11_jsl_ehl/vp/hal/media_srcs.cmake     |    4 +-
 .../agnostic/gen12/cm/media_srcs.cmake        |    1 +
 .../agnostic/gen12/hw/media_srcs.cmake        |    2 +
 .../agnostic/gen12/hw/vdbox/media_srcs.cmake  |    1 +
 .../agnostic/gen12/shared/media_srcs.cmake    |    1 +
 .../agnostic/gen12/vp/hal/media_srcs.cmake    |    4 +-
 .../gen12_tgllp/vp/hal/media_srcs.cmake       |    4 +-
 .../vp/kernel/cmfc/media_srcs.cmake           |    2 +
 .../vp/kernel/cmfccmlpch/media_srcs.cmake     |    4 +-
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    2 +
 .../gen12_tgllp/vp/kernel/media_srcs.cmake    |    5 +-
 .../vp/kernel/swsb/media_srcs.cmake           |   23 +
 .../Source/Common/media_srcs.cmake            |   23 +
 .../Source/Components/media_srcs.cmake        |   23 +
 .../Source/Core_Kernels/media_srcs.cmake      |   23 +
 .../vp/kernel_free/Source/media_srcs.cmake    |   26 +
 .../vp/kernel_free/cmfc/media_srcs.cmake      |    2 +
 .../vp/kernel_free/cmfcpatch/media_srcs.cmake |    1 +
 .../vp/kernel_free/media_srcs.cmake           |    1 +
 .../agnostic/gen8/cm/media_srcs.cmake         |    1 +
 .../agnostic/gen8/hw/media_srcs.cmake         |    1 +
 .../agnostic/gen8/hw/vdbox/media_srcs.cmake   |    1 +
 .../agnostic/gen8/renderhal/media_srcs.cmake  |    1 +
 .../agnostic/gen8/vp/hal/media_srcs.cmake     |    2 +
 .../agnostic/gen8/vp/kdll/media_srcs.cmake    |    2 +
 .../agnostic/gen8/vp/kernel/media_srcs.cmake  |    4 +-
 .../gen8_bdw/hw/vdbox/media_srcs.cmake        |    4 +-
 .../gen8_bdw/renderhal/media_srcs.cmake       |    1 +
 .../agnostic/gen9/cm/media_srcs.cmake         |    1 +
 .../agnostic/gen9/hw/media_srcs.cmake         |    2 +
 .../agnostic/gen9/hw/vdbox/media_srcs.cmake   |    2 +
 .../agnostic/gen9/renderhal/media_srcs.cmake  |    1 +
 .../agnostic/gen9/vp/hal/media_srcs.cmake     |    2 +
 .../agnostic/gen9/vp/kernel/media_srcs.cmake  |    4 +-
 .../gen9_bxt/hw/vdbox/media_srcs.cmake        |    1 +
 .../agnostic/gen9_bxt/vp/hal/media_srcs.cmake |    4 +-
 .../gen9_cml/vp/kernel/media_srcs.cmake       |    4 +-
 .../gen9_cml/vp/kernel/tgp/media_srcs.cmake   |    2 +
 .../gen9_cmpv/vp/kernel/media_srcs.cmake      |    1 +
 .../gen9_glk/hw/vdbox/media_srcs.cmake        |    1 +
 .../agnostic/gen9_glk/vp/hal/media_srcs.cmake |    2 +
 .../gen9_kbl/hw/vdbox/media_srcs.cmake        |    1 +
 .../gen9_skl/hw/vdbox/media_srcs.cmake        |    1 +
 media_driver/agnostic/media_srcs.cmake        |   31 +-
 media_driver/agnostic/ult/cm/media_srcs.cmake |   23 +
 media_driver/agnostic/ult/media_srcs.cmake    |   23 +
 media_driver/linux/common/os/media_srcs.cmake |    2 +
 .../linux/gen12/ddi/media_libva_caps_g12.cpp  |    3 +
 .../media_interfaces_dg2/media_srcs.cmake     |    3 +-
 .../media_interfaces_m10_cnl/media_srcs.cmake |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_interfaces_m12_dg1/media_srcs.cmake |    3 +-
 .../media_interfaces_m12_rkl/media_srcs.cmake |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_interfaces_m8_bdw/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_bxt/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_cfl/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_glk/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_kbl/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_skl/media_srcs.cmake  |    3 +-
 .../media_interfaces_pvc/media_srcs.cmake     |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake  |    1 +
 .../Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake     |    3 +-
 .../Xe_HPM/shared/mediacopy/media_srcs.cmake  |    4 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../Xe_HPM/vp/hal/packet/media_srcs.cmake     |    4 +-
 .../Xe_HPM/vp/hal/pipeline/media_srcs.cmake   |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../codec/hal/dec/avc/media_srcs.cmake        |    1 -
 .../codec/hal/dec/hevc/media_srcs.cmake       |    2 -
 .../codec/hal/dec/jpeg/media_srcs.cmake       |    2 -
 .../codec/hal/dec/mpeg2/media_srcs.cmake      |    2 -
 .../codec/hal/dec/vp9/media_srcs.cmake        |    1 -
 .../Xe_M_base/codec/hal/enc/media_srcs.cmake  |    2 -
 .../Xe_M/Xe_M_base/codec/hal/media_srcs.cmake |    1 -
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../Xe_XPM/vp/hal/packet/media_srcs.cmake     |    4 +-
 .../Xe_XPM/vp/hal/pipeline/media_srcs.cmake   |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../Xe_XPM_base/codec/hal/media_srcs.cmake    |    1 -
 .../shared/mediacopy/media_srcs.cmake         |    3 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../vp/hal/packet/media_srcs.cmake            |    4 +-
 .../shared/mediacopy/media_srcs.cmake         |    3 +-
 .../Xe_R/Xe_HP/renderhal/media_srcs.cmake     |    3 +-
 .../Xe_R/Xe_HPC/renderhal/media_srcs.cmake    |    3 +-
 .../Xe_R/Xe_HPG/renderhal/media_srcs.cmake    |    3 +-
 .../Xe_HP_Base/renderhal/media_srcs.cmake     |    3 +-
 .../media_sfc_interface/media_srcs.cmake      |    3 +-
 .../shared/scalability/media_srcs.cmake       |    2 +
 .../common/vp/hal/packet/media_srcs.cmake     |    3 +-
 .../common/vp/hal/pipeline/media_srcs.cmake   |    3 +-
 .../hal/shared/scalability/media_srcs.cmake   |    1 +
 .../g12/g12_0/renderhal/media_srcs.cmake      |    3 +-
 .../g12/g12_1/renderhal/media_srcs.cmake      |    3 +-
 .../g12/g12_base/renderhal/media_srcs.cmake   |    3 +-
 .../gen12/codec/hal/dec/av1/media_srcs.cmake  |    4 +-
 .../agnostic/gen12/codec/hal/media_srcs.cmake |    4 +-
 .../agnostic/gen12/vp/hal/media_srcs.cmake    |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../m12/m12/vp/hal/packet/media_srcs.cmake    |    2 +
 .../m12_0/shared/mediacopy/media_srcs.cmake   |    3 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 media_driver/media_top_cmake.cmake            |    3 +-
 .../agnostic/Xe_R/Xe_HPG/hw/media_srcs.cmake  |    3 +-
 .../Xe_R/Xe_HPG/renderhal/media_srcs.cmake    |    3 +-
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    4 +-
 .../Xe_R/Xe_HPG/vp/kernel/media_srcs.cmake    |    4 +-
 .../Source/Common/media_srcs.cmake            |   21 +
 .../Source/Components/media_srcs.cmake        |   21 +
 .../Source/Core_Kernels/media_srcs.cmake      |   21 +
 .../vp/kernel_free/Source/media_srcs.cmake    |   24 +
 .../vp/kernel_free/cmfcpatch/media_srcs.cmake |    3 +-
 .../Xe_HPG/vp/kernel_free/media_srcs.cmake    |    5 +-
 .../Xe_HPG_Base/renderhal/media_srcs.cmake    |    3 +-
 .../enc/shared/statusreport/media_srcs.cmake  |    1 +
 .../agnostic/common/hw/media_srcs.cmake       |    3 +-
 .../agnostic/common/hw/vdbox/media_srcs.cmake |    4 +-
 .../common/media_interfaces/media_srcs.cmake  |    6 +-
 .../agnostic/common/os/media_srcs.cmake       |    1 +
 .../common/renderhal/media_srcs.cmake         |    3 +-
 .../agnostic/common/shared/media_srcs.cmake   |    4 +-
 .../shared/mediacontext/media_srcs.cmake      |    3 +-
 .../shared/scalability/media_srcs.cmake       |    1 +
 .../common/vp/cm_fc_ld/media_srcs.cmake       |    2 +
 .../common/vp/hal/bufferMgr/media_srcs.cmake  |    4 +-
 .../common/vp/hal/bufferMgr/vp_allocator.cpp  |    4 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../common/vp/hal/features/media_srcs.cmake   |    4 +-
 .../common/vp/hal/mmc/media_srcs.cmake        |    4 +-
 .../common/vp/hal/packet/media_srcs.cmake     |    4 +-
 .../common/vp/hal/pipeline/media_srcs.cmake   |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../vp/hal/scalability/media_srcs.cmake       |    4 +-
 .../hal/shared/scalability/media_srcs.cmake   |    2 +
 .../vp/hal/statusreport/media_srcs.cmake      |    4 +-
 .../common/vp/hal/utils/media_srcs.cmake      |    4 +-
 .../agnostic/common/vp/kdll/media_srcs.cmake  |    2 +
 .../common/os/i915/include/media_srcs.cmake   |    2 +
 .../os/i915/include/uapi/media_srcs.cmake     |    1 +
 .../linux/common/os/i915/media_srcs.cmake     |    2 +
 .../i915_production/include/media_srcs.cmake  |    4 +-
 .../os/i915_production/media_srcs.cmake       |    1 +
 .../linux/common/os/media_srcs.cmake          |    2 +-
 .../common/os/osservice/media_srcs.cmake      |    1 +
 .../os/osservice/mos_utilities_specific.cpp   |    3 +-
 .../os/osservice/mos_utilities_specific.h     |    1 +
 221 files changed, 2480 insertions(+), 145 deletions(-)
 create mode 100644 cmrtlib/Android.mk
 create mode 100644 media_driver/Android.mk
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake
 create mode 100644 media_driver/agnostic/ult/cm/media_srcs.cmake
 create mode 100644 media_driver/agnostic/ult/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 17e30e8a7..41caf5f49 100755
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -49,9 +49,9 @@ cmake_dependent_option( ENABLE_NONFREE_KERNELS
 cmake_dependent_option( BUILD_KERNELS
     "Rebuild shaders (kernels) from sources" OFF
     "ENABLE_KERNELS;NOT ENABLE_NONFREE_KERNELS" OFF)
-option (BUILD_CMRTLIB "Build and Install cmrtlib together with media driver" ON)
+option (BUILD_CMRTLIB "Build and Install cmrtlib together with media driver" OFF)
 
-option (ENABLE_PRODUCTION_KMD "Enable Production KMD header files" OFF)
+option (ENABLE_PRODUCTION_KMD "Enable Production KMD header files" ON)
 
 include(GNUInstallDirs)
 
diff --git a/Tools/MediaDriverTools/Android/GenerateAndroidMk.py b/Tools/MediaDriverTools/Android/GenerateAndroidMk.py
index 84126a73e..2ffcbc269 100755
--- a/Tools/MediaDriverTools/Android/GenerateAndroidMk.py
+++ b/Tools/MediaDriverTools/Android/GenerateAndroidMk.py
@@ -145,6 +145,7 @@ class Generator:
 
     def getDefines(self, name):
         flags = path.join(self.getBuildDir(), self.getFlagsfile())
+        text = None
         with open(flags) as f:
             text = f.read()
         line = re.findall(name + " =.*\n", text)[0]
@@ -233,7 +234,31 @@ class DriverGeneator(Generator):
     def getFlagsfile(self):
         return "media_driver/CMakeFiles/iHD_drv_video.dir/flags.make"
 
+    def getIncludes(self):
+         text = self.getDefines("CXX_INCLUDES")
+         preself = path.abspath(path.join(self.src, "../"))
+         print("self="+self.src)
+         print("preself="+preself)
+         includes = []
+         lines = text.split("\n")
+         for l in lines:
+             #normpath will make sure we did not refer outside.
+             p = path.normpath(l)
+             print("Inc=" + p);
+             j = p.find(self.src)
+             i = p.find(preself)
+             if j != -1:
+                 includes.append(p[j:].replace(self.src, "$(LOCAL_PATH)"))
+             else:
+                 if i != -1:
+                     includes.append(p[i:].replace(preself, "$(LOCAL_PATH)/.."))
+         return INDENT + ("\n" + INDENT).join(includes) if includes else ""
+
     def adjustSources(self, lines):
+        for i, l in enumerate(lines):
+            j = l.find("__/")
+            if j != -1:
+                lines[i] = path.join("..", l[j+3:])
         lines[:] = [l for l in lines if "media_libva_putsurface_linux.cpp" not in l]
 
 class Main:
diff --git a/Tools/MediaDriverTools/Android/mk/cmrt.tpl b/Tools/MediaDriverTools/Android/mk/cmrt.tpl
index 470cc64b3..6af93c859 100644
--- a/Tools/MediaDriverTools/Android/mk/cmrt.tpl
+++ b/Tools/MediaDriverTools/Android/mk/cmrt.tpl
@@ -33,6 +33,12 @@ LOCAL_C_INCLUDES += \
 @LOCAL_C_INCLUDES
 
 LOCAL_CFLAGS += \
+    -Wno-implicit-fallthrough \
+    -Wno-reorder-ctor \
+    -Wno-error \
+    -Wno-unused-variable \
+    -Wno-unused-parameter \
+    -Wno-unused-private-field \
     -Wno-non-virtual-dtor \
     -DANDROID=1 \
 @LOCAL_CFLAGS
diff --git a/Tools/MediaDriverTools/Android/mk/gmm.tpl b/Tools/MediaDriverTools/Android/mk/gmm.tpl
index 863be9d2e..a5339c0e1 100644
--- a/Tools/MediaDriverTools/Android/mk/gmm.tpl
+++ b/Tools/MediaDriverTools/Android/mk/gmm.tpl
@@ -26,11 +26,20 @@ LOCAL_PROPRIETARY_MODULE := true
 LOCAL_SRC_FILES = \
 @LOCAL_SRC_FILES
 
-LOCAL_CFLAGS = \
+LOCAL_CFLAGS := \
+    -Wno-error \
+    -Wno-unused-parameter \
+    -msse2 \
+    -msse3 \
+    -mssse3 \
+    -msse4.1 \
+    -msse4.2 \
 @LOCAL_CFLAGS
 
-LOCAL_CPPFLAGS = \
-    -std=c++11
+LOCAL_CPPFLAGS := \
+    -Wno-pragma-pack \
+    -fexceptions \
+    -std=c++11 \
 
 LOCAL_C_INCLUDES = \
 @LOCAL_C_INCLUDES
diff --git a/Tools/MediaDriverTools/Android/mk/media_driver.tpl b/Tools/MediaDriverTools/Android/mk/media_driver.tpl
index f51b83d43..c494b46cd 100644
--- a/Tools/MediaDriverTools/Android/mk/media_driver.tpl
+++ b/Tools/MediaDriverTools/Android/mk/media_driver.tpl
@@ -35,16 +35,39 @@ LOCAL_SHARED_LIBRARIES := \
     liblog \
 
 
-LOCAL_STATIC_LIBRARIES = \
+LOCAL_STATIC_LIBRARIES := \
     libgmm_umd \
 
-LOCAL_CPPFLAGS = \
+LOCAL_CPPFLAGS := \
+    -Wno-delete-incomplete \
+    -Wno-implicit-fallthrough \
+    -Wno-overloaded-virtual \
+    -Wno-logical-op-parentheses \
+    -Wno-missing-braces \
+    -Wno-ignored-qualifiers \
+    -Wno-missing-field-initializers \
+    -Wno-deprecated-declarations \
+    -Wno-parentheses-equality \
+    -Wno-parentheses \
+    -Wno-reorder-ctor \
+    -Wno-comment \
+    -Wno-format \
+    -Wno-error \
+    -Wno-pragma-pack \
+    -Wno-unused-parameter \
+    -Wno-c++11-narrowing \
     -DDRV_I915 \
     -DOTC_GRALLOC \
+    -DANDROID \
     -DANDROID_VERSION=800 \
     -fexceptions \
     -frtti \
     -std=c++14 \
+    -msse2 \
+    -msse3 \
+    -mssse3 \
+    -msse4.1 \
+    -msse4.2 \
 @LOCAL_CFLAGS
 
 LOCAL_CONLYFLAGS = -x c++
diff --git a/cmrtlib/Android.mk b/cmrtlib/Android.mk
new file mode 100644
index 000000000..69c511edf
--- /dev/null
+++ b/cmrtlib/Android.mk
@@ -0,0 +1,86 @@
+# Copyright(c) 2018 Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files(the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and / or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+LOCAL_PATH:= $(call my-dir)
+
+
+$(info value of CMRT_BUILD_TYPE is: $(CMRT_BUILD_TYPE))
+$(info value of CMRT_ARCH is: $(CMRT_ARCH))
+
+include $(CLEAR_VARS)
+
+LOCAL_SRC_FILES := \
+    agnostic/hardware/cm_device.cpp \
+    agnostic/hardware/cm_device_export.cpp \
+    agnostic/hardware/cm_kernel_debugger.cpp \
+    agnostic/hardware/cm_perf_statistics.cpp \
+    agnostic/hardware/cm_queue.cpp \
+    agnostic/hardware/cm_surface_manager.cpp \
+    agnostic/hardware/cm_timer.cpp \
+    agnostic/share/cm_avs_state_msg_ex.cpp \
+    agnostic/share/cm_printf_host.cpp \
+    agnostic/share/cm_rt_helpers.cpp \
+    linux/hardware/cm_device_export_os.cpp \
+    linux/hardware/cm_device_os.cpp \
+    linux/hardware/cm_surface_manager_os.cpp \
+    linux/hardware/cm_timer_os.cpp \
+    linux/share/cm_performance.cpp \
+
+LOCAL_C_INCLUDES += \
+    $(LOCAL_PATH)/proprietary/share \
+    $(LOCAL_PATH)/agnostic/share \
+    $(LOCAL_PATH)/agnostic/hardware \
+    $(LOCAL_PATH)/linux/share \
+    $(LOCAL_PATH)/linux/hardware
+
+LOCAL_CFLAGS += \
+    -Wno-implicit-fallthrough \
+    -Wno-reorder-ctor \
+    -Wno-error \
+    -Wno-unused-variable \
+    -Wno-unused-parameter \
+    -Wno-unused-private-field \
+    -Wno-non-virtual-dtor \
+    -DANDROID=1 \
+    -DCM_RT_EXPORTS \
+    -DISTDLIB_UMD \
+    -DVPHAL \
+    -D__CT__ \
+    -Digfxcmrt_EXPORTS
+
+ifeq ($(CMRT_BUILD_TYPE), debug)
+    LOCAL_CFLAGS += \
+        -D_DEBUG \
+        -D__DEBUG \
+        -O0
+else
+    LOCAL_CFLAGS += \
+        -fno-strict-aliasing \
+        -D_FORTIFY_SOURCE=2
+endif
+
+
+LOCAL_MODULE := libigfxcmrt
+LOCAL_PROPRIETARY_MODULE := true
+
+LOCAL_LDLIBS := -lc -lva -lva-android
+LOCAL_SHARED_LIBRARIES := libc libdl libcutils liblog libutils libm libva libva-android
+
+include $(BUILD_SHARED_LIBRARY)
diff --git a/media_common/agnostic/common/cp/media_srcs.cmake b/media_common/agnostic/common/cp/media_srcs.cmake
index 646ecd382..1c548ebdf 100644
--- a/media_common/agnostic/common/cp/media_srcs.cmake
+++ b/media_common/agnostic/common/cp/media_srcs.cmake
@@ -38,4 +38,6 @@ set(COMMON_CP_DIRECTORIES_
 set(CP_INTERFACE_DIRECTORIES_
     ${CP_INTERFACE_DIRECTORIES_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_common/agnostic/common/heap_manager/media_srcs.cmake b/media_common/agnostic/common/heap_manager/media_srcs.cmake
index f882c7e7f..54650883b 100644
--- a/media_common/agnostic/common/heap_manager/media_srcs.cmake
+++ b/media_common/agnostic/common/heap_manager/media_srcs.cmake
@@ -32,6 +32,7 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "Common Files" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/hw/media_srcs.cmake b/media_common/agnostic/common/hw/media_srcs.cmake
index 3155aef53..61e479ec8 100644
--- a/media_common/agnostic/common/hw/media_srcs.cmake
+++ b/media_common/agnostic/common/hw/media_srcs.cmake
@@ -40,6 +40,12 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group("MHW" FILES ${TMP_HEADERS_})
+media_add_curr_to_include_path()
+media_include_subdirectory(vdbox)
+media_include_subdirectory(media_interfaces)
+media_include_subdirectory(os)
+media_include_subdirectory(renderhal)
+media_include_subdirectory(shared)
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/hw/vdbox/media_srcs.cmake b/media_common/agnostic/common/hw/vdbox/media_srcs.cmake
index 62d875867..baece3911 100644
--- a/media_common/agnostic/common/hw/vdbox/media_srcs.cmake
+++ b/media_common/agnostic/common/hw/vdbox/media_srcs.cmake
@@ -30,6 +30,7 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/media_interfaces/media_srcs.cmake b/media_common/agnostic/common/media_interfaces/media_srcs.cmake
index a53df43bb..b76e57cfd 100644
--- a/media_common/agnostic/common/media_interfaces/media_srcs.cmake
+++ b/media_common/agnostic/common/media_interfaces/media_srcs.cmake
@@ -34,4 +34,6 @@ set(SOFTLET_COMMON_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_common/agnostic/common/media_srcs.cmake b/media_common/agnostic/common/media_srcs.cmake
index 4c96dc832..7191460a9 100644
--- a/media_common/agnostic/common/media_srcs.cmake
+++ b/media_common/agnostic/common/media_srcs.cmake
@@ -18,12 +18,13 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
-media_include_subdirectory(os)
 media_include_subdirectory(codec)
-media_include_subdirectory(vp)
+media_include_subdirectory(cp)
 media_include_subdirectory(heap_manager)
 media_include_subdirectory(hw)
-media_include_subdirectory(shared)
 media_include_subdirectory(media_interfaces)
+media_include_subdirectory(os)
 media_include_subdirectory(renderhal)
-media_include_subdirectory(cp)
+media_include_subdirectory(shared)
+media_include_subdirectory(vp)
+
diff --git a/media_common/agnostic/common/os/media_srcs.cmake b/media_common/agnostic/common/os/media_srcs.cmake
index 9a70c04b0..ed8a2bf3c 100644
--- a/media_common/agnostic/common/os/media_srcs.cmake
+++ b/media_common/agnostic/common/os/media_srcs.cmake
@@ -39,4 +39,5 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
+media_add_curr_to_include_path()
 source_group( "mos_softlet" FILES ${TMP_HEADERS_} )
diff --git a/media_common/agnostic/common/renderhal/media_srcs.cmake b/media_common/agnostic/common/renderhal/media_srcs.cmake
index 821a1c2ac..eb5fbe949 100644
--- a/media_common/agnostic/common/renderhal/media_srcs.cmake
+++ b/media_common/agnostic/common/renderhal/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/shared/media_srcs.cmake b/media_common/agnostic/common/shared/media_srcs.cmake
index b003a5837..7e836a1f1 100644
--- a/media_common/agnostic/common/shared/media_srcs.cmake
+++ b/media_common/agnostic/common/shared/media_srcs.cmake
@@ -31,6 +31,8 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_include_subdirectory(user_setting)
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/shared/user_setting/media_srcs.cmake b/media_common/agnostic/common/shared/user_setting/media_srcs.cmake
index 0e56ba2bb..29d1a6d05 100644
--- a/media_common/agnostic/common/shared/user_setting/media_srcs.cmake
+++ b/media_common/agnostic/common/shared/user_setting/media_srcs.cmake
@@ -32,6 +32,7 @@ set(SOFTLET_COMMON_HEADERS_
     ${TMP_HEADERS_})
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/vp/hal/media_srcs.cmake b/media_common/agnostic/common/vp/hal/media_srcs.cmake
index 986cc1521..2379696f1 100644
--- a/media_common/agnostic/common/vp/hal/media_srcs.cmake
+++ b/media_common/agnostic/common/vp/hal/media_srcs.cmake
@@ -37,3 +37,5 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_common/agnostic/common/vp/kdll/media_srcs.cmake b/media_common/agnostic/common/vp/kdll/media_srcs.cmake
index dadef518c..f68cacfdf 100644
--- a/media_common/agnostic/common/vp/kdll/media_srcs.cmake
+++ b/media_common/agnostic/common/vp/kdll/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_VP_HEADERS_
 
 source_group( "VpHalNext\\Kernel DLL" FILES ${TMP_HEADERS_} )
 set(TMP_HEADERS_ "")
+media_add_curr_to_include_path()
 
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/vp/kernel/media_srcs.cmake b/media_common/agnostic/common/vp/kernel/media_srcs.cmake
index 4833778f8..2d3a36130 100755
--- a/media_common/agnostic/common/vp/kernel/media_srcs.cmake
+++ b/media_common/agnostic/common/vp/kernel/media_srcs.cmake
@@ -37,4 +37,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_common/linux/common/cp/os/media_srcs.cmake b/media_common/linux/common/cp/os/media_srcs.cmake
index 784f45abe..2869757d4 100644
--- a/media_common/linux/common/cp/os/media_srcs.cmake
+++ b/media_common/linux/common/cp/os/media_srcs.cmake
@@ -38,3 +38,4 @@ set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 endif()
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_common/linux/common/os/media_srcs.cmake b/media_common/linux/common/os/media_srcs.cmake
index e117b5e8d..828fa2060 100644
--- a/media_common/linux/common/os/media_srcs.cmake
+++ b/media_common/linux/common/os/media_srcs.cmake
@@ -44,4 +44,5 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
+media_add_curr_to_include_path()
 endif() # CMAKE_WDDM_LINUX
diff --git a/media_driver/Android.mk b/media_driver/Android.mk
new file mode 100644
index 000000000..e85b86e65
--- /dev/null
+++ b/media_driver/Android.mk
@@ -0,0 +1,1667 @@
+
+# Copyright(c) 2018 Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files(the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and / or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+LOCAL_PATH:= $(call my-dir)
+
+include $(CLEAR_VARS)
+
+LOCAL_SRC_FILES := \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG/hw/mhw_state_heap_hwcmd_xe_hpg.cpp \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG/hw/mhw_state_heap_xe_hpg.c \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/cmfcpatch/igvpkrn_xe_hpg_cmfcpatch.c \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/igvpkrn_isa_xe_hpg.c \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/igvpkrn_xe_hpg.c \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/renderhal_xe_hpg_base.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_common.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_debug.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_debug_config_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_oca_debug.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_mv_buffers.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/decode_avc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/decode_avc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_mv_buffers.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_tile_coding.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/mmc/decode_hevc_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/decode_hevc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_back_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_front_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_long.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_real_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_s2l.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_scalability_option.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream/decode_jpeg_input_bitstream.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/features/decode_jpeg_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/features/decode_jpeg_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/features/decode_jpeg_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/decode_jpeg_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/decode_jpeg_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/decode_mpeg2_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/decode_mpeg2_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/decode_mpeg2_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc/decode_mpeg2_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr/decode_allocator.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/decode_input_bitstream.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/decode_unique_id.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_marker.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_predication.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/mmc/decode_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_marker_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_predication_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_sub_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_sub_packet_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_sfc_histogram_postsubpipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_sub_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_sub_pipeline_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_multipipe_next.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_option.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/statusreport/decode_status_report.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/mmc/decode_vp9_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/decode_vp9_buffer_update.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/decode_vp9_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/decode_vp9_phase_back_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/decode_vp9_phase_front_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/decode_vp9_phase_single.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_brc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_segmentation.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_stream_in.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_vdenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_vdenc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_vdenc_lpla_enc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_av1_brc_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_av1_brc_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_av1_vdenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_back_annotation_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_brc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_cqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_dss.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_header_packer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_lpla_enc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_scc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_weighted_prediction.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_vdenc_lpla_analysis.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_arb.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_dirty.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_forcedeltaqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_forceqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_huc_forceqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_native.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_overlap.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_qpmap.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_strategy.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_hevc_tile_replay_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_hevc_vdenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_brc_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_brc_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_la_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_la_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_pak_integrate_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter/bitstream_writer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_allocator.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_recycle_res_queue.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_recycle_resource.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_tracked_buffer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_tracked_buffer_queue.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_tracked_buffer_slot.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_lpla.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/mmc/encode_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/packet/encode_huc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/packet/encode_packet_utilities.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/encode_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/encode_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/scalability/encode_scalability_multipipe.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/scalability/encode_scalability_option.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/scalability/encode_scalability_singlepipe.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/encode_status_report.cpp \
+    ../media_softlet/agnostic/common/codec/hal/shared/codec_hw_next.cpp \
+    ../media_softlet/agnostic/common/cp/encodecp.cpp \
+    ../media_softlet/agnostic/common/heap_manager/frame_tracker.cpp \
+    ../media_softlet/agnostic/common/heap_manager/heap.cpp \
+    ../media_softlet/agnostic/common/heap_manager/heap_manager.cpp \
+    ../media_softlet/agnostic/common/heap_manager/memory_block.cpp \
+    ../media_softlet/agnostic/common/heap_manager/memory_block_manager.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_block_manager.c \
+    ../media_softlet/agnostic/common/hw/mhw_blt.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_memory_pool.c \
+    ../media_softlet/agnostic/common/hw/mhw_state_heap.c \
+    ../media_softlet/agnostic/common/hw/mhw_utilities_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_cmdbufmgr_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_commandbuffer_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_context_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_gpucontext_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_gpucontextmgr_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_graphicsresource_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_oca_rtlog_mgr.cpp \
+    ../media_softlet/agnostic/common/os/mos_os.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_mock_adaptor.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_mock_adaptor_ext.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_virtualengine_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_virtualengine_scalability_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_virtualengine_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_user_setting.cpp \
+    ../media_softlet/agnostic/common/os/mos_util_debug.cpp \
+    ../media_softlet/agnostic/common/os/mos_utilities_next.cpp \
+    ../media_softlet/agnostic/common/renderhal/renderhal.cpp \
+    ../media_softlet/agnostic/common/renderhal/renderhal_platform_interface_next.cpp \
+    ../media_softlet/agnostic/common/shared/bufferMgr/media_allocator.cpp \
+    ../media_softlet/agnostic/common/shared/features/media_feature.cpp \
+    ../media_softlet/agnostic/common/shared/features/media_feature_manager.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_config_manager.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_dumper.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_fast_dump.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_interface.cpp \
+    ../media_softlet/agnostic/common/shared/media_render_common.cpp \
+    ../media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_interface.cpp \
+    ../media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_render.cpp \
+    ../media_softlet/agnostic/common/shared/media_sfc_interface/media_vdbox_sfc_render.cpp \
+    ../media_softlet/agnostic/common/shared/mediacontext/media_context.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_blt_copy_next.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_copy.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_render_copy_next.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_vebox_copy_next.cpp \
+    ../media_softlet/agnostic/common/shared/memory_policy_manager.cpp \
+    ../media_softlet/agnostic/common/shared/mmc/media_mem_compression.cpp \
+    ../media_softlet/agnostic/common/shared/mmc/media_mem_decompression_next.cpp \
+    ../media_softlet/agnostic/common/shared/null_hardware_next.cpp \
+    ../media_softlet/agnostic/common/shared/packet/media_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/shared/packet/media_packet_next.cpp \
+    ../media_softlet/agnostic/common/shared/packet/media_render_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/shared/pipeline/media_pipeline.cpp \
+    ../media_softlet/agnostic/common/shared/pipeline/media_user_setting.cpp \
+    ../media_softlet/agnostic/common/shared/profiler/media_perf_profiler.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability_factory.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability_multipipe.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/shared/statusreport/media_status_report.cpp \
+    ../media_softlet/agnostic/common/shared/task/media_cmd_task.cpp \
+    ../media_softlet/agnostic/common/shared/task/media_task.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/DepGraph.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/PatchInfoLinker.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/PatchInfoReader.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/cm_fc_ld.cpp \
+    ../media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp \
+    ../media_softlet/agnostic/common/vp/hal/bufferMgr/vp_hdr_resource_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/bufferMgr/vp_resource_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/hw_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/hw_filter_pipe.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/policy.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/sw_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/sw_filter_handle.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/sw_filter_pipe.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/vp_feature_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/vp_kernelset.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/vp_obj_factories.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_csc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_di_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_dn_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_fc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_hdr_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_hdr_render_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_procamp_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_rot_mir_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_scaling_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_ste_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_tcc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/mmc/vp_mem_compression.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_kernel_config.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_packet_pipe.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_fc_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_hdr_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_ief.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_kernel_obj.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_sfc_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_vebox_hdr_3dlut_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_vebox_hvs_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_vebox_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_vebox_cmd_packet_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_feature_report.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_packet_reuse_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline_adapter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline_adapter_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/platform_interface/vp_platform_interface.cpp \
+    ../media_softlet/agnostic/common/vp/hal/scalability/vp_scalability_option.cpp \
+    ../media_softlet/agnostic/common/vp/hal/scalability/vp_scalability_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/vp/hal/shared/scalability/vp_scalability_multipipe_next.cpp \
+    ../media_softlet/agnostic/common/vp/hal/statusreport/vp_status_report.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_debug.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_debug_config_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_debug_interface.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_dumper.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_user_feature_control.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_utils.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_visa.cpp \
+    ../media_softlet/agnostic/common/vp/hal/vp_common.c \
+    ../media_softlet/agnostic/common/vp/kdll/hal_kerneldll_next.c \
+    ../media_softlet/agnostic/common/vp/kdll/hal_kernelrules_next.c \
+    ../media_softlet/linux/common/cp/decodecp_interface.cpp \
+    ../media_softlet/linux/common/media_interfaces/media_interfaces_next.cpp \
+    ../media_softlet/linux/common/os/i915/mos_bufmgr_api.c \
+    ../media_softlet/linux/common/os/i915/xf86drm.c \
+    ../media_softlet/linux/common/os/i915/xf86drmHash.c \
+    ../media_softlet/linux/common/os/i915/xf86drmMode.c \
+    ../media_softlet/linux/common/os/i915/xf86drmRandom.c \
+    ../media_softlet/linux/common/os/i915_production/mos_bufmgr.c \
+    ../media_softlet/linux/common/os/i915_production/mos_bufmgr_prelim.cpp \
+    ../media_softlet/linux/common/os/mos_commandbuffer_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_context_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_decompression_base.cpp \
+    ../media_softlet/linux/common/os/mos_gpucontext_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_gpucontext_specific_next_ext.cpp \
+    ../media_softlet/linux/common/os/mos_graphicsresource_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_mediacopy_base.cpp \
+    ../media_softlet/linux/common/os/mos_oca_rtlog_mgr_specific.cpp \
+    ../media_softlet/linux/common/os/mos_os_mock_adaptor_specific.cpp \
+    ../media_softlet/linux/common/os/mos_os_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_os_virtualengine_scalability_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_os_virtualengine_singlepipe_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_user_setting_specific.cpp \
+    ../media_softlet/linux/common/os/mos_vma.c \
+    ../media_softlet/linux/common/os/osservice/mos_util_debug_specific.cpp \
+    ../media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp \
+    ../media_softlet/linux/common/shared/hal_oca_interface_next.cpp \
+    ../media_softlet/linux/common/shared/skuwa_dumper_specific.c \
+    ../media_softlet/linux/common/shared/user_setting/media_user_setting_configure_specific.cpp \
+    ../media_softlet/linux/common/vp/hal/vphal_common_specific_next.c \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_decode_vc1_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_hw_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_kernel_olp_mdf_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_mmc_encode_avc_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_vdenc_avc_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_vdenc_vp9_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/kernel/XE_HPM_VC1_OLP.c \
+    agnostic/Xe_M/Xe_HPM/codec/kernel/Xe_Hpm_Film_Grain.c \
+    agnostic/Xe_M/Xe_HPM/hw/mhw_vebox_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/hw/vdbox/mhw_vdbox_avp_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/hw/vdbox/mhw_vdbox_huc_hwcmd_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/vp/hal/vphal_render_vebox_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/vp/hal/vphal_renderer_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/vp/hal/vphal_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_M_base/shared/media_user_settings_mgr_g12_plus.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/hal/codechal_decode_vc1_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/hal/codechal_hw_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/hal/codechal_kernel_olp_mdf_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/kernelisa/Xe_XPM_Film_Grain.c \
+    agnostic/Xe_M/Xe_XPM/codec/kernelisa/Xe_XPM_VC1_OLP.c \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_mi_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_sfc_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_sfc_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_state_heap_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_state_heap_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_vebox_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_vebox_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_avp_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_avp_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_hcp_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_hcp_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_mfx_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_mfx_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_debug_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_composite_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_sfc_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_vebox_memdecomp_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_vebox_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_vebox_xe_xpm_denoise.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_renderer_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/kdll/hal_kerneldll_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/vp/kdll/hal_kernelrules_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/igvpkrn_xe_xpm_cmfcpatch.c \
+    agnostic/Xe_M/Xe_XPM/vp/kernel/igvpkrn_isa_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/vp/kernel/igvpkrn_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM_plus/codec/hal/codechal_hw_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/codec/kernel/Xe_XPM_plus_Film_Grain.c \
+    agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/mhw_vdbox_huc_hwcmd_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/shared/renderhal_memdecomp.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/hal/vphal_render_composite_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/hal/vphal_renderer_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/hal/vphal_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kdll/hal_kerneldll_xe_xpm_plus.c \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kdll/hal_kernelrules_xe_xpm_plus.c \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/igvpkrn_xe_xpm_plus_cmfcpatch.c \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kernel/igvpkrn_xe_xpm_plus.c \
+    agnostic/Xe_R/Xe_HP/hw/render/mhw_render_xe_hp.cpp \
+    agnostic/Xe_R/Xe_HPC/hw/blt/mhw_blt_xe_hpc.cpp \
+    agnostic/Xe_R/Xe_HPC/hw/render/mhw_render_xe_hpc.cpp \
+    agnostic/Xe_R/Xe_HPG/hw/render/mhw_render_xe_hpg.cpp \
+    agnostic/Xe_R/Xe_HP_base/hw/blt/mhw_blt_xe_hp_base.cpp \
+    agnostic/Xe_R/Xe_HP_base/hw/render/mhw_render_hwcmd_xe_hp_base.cpp \
+    agnostic/Xe_R/Xe_HP_base/hw/render/mhw_render_xe_hp_base.cpp \
+    agnostic/common/cm/cm_array.cpp \
+    agnostic/common/cm/cm_buffer_rt.cpp \
+    agnostic/common/cm/cm_command_buffer.cpp \
+    agnostic/common/cm/cm_def.cpp \
+    agnostic/common/cm/cm_device_rt_base.cpp \
+    agnostic/common/cm/cm_dsh.cpp \
+    agnostic/common/cm/cm_event_ex_base.cpp \
+    agnostic/common/cm/cm_event_rt.cpp \
+    agnostic/common/cm/cm_execution_adv.cpp \
+    agnostic/common/cm/cm_global_api.cpp \
+    agnostic/common/cm/cm_group_space.cpp \
+    agnostic/common/cm/cm_hal.cpp \
+    agnostic/common/cm/cm_hal_dump.cpp \
+    agnostic/common/cm/cm_hal_hashtable.cpp \
+    agnostic/common/cm/cm_hal_vebox.cpp \
+    agnostic/common/cm/cm_ish_base.cpp \
+    agnostic/common/cm/cm_kernel_data.cpp \
+    agnostic/common/cm/cm_kernel_ex.cpp \
+    agnostic/common/cm/cm_kernel_rt.cpp \
+    agnostic/common/cm/cm_log.cpp \
+    agnostic/common/cm/cm_media_state.cpp \
+    agnostic/common/cm/cm_mem.cpp \
+    agnostic/common/cm/cm_mem_c_impl.cpp \
+    agnostic/common/cm/cm_mem_sse2_impl.cpp \
+    agnostic/common/cm/cm_perf.cpp \
+    agnostic/common/cm/cm_printf_host.cpp \
+    agnostic/common/cm/cm_program.cpp \
+    agnostic/common/cm/cm_queue_rt.cpp \
+    agnostic/common/cm/cm_sampler8x8_state_rt.cpp \
+    agnostic/common/cm/cm_sampler_rt.cpp \
+    agnostic/common/cm/cm_scratch_space.cpp \
+    agnostic/common/cm/cm_ssh.cpp \
+    agnostic/common/cm/cm_state_buffer.cpp \
+    agnostic/common/cm/cm_surface.cpp \
+    agnostic/common/cm/cm_surface_2d_rt_base.cpp \
+    agnostic/common/cm/cm_surface_2d_up_rt.cpp \
+    agnostic/common/cm/cm_surface_3d_rt.cpp \
+    agnostic/common/cm/cm_surface_manager_base.cpp \
+    agnostic/common/cm/cm_surface_sampler.cpp \
+    agnostic/common/cm/cm_surface_sampler8x8.cpp \
+    agnostic/common/cm/cm_surface_state.cpp \
+    agnostic/common/cm/cm_surface_state_manager.cpp \
+    agnostic/common/cm/cm_surface_vme.cpp \
+    agnostic/common/cm/cm_task_internal.cpp \
+    agnostic/common/cm/cm_task_rt.cpp \
+    agnostic/common/cm/cm_thread_space_rt.cpp \
+    agnostic/common/cm/cm_tracker.cpp \
+    agnostic/common/cm/cm_vebox_data.cpp \
+    agnostic/common/cm/cm_vebox_rt.cpp \
+    agnostic/common/cm/cm_visa.cpp \
+    agnostic/common/cm/cm_wrapper.cpp \
+    agnostic/common/codec/hal/codechal_allocator.cpp \
+    agnostic/common/codec/hal/codechal_debug_encode_par.cpp \
+    agnostic/common/codec/hal/codechal_debug_misc.cpp \
+    agnostic/common/codec/hal/codechal_decode_avc.cpp \
+    agnostic/common/codec/hal/codechal_decode_downsampling.cpp \
+    agnostic/common/codec/hal/codechal_decode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_decode_histogram.cpp \
+    agnostic/common/codec/hal/codechal_decode_histogram_vebox.cpp \
+    agnostic/common/codec/hal/codechal_decode_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_decode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_decode_nv12top010.cpp \
+    agnostic/common/codec/hal/codechal_decode_scalability.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc_avc.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc_hevc.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_decode_singlepipe_virtualengine.cpp \
+    agnostic/common/codec/hal/codechal_decode_vc1.cpp \
+    agnostic/common/codec/hal/codechal_decode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_decode_vp9.cpp \
+    agnostic/common/codec/hal/codechal_decoder.cpp \
+    agnostic/common/codec/hal/codechal_encode_allocator.cpp \
+    agnostic/common/codec/hal/codechal_encode_avc.cpp \
+    agnostic/common/codec/hal/codechal_encode_avc_base.cpp \
+    agnostic/common/codec/hal/codechal_encode_csc_ds.cpp \
+    agnostic/common/codec/hal/codechal_encode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_encode_hevc_base.cpp \
+    agnostic/common/codec/hal/codechal_encode_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_encode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_encode_scalability.cpp \
+    agnostic/common/codec/hal/codechal_encode_sfc_base.cpp \
+    agnostic/common/codec/hal/codechal_encode_singlepipe_virtualengine.cpp \
+    agnostic/common/codec/hal/codechal_encode_sw_scoreboard.cpp \
+    agnostic/common/codec/hal/codechal_encode_tracked_buffer.cpp \
+    agnostic/common/codec/hal/codechal_encode_tracked_buffer_hevc.cpp \
+    agnostic/common/codec/hal/codechal_encode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_encode_wp.cpp \
+    agnostic/common/codec/hal/codechal_encoder_base.cpp \
+    agnostic/common/codec/hal/codechal_huc_cmd_initializer.cpp \
+    agnostic/common/codec/hal/codechal_hw.cpp \
+    agnostic/common/codec/hal/codechal_kernel_base.cpp \
+    agnostic/common/codec/hal/codechal_kernel_hme.cpp \
+    agnostic/common/codec/hal/codechal_kernel_intra_dist.cpp \
+    agnostic/common/codec/hal/codechal_memdecomp.cpp \
+    agnostic/common/codec/hal/codechal_mmc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_avc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_vc1.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_vp9.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_avc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_vp9.cpp \
+    agnostic/common/codec/hal/codechal_utilities.cpp \
+    agnostic/common/codec/hal/codechal_vdenc_avc.cpp \
+    agnostic/common/codec/hal/codechal_vdenc_hevc.cpp \
+    agnostic/common/codec/hal/codechal_vdenc_vp9_base.cpp \
+    agnostic/common/hw/mhw_blt_legacy.cpp \
+    agnostic/common/hw/mhw_mi.cpp \
+    agnostic/common/hw/mhw_render_legacy.c \
+    agnostic/common/hw/mhw_sfc.cpp \
+    agnostic/common/hw/mhw_state_heap_legacy.c \
+    agnostic/common/hw/mhw_utilities.c \
+    agnostic/common/hw/mhw_vebox.cpp \
+    agnostic/common/hw/mhw_vebox_hwcmd_g9_X.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_hcp_interface.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_huc_interface.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_mfx_interface.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_vdenc_interface.cpp \
+    agnostic/common/os/mos_cmdbufmgr.cpp \
+    agnostic/common/os/mos_commandbuffer.cpp \
+    agnostic/common/os/mos_context.cpp \
+    agnostic/common/os/mos_gpucontext.cpp \
+    agnostic/common/os/mos_gpucontextmgr.cpp \
+    agnostic/common/os/mos_graphicsresource.cpp \
+    agnostic/common/os/mos_os_virtualengine.cpp \
+    agnostic/common/os/mos_os_virtualengine_scalability.cpp \
+    agnostic/common/os/mos_os_virtualengine_singlepipe.cpp \
+    agnostic/common/os/mos_util_user_interface.cpp \
+    agnostic/common/os/mos_utilities.cpp \
+    agnostic/common/os/mos_utilities_usersetting.cpp \
+    agnostic/common/renderhal/renderhal_common.cpp \
+    agnostic/common/renderhal/renderhal_dsh.cpp \
+    agnostic/common/renderhal/renderhal_legacy.cpp \
+    agnostic/common/renderhal/renderhal_platform_interface_legacy.cpp \
+    agnostic/common/shared/media_debug_interface_misc.cpp \
+    agnostic/common/shared/media_perf_profiler_legacy.cpp \
+    agnostic/common/shared/media_user_settings_mgr.cpp \
+    agnostic/common/shared/mediacopy/media_blt_copy.cpp \
+    agnostic/common/shared/mediacopy/media_render_copy.cpp \
+    agnostic/common/shared/mediacopy/media_vebox_copy.cpp \
+    agnostic/common/shared/null_hardware.cpp \
+    agnostic/common/shared/user_setting/media_user_setting.cpp \
+    agnostic/common/shared/user_setting/media_user_setting_configure.cpp \
+    agnostic/common/shared/user_setting/media_user_setting_definition.cpp \
+    agnostic/common/shared/user_setting/media_user_setting_value.cpp \
+    agnostic/common/vp/hal/vphal.cpp \
+    agnostic/common/vp/hal/vphal_common.c \
+    agnostic/common/vp/hal/vphal_ddi.c \
+    agnostic/common/vp/hal/vphal_debug.c \
+    agnostic/common/vp/hal/vphal_mdf_wrapper.cpp \
+    agnostic/common/vp/hal/vphal_render_16alignment.cpp \
+    agnostic/common/vp/hal/vphal_render_common.c \
+    agnostic/common/vp/hal/vphal_render_composite.cpp \
+    agnostic/common/vp/hal/vphal_render_fast1ton.cpp \
+    agnostic/common/vp/hal/vphal_render_hdr_base.cpp \
+    agnostic/common/vp/hal/vphal_render_hdr_g11.cpp \
+    agnostic/common/vp/hal/vphal_render_hdr_g9_base.cpp \
+    agnostic/common/vp/hal/vphal_render_ief.cpp \
+    agnostic/common/vp/hal/vphal_render_renderstate.cpp \
+    agnostic/common/vp/hal/vphal_render_sfc_base.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_base.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_denoise.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_iecp.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_memdecomp.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_procamp.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_ste.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_tcc.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_util_base.c \
+    agnostic/common/vp/hal/vphal_renderer.cpp \
+    agnostic/common/vp/kdll/hal_kerneldll.c \
+    agnostic/g12/g12_base/hw/render/mhw_render_g12_X.cpp \
+    agnostic/g12/g12_base/hw/render/mhw_render_hwcmd_g12_X.cpp \
+    agnostic/gen10/cm/cm_hal_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_debug_encode_par_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_decode_downsampling_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_decode_histogram_vebox_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_decode_nv12top010_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_decode_nv12top010_kernel_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_decode_vc1_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_avc_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_csc_ds_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_hevc_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_hevc_table_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_mpeg2_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_vp8_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_encode_wp_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_hw_g10_X.cpp \
+    agnostic/gen10/codec/hal/codechal_kernel_hme_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_memdecomp_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_vdenc_avc_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_vdenc_hevc_g10.cpp \
+    agnostic/gen10/codec/hal/codechal_vdenc_vp9_g10.cpp \
+    agnostic/gen10/codec/kernel/igcodeckrn_g10.c \
+    agnostic/gen10/hw/mhw_mi_g10_X.cpp \
+    agnostic/gen10/hw/mhw_mi_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/mhw_render_g10_X.cpp \
+    agnostic/gen10/hw/mhw_render_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/mhw_sfc_g10_X.cpp \
+    agnostic/gen10/hw/mhw_sfc_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/mhw_state_heap_g10.c \
+    agnostic/gen10/hw/mhw_state_heap_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/mhw_vebox_g10_X.cpp \
+    agnostic/gen10/hw/mhw_vebox_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_hcp_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_hcp_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_huc_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_huc_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_mfx_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_mfx_hwcmd_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_vdenc_g10_X.cpp \
+    agnostic/gen10/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g10_X.cpp \
+    agnostic/gen10/renderhal/renderhal_g10.cpp \
+    agnostic/gen10/vp/hal/vphal_g10.cpp \
+    agnostic/gen10/vp/hal/vphal_render_composite_g10.cpp \
+    agnostic/gen10/vp/hal/vphal_render_sfc_g10_base.cpp \
+    agnostic/gen10/vp/hal/vphal_render_vebox_g10_base.cpp \
+    agnostic/gen10/vp/hal/vphal_renderer_g10.cpp \
+    agnostic/gen10/vp/kdll/hal_kernelrules_g10.c \
+    agnostic/gen10/vp/kernel/igvpkrn_g10.c \
+    agnostic/gen11/cm/cm_hal_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_debug_encode_par_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_avc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_hevc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_histogram_vebox_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_jpeg_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_mpeg2_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_vc1_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_vp8_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_vp9_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_avc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_csc_ds_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_hevc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_hevc_table_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_jpeg_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_mpeg2_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_sfc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_sw_scoreboard_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_vp8_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_wp_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_huc_cmd_initializer_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_hw_g11_X.cpp \
+    agnostic/gen11/codec/hal/codechal_kernel_hme_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_vdenc_avc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_vdenc_hevc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_vdenc_vp9_g11.cpp \
+    agnostic/gen11/codec/kernel/igcodeckrn_g11.c \
+    agnostic/gen11/hw/mhw_mi_g11_X.cpp \
+    agnostic/gen11/hw/mhw_mi_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_render_g11_X.cpp \
+    agnostic/gen11/hw/mhw_render_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_sfc_g11_X.cpp \
+    agnostic/gen11/hw/mhw_sfc_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_state_heap_g11.c \
+    agnostic/gen11/hw/mhw_state_heap_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_vebox_g11_X.cpp \
+    agnostic/gen11/hw/mhw_vebox_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_hcp_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_hcp_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_huc_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_huc_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_mfx_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_mfx_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g11_X.cpp \
+    agnostic/gen11/renderhal/renderhal_g11.cpp \
+    agnostic/gen11/vp/hal/vphal_render_composite_g11.cpp \
+    agnostic/gen11/vp/hal/vphal_render_sfc_g11_base.cpp \
+    agnostic/gen11/vp/hal/vphal_render_vebox_g11_base.cpp \
+    agnostic/gen11/vp/hal/vphal_renderer_g11.cpp \
+    agnostic/gen11/vp/kdll/hal_kernelrules_g11.c \
+    agnostic/gen11_icllp/codec/hal/codechal_decode_downsampling_g11_icllp.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_encode_avc_g11_lp.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_encode_jpeg_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_memdecomp_g11_icllp.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_vdenc_avc_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_vdenc_hevc_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_vdenc_vp9_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/kernel/igcodeckrn_g11_icllp.c \
+    agnostic/gen11_icllp/vp/hal/vphal_g11_icllp.cpp \
+    agnostic/gen11_icllp/vp/hal/vphal_renderer_g11_icllp.cpp \
+    agnostic/gen11_icllp/vp/kernel/igvpkrn_g11_icllp.c \
+    agnostic/gen11_icllp/vp/kernel/igvpkrn_isa_g11_icllp.c \
+    agnostic/gen11_jsl_ehl/renderhal/renderhal_g11_jsl_ehl.cpp \
+    agnostic/gen11_jsl_ehl/vp/hal/vphal_g11_jsl_ehl.cpp \
+    agnostic/gen11_jsl_ehl/vp/hal/vphal_renderer_g11_jsl_ehl.cpp \
+    agnostic/gen12/cm/cm_hal_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_debug_encode_par_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_downsampling_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_hevc_long_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_histogram_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_scalability_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_vc1_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_vp8_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_csc_ds_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_csc_ds_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_brc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_mbenc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_table_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_sfc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_sw_scoreboard_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_sw_scoreboard_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_wp_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_wp_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_hw_g12_X.cpp \
+    agnostic/gen12/codec/hal/codechal_kernel_hme_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_kernel_hme_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_kernel_intra_dist_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vc1_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vc1_g12_ext.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vp8_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_vdenc_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_vdenc_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_vdenc_vp9_g12.cpp \
+    agnostic/gen12/codec/kernel/igcodeckrn_g12.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_CoarseIntra_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_DS_Convert_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_Init_Scoreboard_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_WeightedPrediction_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_hme_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_INIT.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_LCUQP.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_RESET.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_UPDATE.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_B_LCU32.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_B_LCU64.c \
+    agnostic/gen12/hw/mhw_mi_g12_X.cpp \
+    agnostic/gen12/hw/mhw_mi_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/mhw_sfc_g12_X.cpp \
+    agnostic/gen12/hw/mhw_sfc_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/mhw_state_heap_g12.c \
+    agnostic/gen12/hw/mhw_state_heap_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/mhw_vebox_g12_X.cpp \
+    agnostic/gen12/hw/mhw_vebox_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_avp_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_avp_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_avp_interface.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_hcp_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_hcp_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_huc_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_huc_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_mfx_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_mfx_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g12_X.cpp \
+    agnostic/gen12/shared/media_user_settings_mgr_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_render_composite_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_render_hdr_3dlut_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_render_sfc_g12_base.cpp \
+    agnostic/gen12/vp/hal/vphal_render_vebox_g12_base.cpp \
+    agnostic/gen12/vp/hal/vphal_render_vebox_memdecomp_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_renderer_g12.cpp \
+    agnostic/gen12_tgllp/vp/hal/vphal_g12_tgllp.cpp \
+    agnostic/gen12_tgllp/vp/hal/vphal_renderer_g12_tgllp.cpp \
+    agnostic/gen12_tgllp/vp/kdll/hal_kernelrules_g12lp.c \
+    agnostic/gen12_tgllp/vp/kdll/hal_kernelrules_g12lpcmfc.c \
+    agnostic/gen12_tgllp/vp/kernel/cmfc/igvpkrn_g12_tgllp_cmfc.c \
+    agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/igvpkrn_g12_tgllp_cmfccmlpch.c \
+    agnostic/gen12_tgllp/vp/kernel/cmfcpatch/igvpkrn_g12_tgllp_cmfcpatch.c \
+    agnostic/gen12_tgllp/vp/kernel/igvpkrn_isa_g12_tgllp.c \
+    agnostic/gen8/cm/cm_hal_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_decode_vc1_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_avc_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_csc_ds_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_mpeg2_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_wp_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_fei_avc_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_hw_g8_X.cpp \
+    agnostic/gen8/codec/hal/codechal_kernel_hme_g8.cpp \
+    agnostic/gen8/codec/kernel/igcodeckrn_g8.c \
+    agnostic/gen8/hw/mhw_mi_g8_X.cpp \
+    agnostic/gen8/hw/mhw_mi_hwcmd_g8_X.cpp \
+    agnostic/gen8/hw/mhw_render_g8_X.cpp \
+    agnostic/gen8/hw/mhw_render_hwcmd_g8_X.cpp \
+    agnostic/gen8/hw/mhw_state_heap_g8.c \
+    agnostic/gen8/hw/mhw_state_heap_hwcmd_g8_X.cpp \
+    agnostic/gen8/hw/mhw_vebox_g8_X.cpp \
+    agnostic/gen8/hw/mhw_vebox_hwcmd_g8_X.cpp \
+    agnostic/gen8/renderhal/renderhal_g8.cpp \
+    agnostic/gen8/vp/hal/vphal_g8.cpp \
+    agnostic/gen8/vp/hal/vphal_render_composite_g8.cpp \
+    agnostic/gen8/vp/hal/vphal_render_vebox_g8_base.cpp \
+    agnostic/gen8/vp/hal/vphal_renderer_g8.cpp \
+    agnostic/gen8/vp/kdll/hal_kerneldll_g8.c \
+    agnostic/gen8/vp/kdll/hal_kernelrules_g8.c \
+    agnostic/gen8/vp/kernel/igvpkrn_g8.c \
+    agnostic/gen8_bdw/hw/vdbox/mhw_vdbox_mfx_g8_bdw.cpp \
+    agnostic/gen8_bdw/hw/vdbox/mhw_vdbox_mfx_hwcmd_g8_bdw.cpp \
+    agnostic/gen9/cm/cm_hal_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_debug_encode_par_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_downsampling_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_histogram_vebox_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_nv12top010_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_nv12top010_kernel_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_vc1_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_avc_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_csc_ds_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_hevc_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_mpeg2_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_vp8_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_wp_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_fei_avc_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_hw_g9_X.cpp \
+    agnostic/gen9/codec/hal/codechal_kernel_hme_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_memdecomp_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_vdenc_avc_g9.cpp \
+    agnostic/gen9/codec/kernel/igcodeckrn_g9.c \
+    agnostic/gen9/hw/mhw_mi_g9_X.cpp \
+    agnostic/gen9/hw/mhw_mi_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_render_g9_X.cpp \
+    agnostic/gen9/hw/mhw_render_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_sfc_g9_X.cpp \
+    agnostic/gen9/hw/mhw_sfc_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_state_heap_g9.c \
+    agnostic/gen9/hw/mhw_state_heap_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_vebox_g9_X.cpp \
+    agnostic/gen9/renderhal/renderhal_g9.cpp \
+    agnostic/gen9/vp/hal/vphal_g9.cpp \
+    agnostic/gen9/vp/hal/vphal_render_composite_g9.cpp \
+    agnostic/gen9/vp/hal/vphal_render_sfc_g9_base.cpp \
+    agnostic/gen9/vp/hal/vphal_render_vebox_g9_base.cpp \
+    agnostic/gen9/vp/hal/vphal_renderer_g9.cpp \
+    agnostic/gen9/vp/kdll/hal_kernelrules_g9.c \
+    agnostic/gen9/vp/kernel/igvpkrn_g9.c \
+    agnostic/gen9/vp/kernel/igvpkrn_isa_g9.c \
+    agnostic/gen9_bxt/codec/hal/codechal_decode_nv12top010_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_decode_nv12top010_kernel_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_encode_avc_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_encode_hevc_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_hw_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_vdenc_avc_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/kernel/igcodeckrn_g9_bxt.c \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_hcp_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_huc_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_mfx_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_mfx_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_vdenc_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/vp/hal/vphal_g9_bxt.cpp \
+    agnostic/gen9_cml/vp/kernel/igvpkrn_g9_cml.c \
+    agnostic/gen9_cml/vp/kernel/tgp/igvpkrn_g9_cml_tgp.c \
+    agnostic/gen9_cmpv/vp/kernel/igvpkrn_g9_cmpv.c \
+    agnostic/gen9_glk/codec/hal/codechal_decode_nv12top010_g9_glk.cpp \
+    agnostic/gen9_glk/codec/hal/codechal_decode_nv12top010_kernel_g9_glk.cpp \
+    agnostic/gen9_glk/codec/hal/codechal_encode_hevc_g9_glk.cpp \
+    agnostic/gen9_glk/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_glk.cpp \
+    agnostic/gen9_glk/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_glk.cpp \
+    agnostic/gen9_glk/vp/hal/vphal_g9_glk.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_encode_avc_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_encode_hevc_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_hw_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_vdenc_avc_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/kernel/igcodeckrn_g9_kbl.c \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_hcp_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_huc_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_mfx_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_mfx_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_vdenc_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/AvcEncFei_Mfe_gen9.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernelBase.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_DownScaling.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_16x16Mode.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_16x16Sad.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_32x32.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_8x8.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_8x8Mode.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_PB_32x32.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_PB_8x8MbEnc.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_PB_8x8Pak.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/HevcEncFei_I_gen9.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/HevcEncFei_PB_gen9.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/Hme_Downscale_gen9.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_encode_avc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_encode_hevc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_encode_mpeg2_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_fei_avc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_fei_hevc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_vdenc_avc_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_hcp_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_huc_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_mfx_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_mfx_hwcmd_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_vdenc_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g9_skl.cpp \
+    linux/Xe_M/ddi/media_libva_caps_dg2.cpp \
+    linux/Xe_M/ddi/media_libva_caps_pvc.cpp \
+    linux/Xe_M/ddi/media_libva_caps_xehp_sdv.cpp \
+    linux/Xe_M/ddi/media_sku_wa_xe.cpp \
+    linux/Xe_M/ddi/media_sysinfo_xe.cpp \
+    linux/common/cm/ddi/media_libva_cm.c \
+    linux/common/cm/hal/cm_command_buffer_os.cpp \
+    linux/common/cm/hal/cm_debug_os.cpp \
+    linux/common/cm/hal/cm_device_rt.cpp \
+    linux/common/cm/hal/cm_event_ex.cpp \
+    linux/common/cm/hal/cm_event_rt_os.cpp \
+    linux/common/cm/hal/cm_ftrace.cpp \
+    linux/common/cm/hal/cm_global_api_os.cpp \
+    linux/common/cm/hal/cm_hal_os.cpp \
+    linux/common/cm/hal/cm_queue_rt_os.cpp \
+    linux/common/cm/hal/cm_surface_2d_rt.cpp \
+    linux/common/cm/hal/cm_surface_2d_wrapper.cpp \
+    linux/common/cm/hal/cm_surface_manager.cpp \
+    linux/common/cm/hal/cm_surface_state_manager_os.cpp \
+    linux/common/cm/hal/cm_task_internal_os.cpp \
+    linux/common/cm/hal/cm_task_rt_os.cpp \
+    linux/common/cm/hal/cm_wrapper_os.cpp \
+    linux/common/cm/hal/osservice/cm_ish.cpp \
+    linux/common/cm/hal/osservice/cm_mem_os.cpp \
+    linux/common/cm/hal/osservice/cm_mem_os_c_impl.cpp \
+    linux/common/cm/hal/osservice/cm_mem_os_sse4_impl.cpp \
+    linux/common/codec/ddi/media_ddi_decode_av1.cpp \
+    linux/common/codec/ddi/media_ddi_decode_avc.cpp \
+    linux/common/codec/ddi/media_ddi_decode_base.cpp \
+    linux/common/codec/ddi/media_ddi_decode_hevc.cpp \
+    linux/common/codec/ddi/media_ddi_decode_jpeg.cpp \
+    linux/common/codec/ddi/media_ddi_decode_mpeg2.cpp \
+    linux/common/codec/ddi/media_ddi_decode_vc1.cpp \
+    linux/common/codec/ddi/media_ddi_decode_vp8.cpp \
+    linux/common/codec/ddi/media_ddi_decode_vp9.cpp \
+    linux/common/codec/ddi/media_ddi_encode_av1.cpp \
+    linux/common/codec/ddi/media_ddi_encode_avc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_base.cpp \
+    linux/common/codec/ddi/media_ddi_encode_fei_avc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_fei_hevc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_hevc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_jpeg.cpp \
+    linux/common/codec/ddi/media_ddi_encode_mpeg2.cpp \
+    linux/common/codec/ddi/media_ddi_encode_vp8.cpp \
+    linux/common/codec/ddi/media_ddi_encode_vp9.cpp \
+    linux/common/codec/ddi/media_libva_decoder.cpp \
+    linux/common/codec/ddi/media_libva_encoder.cpp \
+    linux/common/codec/ddi/media_libvpx_vp9.cpp \
+    linux/common/codec/hal/codechal_secure_decode_interface.cpp \
+    linux/common/cp/ddi/media_ddi_prot.cpp \
+    linux/common/cp/ddi/media_libva_caps_cp_interface.cpp \
+    linux/common/cp/ddi/media_libva_cp_interface.cpp \
+    linux/common/cp/hw/mhw_cp_interface.cpp \
+    linux/common/cp/os/mos_os_cp_interface_specific.cpp \
+    linux/common/ddi/media_ddi_base.cpp \
+    linux/common/ddi/media_libva.cpp \
+    linux/common/ddi/media_libva_apo_decision.cpp \
+    linux/common/ddi/media_libva_caps.cpp \
+    linux/common/ddi/media_libva_common.cpp \
+    linux/common/ddi/media_libva_util.cpp \
+    linux/common/hw/mhw_mi_linux.cpp \
+    linux/common/media_interfaces/media_interfaces.cpp \
+    linux/common/os/hwinfo_linux.c \
+    linux/common/os/memory_policy_manager_specific.cpp \
+    linux/common/os/mos_auxtable_mgr.cpp \
+    linux/common/os/mos_commandbuffer_specific.cpp \
+    linux/common/os/mos_context_specific.cpp \
+    linux/common/os/mos_decompression.cpp \
+    linux/common/os/mos_gpucontext_specific.cpp \
+    linux/common/os/mos_gpucontext_specific_ext.cpp \
+    linux/common/os/mos_graphicsresource_specific.cpp \
+    linux/common/os/mos_interface.cpp \
+    linux/common/os/mos_mediacopy.cpp \
+    linux/common/os/mos_oca_specific.cpp \
+    linux/common/os/mos_os_specific.c \
+    linux/common/os/mos_os_virtualengine_scalability_specific.cpp \
+    linux/common/os/mos_os_virtualengine_singlepipe_specific.cpp \
+    linux/common/os/mos_util_devult_specific.cpp \
+    linux/common/os/mos_utilities_specific_usersetting.cpp \
+    linux/common/renderhal/renderhal_dsh_specific.c \
+    linux/common/renderhal/renderhal_linux.cpp \
+    linux/common/shared/hal_oca_interface.cpp \
+    linux/common/shared/skuwa_dump_specific.c \
+    linux/common/vp/ddi/media_libva_vp.c \
+    linux/common/vp/ddi/media_libva_vp_tools.c \
+    linux/common/vp/hal/vphal_common_specific.c \
+    linux/common/vp/hal/vphal_render_common_specific.c \
+    linux/gen10/ddi/media_libva_caps_g10.cpp \
+    linux/gen10/ddi/media_sku_wa_g10.cpp \
+    linux/gen10/ddi/media_sysinfo_g10.cpp \
+    linux/gen10_cnl/ddi/media_libva_caps_g10_cnl.cpp \
+    linux/gen11/codec/ddi/media_ddi_decode_hevc_g11.cpp \
+    linux/gen11/ddi/media_libva_caps_g11.cpp \
+    linux/gen11/ddi/media_sku_wa_g11.cpp \
+    linux/gen11/ddi/media_sysinfo_g11.cpp \
+    linux/gen12/codec/ddi/media_ddi_decode_hevc_g12.cpp \
+    linux/gen12/ddi/media_libva_caps_g12.cpp \
+    linux/gen12/ddi/media_sku_wa_g12.cpp \
+    linux/gen12/ddi/media_sysinfo_g12.cpp \
+    linux/gen8/ddi/media_libva_caps_g8.cpp \
+    linux/gen8/ddi/media_sku_wa_g8.cpp \
+    linux/gen8/ddi/media_sysinfo_g8.cpp \
+    linux/gen9/ddi/media_libva_caps_g9.cpp \
+    linux/gen9/ddi/media_sku_wa_g9.cpp \
+    linux/gen9/ddi/media_sysinfo_g9.cpp \
+    linux/gen9_bxt/ddi/media_libva_caps_g9_bxt.cpp \
+    linux/gen9_cfl/ddi/media_libva_caps_g9_cfl.cpp \
+    linux/gen9_glk/ddi/media_libva_caps_g9_glk.cpp \
+    linux/gen9_kbl/ddi/media_libva_caps_g9_kbl.cpp \
+    linux/gen9_skl/ddi/media_libva_caps_g9_skl.cpp \
+    media_interface/media_interfaces_dg2/media_interfaces_dg2.cpp \
+    media_interface/media_interfaces_m10_cnl/media_interfaces_g10_cnl.cpp \
+    media_interface/media_interfaces_m11_icllp/media_interfaces_g11_icllp.cpp \
+    media_interface/media_interfaces_m11_jsl_ehl/media_interfaces_g11_jsl_ehl.cpp \
+    media_interface/media_interfaces_m12_adln/media_interfaces_g12_adln.cpp \
+    media_interface/media_interfaces_m12_adlp/media_interfaces_g12_adlp.cpp \
+    media_interface/media_interfaces_m12_adls/media_interfaces_g12_adls.cpp \
+    media_interface/media_interfaces_m12_dg1/media_interfaces_g12_dg1.cpp \
+    media_interface/media_interfaces_m12_rkl/media_interfaces_g12_rkl.cpp \
+    media_interface/media_interfaces_m12_tgllp/media_interfaces_g12_tgllp.cpp \
+    media_interface/media_interfaces_m8_bdw/media_interfaces_g8_bdw.cpp \
+    media_interface/media_interfaces_m9_bxt/media_interfaces_g9_bxt.cpp \
+    media_interface/media_interfaces_m9_cfl/media_interfaces_g9_cfl.cpp \
+    media_interface/media_interfaces_m9_glk/media_interfaces_g9_glk.cpp \
+    media_interface/media_interfaces_m9_kbl/media_interfaces_g9_kbl.cpp \
+    media_interface/media_interfaces_m9_skl/media_interfaces_g9_skl.cpp \
+    media_interface/media_interfaces_pvc/media_interfaces_pvc.cpp \
+    media_interface/media_interfaces_xehp_sdv/media_interfaces_xehp_sdv.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_basic_feature_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_segmentation_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_vdenc_const_settings_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_vdenc_feature_manager_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/packet/encode_av1_vdenc_packet_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_adapter_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_adapter_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/shared/codechal_hw_next_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_blt_copy_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_copy_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_render_copy_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/vp_feature_manager_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/vp_vebox_cmd_packet_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/vp_pipeline_adapter_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/vp_platform_interface_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_downsampling_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_picture_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_slice_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/pipeline/decode_avc_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/pipeline/decode_avc_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/mmc/decode_hevc_mem_compression_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_downsampling_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_back_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_back_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_front_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_front_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_long_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_long_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_real_tile_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_real_tile_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_picture_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_slice_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_tile_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_huc_s2l_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_huc_s2l_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_picture_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/mmc/decode_mpeg2_mem_compression_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_mb_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_mb_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_picture_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_slice_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared/decode_input_bitstream_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared/pipeline/decode_sfc_histogram_postsubpipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/features/decode_vp9_basic_feature_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/features/decode_vp9_feature_manager_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/hucitf/decode_huc_prob_update_creator_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/mmc/decode_vp9_mem_compression_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_huc_prob_update_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_downsampling_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_back_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_back_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_front_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_front_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_single_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_single_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_picture_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_slice_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_tile_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline/decode_vp9_buffer_update_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/packet/encode_av1_vdenc_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_adapter_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/shared/encode_mem_compression_g12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/vp_feature_manager_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/vp_vebox_cmd_packet_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/vp_pipeline_adapter_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/vp_platform_interface_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/features/encode_hevc_vdenc_const_settings_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_adapter_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_blt_copy_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_copy_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/vp_feature_manager_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/vp_render_sfc_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/vp_vebox_cmd_packet_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/codec/hal/shared/codechal_hw_next_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_blt_copy_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_copy_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_render_copy_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HP/renderhal/renderhal_xe_hp.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/renderhal_xe_hpc.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/renderhal_xe_hpg.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/renderhal_xe_hp_base.cpp \
+    media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_multipipe.cpp \
+    media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_singlepipe.cpp \
+    media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_interface_legacy.cpp \
+    media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_render_legacy.cpp \
+    media_softlet/agnostic/common/shared/packet/media_packet.cpp \
+    media_softlet/agnostic/common/shared/scalability/media_scalability_singlepipe.cpp \
+    media_softlet/agnostic/common/vp/hal/packet/vp_render_sfc_base_legacy.cpp \
+    media_softlet/agnostic/common/vp/hal/packet/vp_vebox_cmd_packet_legacy.cpp \
+    media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline_adapter_legacy.cpp \
+    media_softlet/agnostic/common/vp/hal/shared/scalability/vp_scalability_multipipe.cpp \
+    media_softlet/agnostic/common/vp/hal/shared/scalability/vp_scalability_singlepipe.cpp \
+    media_softlet/agnostic/g12/g12_0/renderhal/renderhal_g12_0.cpp \
+    media_softlet/agnostic/g12/g12_1/renderhal/renderhal_g12_1.cpp \
+    media_softlet/agnostic/g12/g12_base/renderhal/renderhal_g12_base.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_basic_feature_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_feature_manager_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_filmgrain_feature_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_reference_frames_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_temporal_buffers_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_tile_coding_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_av1_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_av1_picture_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_av1_tile_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_applynoise_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_gennoise_grv_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_gennoise_rp1_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_gennoise_rp2_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_av1_pipeline_adapter_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_av1_pipeline_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_filmgrain_postsubpipeline_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_filmgrain_presubpipeline_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_filmgrain_surf_init_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/shared/decode_marker_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/shared/decode_mem_compression_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/shared/decode_predication_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/shared/codec_mem_compression_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/shared/codec_mem_compression_g12_next.cpp \
+    media_softlet/agnostic/gen12/vp/hal/vp_pipeline_adapter_g12.cpp \
+    media_softlet/agnostic/gen12/vp/hal/vp_vebox_cmd_packet_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/features/decode_av1_feature_manager_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet/decode_av1_packet_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet/decode_av1_picture_packet_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet/decode_av1_tile_packet_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/pipeline/decode_av1_pipeline_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/hucitf/decode_huc_packet_creator_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/hucitf/huc_streamout_interface_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/packet/decode_huc_copy_packet_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/packet/decode_huc_g12_base.cpp \
+    media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/vp_platform_interface_g12_tgllp.cpp \
+    media_softlet/agnostic/m12/m12/vp/hal/packet/vp_kernel_config_m12_base.cpp \
+    media_softlet/agnostic/m12/m12/vp/hal/packet/vp_render_sfc_m12.cpp \
+    media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_copy_m12_0.cpp \
+    media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/vp_feature_manager_m12_0.cpp \
+
+LOCAL_SHARED_LIBRARIES := \
+    libsync \
+    libcutils \
+    libutils \
+    libdrm \
+    libva \
+    liblog \
+
+
+LOCAL_STATIC_LIBRARIES := \
+    libgmm_umd \
+
+LOCAL_CPPFLAGS := \
+    -Wno-delete-incomplete \
+    -Wno-implicit-fallthrough \
+    -Wno-overloaded-virtual \
+    -Wno-logical-op-parentheses \
+    -Wno-missing-braces \
+    -Wno-ignored-qualifiers \
+    -Wno-missing-field-initializers \
+    -Wno-deprecated-declarations \
+    -Wno-parentheses-equality \
+    -Wno-parentheses \
+    -Wno-reorder-ctor \
+    -Wno-comment \
+    -Wno-format \
+    -Wno-error \
+    -Wno-pragma-pack \
+    -Wno-unused-parameter \
+    -Wno-c++11-narrowing \
+    -DDRV_I915 \
+    -DOTC_GRALLOC \
+    -DANDROID \
+    -DANDROID_VERSION=800 \
+    -fexceptions \
+    -frtti \
+    -std=c++14 \
+    -msse2 \
+    -msse3 \
+    -mssse3 \
+    -msse4.1 \
+    -msse4.2 \
+    -DCLASS_TRACE=0 \
+    -DENABLE_KERNELS \
+    -DHEVC_FEI_ENABLE_CMRT \
+    -DIGFX_DG2_SUPPORTED \
+    -DIGFX_GEN11_ICLLP_SUPPORTED \
+    -DIGFX_GEN11_JSL_SUPPORTED \
+    -DIGFX_GEN11_SUPPORTED \
+    -DIGFX_GEN12_ADLN_SUPPORTED \
+    -DIGFX_GEN12_ADLP_SUPPORTED \
+    -DIGFX_GEN12_ADLS_SUPPORTED \
+    -DIGFX_GEN12_DG1_SUPPORTED \
+    -DIGFX_GEN12_RKL_SUPPORTED \
+    -DIGFX_GEN12_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_CMFCPATCH_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_CMFC_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_SWSB_SUPPORTED \
+    -DIGFX_GEN8_BDW_SUPPORTED \
+    -DIGFX_GEN8_SUPPORTED \
+    -DIGFX_GEN9_BXT_SUPPORTED \
+    -DIGFX_GEN9_CFL_SUPPORTED \
+    -DIGFX_GEN9_CML_SUPPORTED \
+    -DIGFX_GEN9_CMPV_SUPPORTED \
+    -DIGFX_GEN9_GLK_SUPPORTED \
+    -DIGFX_GEN9_KBL_SUPPORTED \
+    -DIGFX_GEN9_SKL_SUPPORTED \
+    -DIGFX_GEN9_SUPPORTED \
+    -DIGFX_PVC_CMFCPATCH_SUPPORTED \
+    -DIGFX_PVC_SUPPORTED \
+    -DIGFX_XEHP_SDV_CMFCPATCH_SUPPORTED \
+    -DIGFX_XEHP_SDV_SUPPORTED \
+    -DIGFX_XE_HPG_CMFCPATCH_SUPPORTED \
+    -DIGFX_XE_HPG_SUPPORTED \
+    -DMEDIA_VERSION=\"22.6.1\" \
+    -DMEDIA_VERSION_DETAILS=\"bfd8bdb38\" \
+    -DVEBOX_AUTO_DENOISE_SUPPORTED=1 \
+    -DX11_FOUND \
+    -D_AV1_DECODE_SUPPORTED \
+    -D_AV1_ENCODE_VDENC_SUPPORTED \
+    -D_AVC_DECODE_SUPPORTED \
+    -D_AVC_ENCODE_VDENC_SUPPORTED \
+    -D_AVC_ENCODE_VME_SUPPORTED \
+    -D_COMMON_ENCODE_SUPPORTED \
+    -D_DECODE_PROCESSING_SUPPORTED \
+    -D_HEVC_DECODE_SUPPORTED \
+    -D_HEVC_ENCODE_VDENC_SUPPORTED \
+    -D_HEVC_ENCODE_VME_SUPPORTED \
+    -D_JPEG_DECODE_SUPPORTED \
+    -D_JPEG_ENCODE_SUPPORTED \
+    -D_MMC_SUPPORTED \
+    -D_MPEG2_DECODE_SUPPORTED \
+    -D_MPEG2_ENCODE_VME_SUPPORTED \
+    -D_VC1_DECODE_SUPPORTED \
+    -D_VP8_DECODE_SUPPORTED \
+    -D_VP8_ENCODE_SUPPORTED \
+    -D_VP9_DECODE_SUPPORTED \
+    -D_VP9_ENCODE_VDENC_SUPPORTED \
+    -D__STDC_CONSTANT_MACROS \
+    -D__STDC_LIMIT_MACROS \
+    -D__VPHAL_SFC_SUPPORTED=1 \
+    -DiHD_drv_video_EXPORTS
+
+LOCAL_CONLYFLAGS = -x c++
+LOCAL_CFLAGS = $(LOCAL_CPPFLAGS)
+
+LOCAL_C_INCLUDES  = \
+    $(LOCAL_PATH)/../media_common/agnostic/common/codec/shared \
+    $(LOCAL_PATH)/../media_common/agnostic/common/cp \
+    $(LOCAL_PATH)/../media_common/agnostic/common/heap_manager \
+    $(LOCAL_PATH)/../media_common/agnostic/common/hw/vdbox \
+    $(LOCAL_PATH)/../media_common/agnostic/common/hw \
+    $(LOCAL_PATH)/../media_common/agnostic/common/media_interfaces \
+    $(LOCAL_PATH)/../media_common/agnostic/common/os \
+    $(LOCAL_PATH)/../media_common/agnostic/common/renderhal \
+    $(LOCAL_PATH)/../media_common/agnostic/common/shared/user_setting \
+    $(LOCAL_PATH)/../media_common/agnostic/common/shared \
+    $(LOCAL_PATH)/../media_common/agnostic/common/vp/hal \
+    $(LOCAL_PATH)/../media_common/agnostic/common/vp/kernel \
+    $(LOCAL_PATH)/../media_common/agnostic/common/vp/kdll \
+    $(LOCAL_PATH)/../media_common/linux/common/os \
+    $(LOCAL_PATH)/../media_common/linux/common/cp/ddi \
+    $(LOCAL_PATH)/../media_common/linux/common/cp/os \
+    $(LOCAL_PATH)/agnostic/common/cm \
+    $(LOCAL_PATH)/agnostic/common/codec/hal \
+    $(LOCAL_PATH)/agnostic/common/codec/kernel \
+    $(LOCAL_PATH)/agnostic/common/codec/shared \
+    $(LOCAL_PATH)/agnostic/common/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/common/hw \
+    $(LOCAL_PATH)/agnostic/common/media_interfaces \
+    $(LOCAL_PATH)/agnostic/common/os \
+    $(LOCAL_PATH)/agnostic/common/renderhal \
+    $(LOCAL_PATH)/agnostic/common/shared/user_setting \
+    $(LOCAL_PATH)/agnostic/common/shared/mediacopy \
+    $(LOCAL_PATH)/agnostic/common/shared \
+    $(LOCAL_PATH)/agnostic/common/vp/hal \
+    $(LOCAL_PATH)/agnostic/common/vp/kdll \
+    $(LOCAL_PATH)/agnostic/gen12/cm \
+    $(LOCAL_PATH)/agnostic/gen12/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen12/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen12/codec/kernelisa \
+    $(LOCAL_PATH)/agnostic/gen12/codec/shared \
+    $(LOCAL_PATH)/agnostic/gen12/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen12/hw \
+    $(LOCAL_PATH)/agnostic/gen12/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen12/shared \
+    $(LOCAL_PATH)/agnostic/g12/g12_base/hw/render \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/vp/hal \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/shared \
+    $(LOCAL_PATH)/agnostic/gen8/cm \
+    $(LOCAL_PATH)/agnostic/gen8/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen8/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen8/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen8/hw \
+    $(LOCAL_PATH)/agnostic/gen8/renderhal \
+    $(LOCAL_PATH)/agnostic/gen8/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen8/vp/kdll \
+    $(LOCAL_PATH)/agnostic/gen8/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen8_bdw/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen8_bdw/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen8_bdw/renderhal \
+    $(LOCAL_PATH)/agnostic/gen9/cm \
+    $(LOCAL_PATH)/agnostic/gen9/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen9/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9/hw \
+    $(LOCAL_PATH)/agnostic/gen9/renderhal \
+    $(LOCAL_PATH)/agnostic/gen9/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen9/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen9_cml/vp/kernel/tgp \
+    $(LOCAL_PATH)/agnostic/gen9_cml/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_cmpv/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_glk/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_glk/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9_glk/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen9_kbl/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_kbl/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_kbl/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9_skl/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_skl/codec/cmrt_kernel \
+    $(LOCAL_PATH)/agnostic/gen9_skl/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen10/cm \
+    $(LOCAL_PATH)/agnostic/gen10/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen10/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen10/codec/share \
+    $(LOCAL_PATH)/agnostic/gen10/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen10/hw \
+    $(LOCAL_PATH)/agnostic/gen10/renderhal \
+    $(LOCAL_PATH)/agnostic/gen10/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen10/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen11/cm \
+    $(LOCAL_PATH)/agnostic/gen11/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen11/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen11/codec/share \
+    $(LOCAL_PATH)/agnostic/gen11/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen11/hw \
+    $(LOCAL_PATH)/agnostic/gen11/renderhal \
+    $(LOCAL_PATH)/agnostic/gen11/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen11_jsl_ehl/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen11_jsl_ehl/renderhal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_M_base/shared \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/hw \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/vp/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/vp/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/codec/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/codec/kernelisa \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/hw \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/vp/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/codec/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/codec/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/codec/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/codec/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/hw \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/vp/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/vp/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/shared \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HP_base/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HP_base/hw/blt \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HP/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HPG/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HPC/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HPC/hw/blt \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/cmfc \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/swsb \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel \
+    $(LOCAL_PATH)/linux/common/cm/ddi \
+    $(LOCAL_PATH)/linux/common/cm/hal/osservice \
+    $(LOCAL_PATH)/linux/common/cm/hal \
+    $(LOCAL_PATH)/linux/common/ddi \
+    $(LOCAL_PATH)/linux/common/os \
+    $(LOCAL_PATH)/linux/common/codec/ddi \
+    $(LOCAL_PATH)/linux/common/cp/ddi \
+    $(LOCAL_PATH)/linux/common/cp/os \
+    $(LOCAL_PATH)/linux/common/cp/hw \
+    $(LOCAL_PATH)/linux/common/cp/shared \
+    $(LOCAL_PATH)/linux/common/vp/ddi \
+    $(LOCAL_PATH)/linux/common/hw \
+    $(LOCAL_PATH)/linux/gen8/ddi \
+    $(LOCAL_PATH)/linux/gen9/ddi \
+    $(LOCAL_PATH)/linux/gen9_bxt/ddi \
+    $(LOCAL_PATH)/linux/gen9_skl/ddi \
+    $(LOCAL_PATH)/linux/gen9_kbl/ddi \
+    $(LOCAL_PATH)/linux/gen9_glk/ddi \
+    $(LOCAL_PATH)/linux/gen9_cfl/ddi \
+    $(LOCAL_PATH)/linux/gen10/ddi \
+    $(LOCAL_PATH)/linux/gen10_cnl/ddi \
+    $(LOCAL_PATH)/linux/gen11/codec/ddi \
+    $(LOCAL_PATH)/linux/gen11/ddi \
+    $(LOCAL_PATH)/linux/gen12/codec/ddi \
+    $(LOCAL_PATH)/linux/gen12/ddi \
+    $(LOCAL_PATH)/linux/Xe_M/ddi \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/shared/media_sfc_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/shared/scalability \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/vp/hal/shared/scalability \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/vp/hal/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/codec/hal/dec/shared/scalability \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/av1/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/shared/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/shared/hucitf \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/m12/m12/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/m12/m12_0/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/g12/g12_base/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/g12/g12_0/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/g12/g12_1/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HP/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/hw \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/hw \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_plus/codec/hal/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/mmc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/mmc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/hucitf \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/mmc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/shared \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m8_bdw \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_bxt \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_skl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_cfl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_glk \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_kbl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m10_cnl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m11_icllp \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m11_jsl_ehl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_tgllp \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_dg1 \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_rkl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_adls \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_adlp \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_adln \
+    $(LOCAL_PATH)/media_interface/media_interfaces_xehp_sdv \
+    $(LOCAL_PATH)/media_interface/media_interfaces_dg2 \
+    $(LOCAL_PATH)/media_interface/media_interfaces_pvc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/task \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/mediacontext \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/mediacopy \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/media_sfc_interface \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/classtrace \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/profiler \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/os \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/feature_manager \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/utils \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/platform_interface \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/kdll \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/cm_fc_ld \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/cp \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/avc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/avc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/hucItf \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/av1/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/hw/vdbox \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/hw \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/renderhal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/media_interfaces \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG/renderhal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG/hw \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/osservice \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915/include/uapi \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915/include \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915 \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915_production/include \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915_production \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os \
+    $(LOCAL_PATH)/../media_softlet/linux/common/cp \
+
+
+#LOCAL_CPP_FEATURES := rtti exceptions
+
+LOCAL_MODULE := i965_drv_video
+LOCAL_PROPRIETARY_MODULE := true
+
+include $(BUILD_SHARED_LIBRARY)
diff --git a/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
index 08668d10c..5189e27f0 100644
--- a/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
@@ -45,6 +45,7 @@ set(COMMON_HEADERS_
 
 source_group("MHW" FILES ${TMP_UTILITIES_HEADERS_})
 source_group("MHW\\VEBOX" FILES ${TMP_VEBOX_SOURCES_} ${TMP_VEBOX_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
index 6c51093d6..98f519964 100644
--- a/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
@@ -49,6 +49,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake
index 93c2fecb6..58763123b 100644
--- a/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake
@@ -61,3 +61,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_M_base/shared/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_M_base/shared/media_srcs.cmake
index d27537837..a6f55c9c2 100644
--- a/media_driver/agnostic/Xe_M/Xe_M_base/shared/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_M_base/shared/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake
index a319b640c..4329fc4b1 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake
@@ -86,6 +86,8 @@ source_group("MHW\\State Heap" FILES ${TMP_STATE_HEAP_SOURCES_} ${TMP_STATE_HEAP
 source_group("MHW\\VEBOX" FILES ${TMP_VEBOX_SOURCES_} ${TMP_VEBOX_HEADERS_})
 source_group("MHW\\Common MI" FILES ${TMP_MI_SOURCES_} ${TMP_MI_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake
index f5202ee1e..3d586adba 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake
@@ -48,6 +48,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake
index c30e91b25..96c2195e7 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake
@@ -70,3 +70,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake
index a8a9965d6..d6370a186 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -45,4 +45,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake
index ad17fec62..21e3e152e 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake
@@ -51,3 +51,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake
index b38811be4..a094f12cf 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake
@@ -43,6 +43,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake
index b911bc3ef..95fee1fc5 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake
@@ -39,4 +39,6 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake
index 9b8509e10..66b1efb3a 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake
@@ -59,3 +59,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake
index 82bb5721b..5ce5539ad 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -46,3 +46,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake
index 8f61e53ad..69cbb2aa5 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake
@@ -49,4 +49,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake
index e8dd43f5a..a947074f4 100644
--- a/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake
index a744254b7..6451a9741 100644
--- a/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\BLT" FILES ${TMP_BLT_SOURCES_} ${TMP_BLT_HEADERS_})  
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake
index 87504f45b..856bc52b4 100644
--- a/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake
index e3c4cdd7b..ff5005584 100644
--- a/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake
index eee609ad5..1d19e8c64 100644
--- a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\BLT" FILES ${TMP_BLT_SOURCES_} ${TMP_BLT_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake
index 5b66048d4..c947d3f92 100644
--- a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake
@@ -39,6 +39,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/hw/media_srcs.cmake b/media_driver/agnostic/common/hw/media_srcs.cmake
index 6947c4300..72479e3f6 100644
--- a/media_driver/agnostic/common/hw/media_srcs.cmake
+++ b/media_driver/agnostic/common/hw/media_srcs.cmake
@@ -90,6 +90,13 @@ set(COMMON_SOURCES_
 )
 
 source_group("MHW\\BLT" FILES ${TMP_5_SOURCES_} ${TMP_5_HEADERS_})
+media_include_subdirectory(vdbox)
+media_include_subdirectory(media_interfaces)
+media_include_subdirectory(os)
+media_include_subdirectory(renderhal)
+media_include_subdirectory(shared)
+media_include_subdirectory(vp)
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake
index 184928a80..d85409919 100644
--- a/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake
@@ -47,6 +47,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/media_interfaces/media_srcs.cmake b/media_driver/agnostic/common/media_interfaces/media_srcs.cmake
index 853091a3e..71291e1db 100644
--- a/media_driver/agnostic/common/media_interfaces/media_srcs.cmake
+++ b/media_driver/agnostic/common/media_interfaces/media_srcs.cmake
@@ -46,4 +46,6 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/os/media_srcs.cmake b/media_driver/agnostic/common/os/media_srcs.cmake
index 57ee981a8..35b0b1712 100644
--- a/media_driver/agnostic/common/os/media_srcs.cmake
+++ b/media_driver/agnostic/common/os/media_srcs.cmake
@@ -72,3 +72,5 @@ set (MOS_PUBLIC_INCLUDE_DIRS_
     ${MOS_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/renderhal/media_srcs.cmake b/media_driver/agnostic/common/renderhal/media_srcs.cmake
index 0db298627..110920eb2 100644
--- a/media_driver/agnostic/common/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/common/renderhal/media_srcs.cmake
@@ -50,6 +50,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\OCA" FILES ${TMP_SOURCES2_} ${TMP_HEADERS2_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/shared/media_srcs.cmake b/media_driver/agnostic/common/shared/media_srcs.cmake
index 7b15171c9..08c70cf2a 100644
--- a/media_driver/agnostic/common/shared/media_srcs.cmake
+++ b/media_driver/agnostic/common/shared/media_srcs.cmake
@@ -20,6 +20,7 @@
 
 media_include_subdirectory(user_setting)
 media_include_subdirectory(mediacopy)
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/media_perf_profiler_legacy.cpp
diff --git a/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake b/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake
index 518cbb013..baa2dcc5f 100644
--- a/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake
@@ -34,6 +34,7 @@ set(COMMON_SOURCES_
     ${TMP_SOURCES_})
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/shared/user_setting/media_srcs.cmake b/media_driver/agnostic/common/shared/user_setting/media_srcs.cmake
index e0e1700e4..f84a77aa9 100644
--- a/media_driver/agnostic/common/shared/user_setting/media_srcs.cmake
+++ b/media_driver/agnostic/common/shared/user_setting/media_srcs.cmake
@@ -30,6 +30,7 @@ set(COMMON_SOURCES_
     ${TMP_SOURCES_})
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/vp/hal/media_srcs.cmake b/media_driver/agnostic/common/vp/hal/media_srcs.cmake
index 15f1149f2..6a2d5bbac 100644
--- a/media_driver/agnostic/common/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/common/vp/hal/media_srcs.cmake
@@ -115,3 +115,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/vp/kdll/media_srcs.cmake b/media_driver/agnostic/common/vp/kdll/media_srcs.cmake
index c811a97e1..a112ac0d1 100644
--- a/media_driver/agnostic/common/vp/kdll/media_srcs.cmake
+++ b/media_driver/agnostic/common/vp/kdll/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/vp/media_srcs.cmake b/media_driver/agnostic/common/vp/media_srcs.cmake
index 16a8a24dd..98586d14f 100644
--- a/media_driver/agnostic/common/vp/media_srcs.cmake
+++ b/media_driver/agnostic/common/vp/media_srcs.cmake
@@ -19,5 +19,4 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(hal)
-media_include_subdirectory(kdll)
-media_include_subdirectory(kernel)
\ No newline at end of file
+media_include_subdirectory(kdll)
\ No newline at end of file
diff --git a/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake b/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake
index 98cb53b14..1577f5ee3 100644
--- a/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake
@@ -40,6 +40,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/cm/media_srcs.cmake b/media_driver/agnostic/gen10/cm/media_srcs.cmake
index 103b02a18..682bddcd8 100644
--- a/media_driver/agnostic/gen10/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/cm/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/hw/media_srcs.cmake b/media_driver/agnostic/gen10/hw/media_srcs.cmake
index 59198445c..131157ace 100644
--- a/media_driver/agnostic/gen10/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/hw/media_srcs.cmake
@@ -98,6 +98,8 @@ source_group("MHW\\Common MI" FILES ${TMP_3_SOURCES_} ${TMP_3_HEADERS_})
 source_group("MHW\\Render Engine" FILES ${TMP_4_SOURCES_} ${TMP_4_HEADERS_})
 source_group("MHW\\State Heap" FILES ${TMP_5_SOURCES_} ${TMP_5_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake
index b4d2169c1..cef7e0c30 100644
--- a/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake
@@ -51,6 +51,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/renderhal/media_srcs.cmake b/media_driver/agnostic/gen10/renderhal/media_srcs.cmake
index 8f7045d6e..89d9373de 100644
--- a/media_driver/agnostic/gen10/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/renderhal/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake
index 8c38d425c..fd0496bf2 100644
--- a/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake
@@ -65,3 +65,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake
index 53e4ae6ab..421ffd83a 100755
--- a/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake
@@ -45,3 +45,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11/cm/media_srcs.cmake b/media_driver/agnostic/gen11/cm/media_srcs.cmake
index caa9ade43..0c3e32cf2 100644
--- a/media_driver/agnostic/gen11/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/cm/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/hw/media_srcs.cmake b/media_driver/agnostic/gen11/hw/media_srcs.cmake
index 05525570c..0af34abc0 100644
--- a/media_driver/agnostic/gen11/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/hw/media_srcs.cmake
@@ -97,6 +97,7 @@ set(COMMON_HEADERS_
 source_group("MHW\\Common MI" FILES ${TMP_3_SOURCES_} ${TMP_3_HEADERS_})
 source_group("MHW\\Render Engine" FILES ${TMP_4_SOURCES_} ${TMP_4_HEADERS_})
 source_group("MHW\\State Heap" FILES ${TMP_5_SOURCES_} ${TMP_5_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake
index c3d811496..9213df176 100644
--- a/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake
@@ -52,6 +52,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/renderhal/media_srcs.cmake b/media_driver/agnostic/gen11/renderhal/media_srcs.cmake
index f4ae6db4b..af53f9849 100644
--- a/media_driver/agnostic/gen11/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/renderhal/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake
index 0ae641b24..50c2b04c4 100644
--- a/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake
@@ -50,4 +50,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake
index 8385e3569..d4a2f2554 100644
--- a/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake
@@ -58,4 +58,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake
index 13bb8b350..3f3a52849 100755
--- a/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake
@@ -47,3 +47,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake b/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake
index ff7e7aa9c..0036042e8 100755
--- a/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake
@@ -128,6 +128,8 @@ source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake b/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake
index ecbc6da31..8e4ae232b 100644
--- a/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake
@@ -38,6 +38,8 @@ set(COMMON_HEADERS_
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake
index e69965592..fe385883b 100644
--- a/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake
@@ -59,4 +59,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12/cm/media_srcs.cmake b/media_driver/agnostic/gen12/cm/media_srcs.cmake
index 24a2ba822..9f3ad05bd 100644
--- a/media_driver/agnostic/gen12/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/cm/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen12/hw/media_srcs.cmake b/media_driver/agnostic/gen12/hw/media_srcs.cmake
index 2179aa3ce..8103074ad 100644
--- a/media_driver/agnostic/gen12/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/hw/media_srcs.cmake
@@ -85,6 +85,8 @@ set(COMMON_HEADERS_
 source_group("MHW\\Common MI" FILES ${TMP_MI_SOURCES_} ${TMP_MI_HEADERS_})
 source_group("MHW\\State Heap" FILES ${TMP_STATE_HEAP_SOURCES_} ${TMP_STATE_HEAP_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake
index d58b43af9..48cafbcb3 100644
--- a/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake
@@ -59,6 +59,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen12/shared/media_srcs.cmake b/media_driver/agnostic/gen12/shared/media_srcs.cmake
index c56550493..b12482834 100644
--- a/media_driver/agnostic/gen12/shared/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/shared/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake
index 4a4413200..93d171c01 100644
--- a/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake
@@ -54,4 +54,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake
index 0013249d4..c35b0d4ed 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake
@@ -58,4 +58,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake
index 7e85d9342..887d1ba7f 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake
@@ -46,3 +46,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake
index 9a7b7f204..7b7c6d36a 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake
index 6a65956c7..f574371c0 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -46,3 +46,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake
index a3ab42875..11067d2bb 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake
@@ -22,6 +22,7 @@
 media_include_subdirectory(cmfc)
 media_include_subdirectory(cmfcpatch)
 media_include_subdirectory(cmfccmlpch)
+media_include_subdirectory(swsb)
 
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/igvpkrn_isa_g12_tgllp.c
@@ -49,4 +50,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake
new file mode 100644
index 000000000..10b271230
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake
@@ -0,0 +1,26 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_include_subdirectory(Common)
+media_include_subdirectory(Components)
+media_include_subdirectory(Core_Kernels)
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake
index fda74ac85..8d6c45271 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake
@@ -41,6 +41,8 @@ source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake
index 3c0422930..3f9bc205b 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake
@@ -39,6 +39,7 @@ set(VP_HEADERS_
 )
 
 source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake
index 0061687bd..a854363b6 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake
@@ -237,6 +237,7 @@ endif()
 
 media_include_subdirectory(cmfc)
 media_include_subdirectory(cmfcpatch)
+media_include_subdirectory(source)
 
 source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 
diff --git a/media_driver/agnostic/gen8/cm/media_srcs.cmake b/media_driver/agnostic/gen8/cm/media_srcs.cmake
index 2784a1cfd..36c78c89a 100644
--- a/media_driver/agnostic/gen8/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/cm/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen8/hw/media_srcs.cmake b/media_driver/agnostic/gen8/hw/media_srcs.cmake
index 2df0924b8..b7256b021 100644
--- a/media_driver/agnostic/gen8/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/hw/media_srcs.cmake
@@ -19,6 +19,7 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
 
 
 set(TMP_SOURCES_
diff --git a/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake
index 4320df028..0a61dcd4f 100644
--- a/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake
@@ -30,6 +30,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen8/renderhal/media_srcs.cmake b/media_driver/agnostic/gen8/renderhal/media_srcs.cmake
index f27379540..7c1092754 100644
--- a/media_driver/agnostic/gen8/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/renderhal/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake
index a28caf729..96d8a9941 100644
--- a/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake
@@ -62,3 +62,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake b/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake
index 6c144a6dd..3f8c20b92 100644
--- a/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake
@@ -31,6 +31,8 @@ set(VP_SOURCES_
     ${TMP_SOURCES_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( "VpHal\\Kernel DLL" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake
index be9116c8d..939f32383 100755
--- a/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake
index e6460cb59..956075fb1 100644
--- a/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake
@@ -40,8 +40,8 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
-
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake b/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake
index 25996ea24..337f1b4e3 100644
--- a/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake
@@ -30,6 +30,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/cm/media_srcs.cmake b/media_driver/agnostic/gen9/cm/media_srcs.cmake
index 9c4b8c1be..e1a290472 100644
--- a/media_driver/agnostic/gen9/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/cm/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/hw/media_srcs.cmake b/media_driver/agnostic/gen9/hw/media_srcs.cmake
index 687ae8442..d6db819b8 100644
--- a/media_driver/agnostic/gen9/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/hw/media_srcs.cmake
@@ -19,6 +19,8 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
+
 
 
 set(TMP_1_SOURCES_
diff --git a/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake
index 578f03d57..a43bd909a 100644
--- a/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake
@@ -31,6 +31,8 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
+
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/renderhal/media_srcs.cmake b/media_driver/agnostic/gen9/renderhal/media_srcs.cmake
index b23e83d44..bb968daf8 100644
--- a/media_driver/agnostic/gen9/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/renderhal/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake
index 88cd40160..1c0486482 100644
--- a/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake
@@ -64,3 +64,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake
index bd130d932..2b2b3e004 100755
--- a/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake
@@ -47,4 +47,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake
index 9f6983b89..6a03287b5 100644
--- a/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake
@@ -52,6 +52,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake
index cf35bd74c..017f88e61 100644
--- a/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake
@@ -55,4 +55,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake
index 0ac82f5e6..3fe2d981b 100644
--- a/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake
@@ -47,4 +47,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake b/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake
index c44fc4b26..38e73b37b 100644
--- a/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake
@@ -45,3 +45,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake
index 85c1be343..2f501ccd3 100644
--- a/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake
@@ -38,6 +38,7 @@ set(VP_HEADERS_
 )
 
 source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake
index 716e5b304..fd2dc758e 100644
--- a/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake
@@ -39,6 +39,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake
index d5b0b7526..905e8c3dd 100644
--- a/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake
@@ -56,3 +56,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake
index b2f01324e..594c15d05 100644
--- a/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake
@@ -52,6 +52,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake
index 3c8610a93..e8f445314 100644
--- a/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake
@@ -51,6 +51,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/media_srcs.cmake b/media_driver/agnostic/media_srcs.cmake
index c47d64f0a..fddf09d5b 100755
--- a/media_driver/agnostic/media_srcs.cmake
+++ b/media_driver/agnostic/media_srcs.cmake
@@ -290,6 +290,12 @@ endif()
 
 media_include_subdirectory(common)
 
+if(ENABLE_REQUIRED_GEN_CODE OR GEN12)
+    media_include_subdirectory(gen12)
+    media_include_subdirectory(g12)
+    media_include_subdirectory(../media_softlet/agnostic/gen12)
+endif()
+
 if(GEN8)
     media_include_subdirectory(gen8)
 endif()
@@ -302,6 +308,10 @@ if(ENABLE_REQUIRED_GEN_CODE OR GEN9)
     media_include_subdirectory(gen9)
 endif()
 
+if(ENABLE_REQUIRED_GEN_CODE OR GEN9_BXT)
+    media_include_subdirectory(gen9_bxt)
+endif()
+
 if(ENABLE_REQUIRED_GEN_CODE OR GEN9_CML)
     media_include_subdirectory(gen9_cml)
 endif()
@@ -310,14 +320,6 @@ if(ENABLE_REQUIRED_GEN_CODE OR GEN9_CMPV)
     media_include_subdirectory(gen9_cmpv)
 endif()
 
-if(ENABLE_REQUIRED_GEN_CODE OR GEN9_BXT)
-    media_include_subdirectory(gen9_bxt)
-endif()
-
-if(ENABLE_REQUIRED_GEN_CODE OR GEN9_SKL)
-    media_include_subdirectory(gen9_skl)
-endif()
-
 if(ENABLE_REQUIRED_GEN_CODE OR GEN9_GLK)
     media_include_subdirectory(gen9_glk)
 endif()
@@ -326,6 +328,10 @@ if(ENABLE_REQUIRED_GEN_CODE OR GEN9_KBL)
     media_include_subdirectory(gen9_kbl)
 endif()
 
+if(ENABLE_REQUIRED_GEN_CODE OR GEN9_SKL)
+    media_include_subdirectory(gen9_skl)
+endif()
+
 if(ENABLE_REQUIRED_GEN_CODE OR GEN10)
     media_include_subdirectory(gen10)
 endif()
@@ -344,17 +350,12 @@ endif()
 
 if(ENABLE_REQUIRED_GEN_CODE OR GEN12)
     media_include_subdirectory(gen12)
-    media_include_subdirectory(g12)
-    media_include_subdirectory(../media_softlet/agnostic/gen12)
+    media_include_subdirectory(Xe_M)
+    media_include_subdirectory(Xe_R)
 endif()
 
 if(ENABLE_REQUIRED_GEN_CODE OR GEN12_TGLLP)
     media_include_subdirectory(gen12_tgllp)
 endif()
 
-if(ENABLE_REQUIRED_GEN_CODE OR GEN12)
-media_include_subdirectory(Xe_M)
-media_include_subdirectory(Xe_R)
-endif()
-
 include(${MEDIA_EXT}/agnostic/media_srcs_ext.cmake OPTIONAL)
diff --git a/media_driver/agnostic/ult/cm/media_srcs.cmake b/media_driver/agnostic/ult/cm/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/ult/cm/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/ult/media_srcs.cmake b/media_driver/agnostic/ult/media_srcs.cmake
new file mode 100644
index 000000000..452017e8d
--- /dev/null
+++ b/media_driver/agnostic/ult/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_include_subdirectory(cm)
diff --git a/media_driver/linux/common/os/media_srcs.cmake b/media_driver/linux/common/os/media_srcs.cmake
index 12e51371e..fd7bf13a2 100644
--- a/media_driver/linux/common/os/media_srcs.cmake
+++ b/media_driver/linux/common/os/media_srcs.cmake
@@ -81,4 +81,6 @@ set (MOS_PUBLIC_INCLUDE_DIRS_
     ${MOS_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
 endif() #NOT CMAKE_WDDM_LINUX
diff --git a/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp b/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp
index 3372db61a..86296468e 100644
--- a/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp
+++ b/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp
@@ -38,6 +38,9 @@
 #include "mos_bufmgr_priv.h"
 #include "drm_fourcc.h"
 
+#ifdef ANDROID
+#include <va/va_android.h>
+#endif
 
 #ifndef VA_CENC_TYPE_NONE
 #define VA_CENC_TYPE_NONE 0x00000000
diff --git a/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake b/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake
index 1bfce0eae..8ec105bb0 100644
--- a/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake
index 6a4bdfbe8..5e11ef920 100644
--- a/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake
index 62fe1fc5a..3618fcd6b 100644
--- a/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake
index 65b862d57..b236057aa 100644
--- a/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake
index 9f99d1d97..bbe90d4a9 100644
--- a/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake
index e57a611f6..bb517b097 100644
--- a/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake
index ee244e9fd..bf5d0e82d 100644
--- a/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake
index 1c1d50c4c..0cc47cace 100644
--- a/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake
index 8021465f2..a527b2b52 100644
--- a/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake
index 0cfc415cd..19150fd28 100644
--- a/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake
index 4db7eaeee..dc5d87bba 100644
--- a/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake
index d96f53740..6688624fc 100644
--- a/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake
index 27480be30..4b970d92f 100644
--- a/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake
index a67d14eb6..5232a42ec 100644
--- a/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake
index e1c3f08fd..1e6617629 100644
--- a/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake
index 8db37bf37..5d3a30626 100644
--- a/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake b/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake
index 22486377f..6a8eaa5e9 100644
--- a/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake b/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake
index 410aaca75..489c24afe 100644
--- a/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
index f82866f8e..88fc36759 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
@@ -19,3 +19,4 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
index 21860411a..f6a6f93c2 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
@@ -35,4 +35,5 @@ source_group( "MHW\\Vdbox" FILES ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake
index 0523ef611..9f76cd00c 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake
@@ -46,4 +46,6 @@ source_group( "SharedNext\\M12\\shared\\MediaCopy" FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake
index 3a3b96d44..6f5e75492 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake
index 677d6e2b5..7078aab3a 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake
index 916c52742..739d1d291 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake
index 3cab4c565..1938a0078 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake
index 4242176a1..33fdf1e3a 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake
@@ -20,4 +20,3 @@
 
 media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
-media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake
index f859466e6..af39276a2 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake
@@ -21,5 +21,3 @@
 media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
 media_include_subdirectory(mmc)
-
-media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/media_srcs.cmake
index a7816f750..ff278d329 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/media_srcs.cmake
@@ -20,5 +20,3 @@
 
 media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
-
-media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake
index 699e659b5..f13025755 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake
@@ -21,5 +21,3 @@
 media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
 media_include_subdirectory(mmc)
-
-media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/media_srcs.cmake
index 542d188ce..9c929d981 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/media_srcs.cmake
@@ -24,4 +24,3 @@ media_include_subdirectory(mmc)
 media_include_subdirectory(hucitf)
 media_include_subdirectory(features)
 
-media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/media_srcs.cmake
index 3d78f82d0..53b2a1254 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/media_srcs.cmake
@@ -36,5 +36,3 @@ set(CODEC_HEADERS_
 )
 
 source_group(CodecHalNext\\Gen12\\encode FILES ${TMP_HEADERS_} ${TMP_SOURCES_})
-
-media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/media_srcs.cmake
index b663c071f..4ad9730a8 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/media_srcs.cmake
@@ -20,4 +20,3 @@
 
 media_include_subdirectory(dec)
 media_include_subdirectory(enc)
-media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake
index 6ec9c781a..01cef18bf 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake
index 37eb7e928..8a9168fd9 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake
index eda8ee89b..fd11e0122 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake
index 82660d3a3..1727c7439 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/media_srcs.cmake
index 50e8d4f24..6180df55c 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/media_srcs.cmake
@@ -19,4 +19,3 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(enc)
-media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake
index f8704407f..01c8b536a 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake
@@ -44,4 +44,5 @@ source_group( "SharedNext\\M12\\shared\\MediaCopy" FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake
index c7b335010..4f8fbf46d 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake
index 55738ccdb..90513d66e 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake
@@ -46,4 +46,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake
index ebbbb7b4d..7509e0e8f 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake
@@ -47,4 +47,5 @@ source_group( "SharedNext\\M12\\shared\\MediaCopy" FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake
index 67aa2cbb7..b92517b66 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake
index efc495fe1..5534fe11a 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
index d3f1e140c..8d09ceb70 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake
index 3bc2b5b60..652048245 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
index 3688a023c..433f7081a 100644
--- a/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
@@ -41,4 +41,5 @@ source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
index 5a8662302..1a92da939 100644
--- a/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
@@ -40,3 +40,5 @@ set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
+
diff --git a/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
index 3fe587c29..9fe35e776 100644
--- a/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
@@ -44,4 +44,5 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
index bcd63c6bc..a0f207c7a 100644
--- a/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
@@ -42,4 +42,5 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
index 6069d6ec0..5d3f18135 100644
--- a/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
@@ -50,3 +50,4 @@ set (VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake
index 95e3edbfd..1b2d94cf4 100644
--- a/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake
index e43300a25..75617f6fa 100644
--- a/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake
@@ -43,4 +43,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake
index 7131d56fa..6c02f19c6 100644
--- a/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake
index 31e3e2ade..e4e8464ff 100644
--- a/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake
@@ -20,6 +20,4 @@
 
 media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
-media_include_subdirectory(features)
-
-media_add_curr_to_include_path()
\ No newline at end of file
+media_include_subdirectory(features)
\ No newline at end of file
diff --git a/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake
index bc01eb35a..1c36ce23a 100644
--- a/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake
@@ -19,6 +19,4 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(dec)
-media_include_subdirectory(shared)
-
-media_add_curr_to_include_path()
\ No newline at end of file
+media_include_subdirectory(shared)
\ No newline at end of file
diff --git a/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake
index 1ef7afca5..dde4d80fa 100644
--- a/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake
@@ -46,4 +46,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake
index d0afc8e51..07a824783 100644
--- a/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake
index 1f07d0773..abe241704 100644
--- a/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake
@@ -47,3 +47,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake
index a585c030f..ee23fdc4c 100644
--- a/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( SharedNext\\Gen12\\shared\\MediaCopy FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake
index ff4cf7054..54c9be3e2 100644
--- a/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_top_cmake.cmake b/media_driver/media_top_cmake.cmake
index 4e606c6f2..d8c6b0ed5 100755
--- a/media_driver/media_top_cmake.cmake
+++ b/media_driver/media_top_cmake.cmake
@@ -32,7 +32,8 @@ include(${MEDIA_DRIVER_CMAKE}/media_feature_flags.cmake)
 
 if(NOT DEFINED SKIP_GMM_CHECK)
     # checking dependencies
-    pkg_check_modules(LIBGMM REQUIRED igdgmm>=12.0.0)
+    pkg_check_modules(LIBGMM igdgmm)
+    #pkg_check_modules(LIBGMM REQUIRED igdgmm>=12.0.0)
 
     if(LIBGMM_FOUND)
         include_directories(BEFORE ${LIBGMM_INCLUDE_DIRS})
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/hw/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/hw/media_srcs.cmake
index addddabb1..864ae94cf 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/hw/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/hw/media_srcs.cmake
@@ -50,4 +50,5 @@ source_group("MHW\\State Heap" FILES ${TMP_STATE_HEAP_SOURCES_} ${TMP_STATE_HEAP
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
index 40e0c55f8..f4e6b3431 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
@@ -41,4 +41,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/cmfcpatch/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/cmfcpatch/media_srcs.cmake
index 039768d2d..791342f0b 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -45,4 +45,6 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/media_srcs.cmake
index e9b5fd5fa..ae2dea09b 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel/media_srcs.cmake
@@ -50,4 +50,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake
new file mode 100644
index 000000000..24a981822
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake
@@ -0,0 +1,21 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake
new file mode 100644
index 000000000..24a981822
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake
@@ -0,0 +1,21 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
new file mode 100644
index 000000000..24a981822
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
@@ -0,0 +1,21 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake
new file mode 100644
index 000000000..91cac7cff
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake
@@ -0,0 +1,24 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_include_subdirectory(Common)
+media_include_subdirectory(Components)
+media_include_subdirectory(Core_Kernels)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/cmfcpatch/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/cmfcpatch/media_srcs.cmake
index 039768d2d..408abec45 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/cmfcpatch/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/cmfcpatch/media_srcs.cmake
@@ -45,4 +45,5 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/media_srcs.cmake
index aa2493be1..15353a76c 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/media_srcs.cmake
@@ -259,7 +259,7 @@ if(BUILD_KERNELS)
 endif()
 
 media_include_subdirectory(cmfcpatch)
-
+media_include_subdirectory(Source)
 
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/igvpkrn_xe_hpg.c
@@ -287,4 +287,5 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake
index d67416111..22d765332 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake
index 3ac3c451d..d8ea9e866 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake
@@ -38,3 +38,4 @@ set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_softlet/agnostic/common/hw/media_srcs.cmake b/media_softlet/agnostic/common/hw/media_srcs.cmake
index efc223878..3245ff643 100644
--- a/media_softlet/agnostic/common/hw/media_srcs.cmake
+++ b/media_softlet/agnostic/common/hw/media_srcs.cmake
@@ -68,4 +68,5 @@ source_group( "MHW" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake b/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake
index 0192d62e4..44752c95d 100644
--- a/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake
+++ b/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake
@@ -47,4 +47,6 @@ source_group( "MHW\\Vdbox" FILES ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake b/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake
index 8adc91ed4..a271ec762 100644
--- a/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake
+++ b/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake
@@ -18,8 +18,6 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
-media_include_subdirectory(mmd)
-
 set(TMP_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/media_interfaces_mhw_next.h
     ${CMAKE_CURRENT_LIST_DIR}/media_interfaces_mcpy_next.h
@@ -49,4 +47,6 @@ source_group( "SharedNext\\shared" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/os/media_srcs.cmake b/media_softlet/agnostic/common/os/media_srcs.cmake
index 55942a99d..6047ec6cf 100644
--- a/media_softlet/agnostic/common/os/media_srcs.cmake
+++ b/media_softlet/agnostic/common/os/media_srcs.cmake
@@ -87,4 +87,5 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
+media_add_curr_to_include_path()
 source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
diff --git a/media_softlet/agnostic/common/renderhal/media_srcs.cmake b/media_softlet/agnostic/common/renderhal/media_srcs.cmake
index 33eb9908d..0d59e6fd7 100644
--- a/media_softlet/agnostic/common/renderhal/media_srcs.cmake
+++ b/media_softlet/agnostic/common/renderhal/media_srcs.cmake
@@ -45,4 +45,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/media_srcs.cmake b/media_softlet/agnostic/common/shared/media_srcs.cmake
index 1766e21cb..ded6a965e 100644
--- a/media_softlet/agnostic/common/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/media_srcs.cmake
@@ -77,4 +77,6 @@ source_group(SharedNext\\shared FILES ${TMP_HEADERS_} ${TMP_SOURCES_})
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake b/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake
index 62dbdaedc..08052b1b8 100644
--- a/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake
@@ -41,4 +41,5 @@ set(SOFTLET_COMMON_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake b/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
index 9a990f3eb..67c7cf6b5 100644
--- a/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
@@ -52,3 +52,4 @@ set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake b/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake
index c4bb0a7dd..021313a6b 100644
--- a/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake
@@ -52,3 +52,5 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake
index 5ac1ca5ae..a1e4b5488 100644
--- a/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake
@@ -47,4 +47,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp b/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp
index eb46d2748..ac500106d 100644
--- a/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp
+++ b/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp
@@ -707,7 +707,7 @@ MOS_STATUS VpAllocator::AllocParamsInitType(
     VP_FUNC_CALL();
     VP_PUBLIC_CHK_NULL_RETURN(surface);
 
-#if !EMUL && !LINUX
+#if !EMUL && !LINUX && !ANDROID
     //  Need to reallocate surface according to expected tiletype instead of tiletype of the surface what we have
     if ( surface                           != nullptr &&
          surface->OsResource.pGmmResInfo   != nullptr &&
@@ -1271,7 +1271,7 @@ uint64_t VP_SURFACE::GetAllocationHandle(MOS_INTERFACE* osIntf)
     }
 #endif
 
-#if(LINUX) && !(WDDM_LINUX)
+#if(LINUX || ANDROID) && !(WDDM_LINUX)
     if (osSurface && osSurface->OsResource.bo)
     {
         return osSurface->OsResource.bo->handle;
diff --git a/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake
index e2b60d58d..9849de677 100644
--- a/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake
@@ -59,4 +59,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake
index 6e3a98ad7..e3bb23310 100644
--- a/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake
@@ -64,4 +64,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake
index 1ec208dba..a29cb735d 100644
--- a/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake
@@ -42,4 +42,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
index 34139ed46..7e62f3b81 100644
--- a/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
@@ -71,4 +71,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
index 0464e1a49..0c5447b80 100644
--- a/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
@@ -53,4 +53,6 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake
index ad5aecfd1..cea3ae0ac 100644
--- a/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake
@@ -41,4 +41,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake
index f5c0d6976..018d04954 100644
--- a/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake
@@ -49,4 +49,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
index 816be9790..259ae50bf 100644
--- a/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
@@ -54,3 +54,5 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake
index e03c24c2f..fc626cd71 100644
--- a/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake
@@ -42,4 +42,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake
index eba4cb304..18daafd8e 100644
--- a/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake
@@ -55,4 +55,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake b/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake
index 7b43fec5c..1a7b12198 100644
--- a/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake
@@ -35,3 +35,5 @@ set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915/include/media_srcs.cmake b/media_softlet/linux/common/os/i915/include/media_srcs.cmake
index 6b5cb8efd..0b6dd3536 100644
--- a/media_softlet/linux/common/os/i915/include/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915/include/media_srcs.cmake
@@ -43,3 +43,5 @@ set (SOFTLET_MOS_PREPEND_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
     ${SOFTLET_MOS_PREPEND_INCLUDE_DIRS_}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake b/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake
index 7f2dbc2f0..95c948c13 100644
--- a/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake
@@ -39,3 +39,4 @@ set (SOFTLET_MOS_PREPEND_INCLUDE_DIRS_
     ${SOFTLET_MOS_PREPEND_INCLUDE_DIRS_}
 )
 
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915/media_srcs.cmake b/media_softlet/linux/common/os/i915/media_srcs.cmake
index dee0817ef..4781ffcc1 100644
--- a/media_softlet/linux/common/os/i915/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915/media_srcs.cmake
@@ -38,3 +38,5 @@ set(SOFTLET_MOS_COMMON_SOURCES_
     ${SOFTLET_MOS_COMMON_SOURCES_}
     ${TMP_SOURCES_}
  )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake b/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake
index e1870dafc..a1decc9db 100644
--- a/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake
@@ -31,4 +31,6 @@ set(SOFTLET_MOS_COMMON_HEADERS_
 set (SOFTLET_MOS_PREPEND_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
     ${SOFTLET_MOS_PREPEND_INCLUDE_DIRS_}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915_production/media_srcs.cmake b/media_softlet/linux/common/os/i915_production/media_srcs.cmake
index a610f569f..3aa448a80 100644
--- a/media_softlet/linux/common/os/i915_production/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915_production/media_srcs.cmake
@@ -40,4 +40,5 @@ set(SOFTLET_MOS_COMMON_SOURCES_
     ${TMP_SOURCES_}
  )
 
+media_add_curr_to_include_path()
 #Do not add this dir to include dir
diff --git a/media_softlet/linux/common/os/media_srcs.cmake b/media_softlet/linux/common/os/media_srcs.cmake
index d5dbc5e88..86c749275 100644
--- a/media_softlet/linux/common/os/media_srcs.cmake
+++ b/media_softlet/linux/common/os/media_srcs.cmake
@@ -86,5 +86,5 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
-
+media_add_curr_to_include_path()
 endif() # CMAKE_WDDM_LINUX
diff --git a/media_softlet/linux/common/os/osservice/media_srcs.cmake b/media_softlet/linux/common/os/osservice/media_srcs.cmake
index e90c502f3..4ae3af79b 100644
--- a/media_softlet/linux/common/os/osservice/media_srcs.cmake
+++ b/media_softlet/linux/common/os/osservice/media_srcs.cmake
@@ -43,3 +43,4 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp b/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp
index c89127f56..4b799e3f6 100644
--- a/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp
+++ b/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp
@@ -34,8 +34,9 @@
 #include <signal.h>
 #include <unistd.h>  // fork
 #include <algorithm>
+#if !defined(ANDROID)
 #include <execinfo.h> // backtrace
-#include <sys/types.h>
+#endif
 #include <sys/stat.h>  // fstat
 #include <sys/ipc.h>  // System V IPC
 #include <sys/types.h>
diff --git a/media_softlet/linux/common/os/osservice/mos_utilities_specific.h b/media_softlet/linux/common/os/osservice/mos_utilities_specific.h
index b6a986af3..af18e7382 100644
--- a/media_softlet/linux/common/os/osservice/mos_utilities_specific.h
+++ b/media_softlet/linux/common/os/osservice/mos_utilities_specific.h
@@ -48,6 +48,7 @@ class MosMutex;
 //user feature
 #if ANDROID_VERSION >= 800
 #define USER_FEATURE_FILE                   "/data/igfx_user_feature.txt"
+#define USER_FEATURE_FILE_NEXT              "/data/igfx_user_feature_next.txt"
 #else
 #define USER_FEATURE_FILE                   "/etc/igfx_user_feature.txt"
 #define USER_FEATURE_FILE_NEXT              "/etc/igfx_user_feature_next.txt"
-- 
2.39.0

