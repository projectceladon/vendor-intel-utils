From 9b65be19688faa77aa0471fb65f81fb3701d0b7d Mon Sep 17 00:00:00 2001
From: yerriswamy <yerriswamy.kt@intel.com>
Date: Tue, 11 Apr 2023 15:01:20 +0530
Subject: [PATCH] Add changes to build latest media driver in Android

Changes include:
- Updating template files for c and cpp flags
- Fixes for compilation issues seen in Android
- Fixes to cmake files to make sure include files are
added to generated Android.mk file
- Added generated Android.mk files
- Updated Android.mk with paths missing

Change-Id: I243ac1d036783dabca1b18c2bade9f882b56a8a0
Tracked-On: OAM-110710
Signed-off-by: Jeevaka Prabu Badrappan <jeevaka.badrappan@intel.com>
Signed-off-by: Ratnesh Kumar Rai <ratnesh.kumar.rai@intel.com>
Signed-off-by: yerriswamy <yerriswamy.kt@intel.com>
---
 CMakeLists.txt                                |    4 +-
 .../Android/GenerateAndroidMk.py              |   25 +
 Tools/MediaDriverTools/Android/mk/cmrt.tpl    |    6 +
 Tools/MediaDriverTools/Android/mk/gmm.tpl     |   15 +-
 .../Android/mk/media_driver.tpl               |   27 +-
 cmrtlib/Android.mk                            |   86 +
 .../agnostic/common/cp/media_srcs.cmake       |    4 +-
 .../common/heap_manager/media_srcs.cmake      |    1 +
 .../agnostic/common/hw/media_srcs.cmake       |    4 +-
 .../agnostic/common/hw/vdbox/media_srcs.cmake |    6 +-
 .../common/media_interfaces/media_srcs.cmake  |    4 +-
 media_common/agnostic/common/media_srcs.cmake |    9 +-
 .../agnostic/common/os/media_srcs.cmake       |    1 +
 .../common/os/user_setting/media_srcs.cmake   |    3 +-
 .../common/renderhal/media_srcs.cmake         |    1 +
 .../agnostic/common/shared/media_srcs.cmake   |    3 +-
 .../agnostic/common/vp/hal/media_srcs.cmake   |    2 +
 .../agnostic/common/vp/kdll/media_srcs.cmake  |    1 +
 .../common/vp/kernel/media_srcs.cmake         |    4 +-
 .../linux/common/codec/media_srcs.cmake       |    5 +-
 .../linux/common/cp/ddi/media_srcs.cmake      |    2 +
 .../linux/common/cp/os/media_srcs.cmake       |    1 +
 media_common/linux/common/os/media_srcs.cmake |    1 +
 media_driver/Android.mk                       | 1988 +++++++++++++++++
 .../agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake  |    1 +
 .../Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake     |    1 +
 .../Xe_M/Xe_HPM/vp/hal/media_srcs.cmake       |    2 +
 .../agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake  |    2 +
 .../Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake     |    1 +
 .../Xe_M/Xe_XPM/vp/hal/media_srcs.cmake       |    2 +
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    2 +
 .../Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake    |    2 +
 .../Xe_XPM_plus/hw/vdbox/media_srcs.cmake     |    1 +
 .../Xe_M/Xe_XPM_plus/shared/media_srcs.cmake  |    4 +-
 .../Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake  |    2 +
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    2 +
 .../Xe_XPM_plus/vp/kernel/media_srcs.cmake    |    4 +-
 .../Xe_R/Xe_HP/hw/render/media_srcs.cmake     |    1 +
 .../Xe_R/Xe_HPC/hw/blt/media_srcs.cmake       |    1 +
 .../Xe_R/Xe_HPC/hw/render/media_srcs.cmake    |    1 +
 .../Xe_R/Xe_HPG/hw/render/media_srcs.cmake    |    1 +
 .../Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake   |    1 +
 .../Xe_HP_base/hw/render/media_srcs.cmake     |    1 +
 .../agnostic/common/hw/media_srcs.cmake       |    3 +-
 .../agnostic/common/hw/vdbox/media_srcs.cmake |    1 +
 .../common/media_interfaces/media_srcs.cmake  |    4 +-
 .../agnostic/common/os/media_srcs.cmake       |    2 +-
 .../common/renderhal/media_srcs.cmake         |    1 +
 .../agnostic/common/shared/media_srcs.cmake   |    1 +
 .../common/shared/mediacopy/media_srcs.cmake  |    1 +
 .../agnostic/common/vp/hal/media_srcs.cmake   |    2 +
 .../agnostic/common/vp/kdll/media_srcs.cmake  |    4 +-
 .../g12/g12_base/hw/render/media_srcs.cmake   |    1 +
 .../agnostic/gen10/cm/media_srcs.cmake        |    1 +
 .../agnostic/gen10/hw/media_srcs.cmake        |    2 +
 .../agnostic/gen10/hw/vdbox/media_srcs.cmake  |    1 +
 .../agnostic/gen10/renderhal/media_srcs.cmake |    1 +
 .../agnostic/gen10/vp/hal/media_srcs.cmake    |    2 +
 .../agnostic/gen10/vp/kernel/media_srcs.cmake |    2 +
 .../agnostic/gen11/cm/media_srcs.cmake        |    1 +
 .../agnostic/gen11/hw/media_srcs.cmake        |    1 +
 .../agnostic/gen11/hw/vdbox/media_srcs.cmake  |    1 +
 .../agnostic/gen11/renderhal/media_srcs.cmake |    1 +
 .../agnostic/gen11/vp/hal/media_srcs.cmake    |    4 +-
 .../gen11_icllp/vp/hal/media_srcs.cmake       |    4 +-
 .../gen11_icllp/vp/kernel/media_srcs.cmake    |    2 +
 .../vp/kernel_free/media_srcs.cmake           |    2 +
 .../gen11_jsl_ehl/renderhal/media_srcs.cmake  |    2 +
 .../gen11_jsl_ehl/vp/hal/media_srcs.cmake     |    4 +-
 .../agnostic/gen12/cm/media_srcs.cmake        |    1 +
 .../agnostic/gen12/hw/media_srcs.cmake        |    2 +
 .../agnostic/gen12/hw/vdbox/media_srcs.cmake  |    1 +
 .../agnostic/gen12/vp/hal/media_srcs.cmake    |    4 +-
 .../gen12_tgllp/vp/hal/media_srcs.cmake       |    4 +-
 .../vp/kernel/cmfc/media_srcs.cmake           |    4 +-
 .../vp/kernel/cmfccmlpch/media_srcs.cmake     |    4 +-
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    4 +-
 .../gen12_tgllp/vp/kernel/media_srcs.cmake    |    5 +-
 .../vp/kernel/swsb/media_srcs.cmake           |   23 +
 .../Source/Common/media_srcs.cmake            |   23 +
 .../Source/Components/media_srcs.cmake        |   23 +
 .../Source/Core_Kernels/media_srcs.cmake      |   23 +
 .../vp/kernel_free/Source/media_srcs.cmake    |   26 +
 .../vp/kernel_free/cmfc/media_srcs.cmake      |    2 +
 .../vp/kernel_free/cmfcpatch/media_srcs.cmake |    1 +
 .../vp/kernel_free/media_srcs.cmake           |    1 +
 .../agnostic/gen8/cm/media_srcs.cmake         |    1 +
 .../agnostic/gen8/hw/media_srcs.cmake         |    1 +
 .../agnostic/gen8/hw/vdbox/media_srcs.cmake   |    1 +
 .../agnostic/gen8/renderhal/media_srcs.cmake  |    1 +
 .../agnostic/gen8/vp/hal/media_srcs.cmake     |    2 +
 .../agnostic/gen8/vp/kdll/media_srcs.cmake    |    2 +
 .../agnostic/gen8/vp/kernel/media_srcs.cmake  |    4 +-
 .../gen8_bdw/hw/vdbox/media_srcs.cmake        |    4 +-
 .../gen8_bdw/renderhal/media_srcs.cmake       |    1 +
 .../agnostic/gen9/cm/media_srcs.cmake         |    1 +
 .../agnostic/gen9/hw/media_srcs.cmake         |    2 +
 .../agnostic/gen9/hw/vdbox/media_srcs.cmake   |    2 +
 .../agnostic/gen9/renderhal/media_srcs.cmake  |    1 +
 .../agnostic/gen9/vp/hal/media_srcs.cmake     |    2 +
 .../agnostic/gen9/vp/kernel/media_srcs.cmake  |    4 +-
 .../gen9_bxt/hw/vdbox/media_srcs.cmake        |    1 +
 .../agnostic/gen9_bxt/vp/hal/media_srcs.cmake |    4 +-
 .../gen9_cml/vp/kernel/media_srcs.cmake       |    4 +-
 .../gen9_cml/vp/kernel/tgp/media_srcs.cmake   |    2 +
 .../gen9_cmpv/vp/kernel/media_srcs.cmake      |    1 +
 .../gen9_glk/hw/vdbox/media_srcs.cmake        |    1 +
 .../agnostic/gen9_glk/vp/hal/media_srcs.cmake |    2 +
 .../gen9_kbl/hw/vdbox/media_srcs.cmake        |    1 +
 .../gen9_skl/hw/vdbox/media_srcs.cmake        |    1 +
 media_driver/agnostic/media_srcs.cmake        |   19 +-
 media_driver/agnostic/ult/cm/media_srcs.cmake |   23 +
 media_driver/agnostic/ult/media_srcs.cmake    |   23 +
 media_driver/linux/common/os/media_srcs.cmake |    2 +
 .../linux/gen12/ddi/media_libva_caps_g12.cpp  |    3 +
 .../media_interfaces_dg2/media_srcs.cmake     |    3 +-
 .../media_interfaces_m10_cnl/media_srcs.cmake |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_interfaces_m12_dg1/media_srcs.cmake |    3 +-
 .../media_interfaces_m12_rkl/media_srcs.cmake |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../media_interfaces_m8_bdw/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_bxt/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_cfl/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_glk/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_kbl/media_srcs.cmake  |    3 +-
 .../media_interfaces_m9_skl/media_srcs.cmake  |    3 +-
 .../media_interfaces_pvc/media_srcs.cmake     |    3 +-
 .../media_srcs.cmake                          |    3 +-
 .../agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake  |    1 +
 .../Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake     |    3 +-
 .../Xe_HPM/shared/mediacopy/media_srcs.cmake  |    4 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../Xe_HPM/vp/hal/packet/media_srcs.cmake     |    4 +-
 .../Xe_HPM/vp/hal/pipeline/media_srcs.cmake   |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../codec/hal/dec/avc/media_srcs.cmake        |    2 +-
 .../codec/hal/dec/hevc/media_srcs.cmake       |    2 +-
 .../codec/hal/dec/mpeg2/media_srcs.cmake      |    2 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../Xe_XPM/vp/hal/packet/media_srcs.cmake     |    4 +-
 .../Xe_XPM/vp/hal/pipeline/media_srcs.cmake   |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../Xe_M/Xe_XPM_base/hw/media_srcs.cmake      |    4 +-
 .../shared/mediacopy/media_srcs.cmake         |    3 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../vp/hal/packet/media_srcs.cmake            |    4 +-
 .../shared/mediacopy/media_srcs.cmake         |    3 +-
 .../Xe_R/Xe_HP/renderhal/media_srcs.cmake     |    3 +-
 .../Xe_R/Xe_HPC/renderhal/media_srcs.cmake    |    3 +-
 .../Xe_R/Xe_HPG/renderhal/media_srcs.cmake    |    3 +-
 .../Xe_HP_Base/renderhal/media_srcs.cmake     |    3 +-
 .../media_sfc_interface/media_srcs.cmake      |    3 +-
 .../shared/scalability/media_srcs.cmake       |    2 +
 .../common/vp/hal/packet/media_srcs.cmake     |    3 +-
 .../common/vp/hal/pipeline/media_srcs.cmake   |    3 +-
 .../hal/shared/scalability/media_srcs.cmake   |    1 +
 .../g12/g12_0/renderhal/media_srcs.cmake      |    3 +-
 .../g12/g12_1/renderhal/media_srcs.cmake      |    3 +-
 .../g12/g12_base/renderhal/media_srcs.cmake   |    3 +-
 .../gen12/codec/hal/dec/av1/media_srcs.cmake  |    2 +-
 .../agnostic/gen12/codec/hal/media_srcs.cmake |    2 +-
 .../agnostic/gen12/vp/hal/media_srcs.cmake    |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../m12/m12/vp/hal/packet/media_srcs.cmake    |    2 +
 .../m12_0/shared/mediacopy/media_srcs.cmake   |    3 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 media_driver/media_top_cmake.cmake            |    3 +-
 .../hal/dec/av1/pipeline/media_srcs.cmake     |    3 +-
 .../hal/dec/avc/pipeline/media_srcs.cmake     |    4 +-
 .../hal/dec/hevc/pipeline/media_srcs.cmake    |    3 +-
 .../codec/hal/dec/jpeg/media_srcs.cmake       |    4 +-
 .../codec/hal/dec/mpeg2/media_srcs.cmake      |    3 +-
 .../hal/dec/vp8/pipeline/media_srcs.cmake     |    4 +-
 .../hal/dec/vp9/pipeline/media_srcs.cmake     |    4 +-
 .../codec/hal/enc/av1/packet/media_srcs.cmake |    1 +
 .../hal/enc/av1/pipeline/media_srcs.cmake     |    3 +-
 .../hal/enc/hevc/features/media_srcs.cmake    |    3 +-
 .../hal/enc/hevc/packet/media_srcs.cmake      |    3 +-
 .../hal/enc/hevc/pipeline/media_srcs.cmake    |    3 +-
 .../hal/enc/vp9/features/media_srcs.cmake     |    4 +-
 .../codec/hal/enc/vp9/packet/media_srcs.cmake |    4 +-
 .../hal/enc/vp9/pipeline/media_srcs.cmake     |    4 +-
 .../Xe_M_plus/Xe_LPM_plus/hw/media_srcs.cmake |    3 +-
 .../Xe_LPM_plus/hw/vdbox/media_srcs.cmake     |    4 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../vp/hal/packet/media_srcs.cmake            |    4 +-
 .../vp/hal/pipeline/media_srcs.cmake          |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../hal/dec/av1/features/media_srcs.cmake     |    4 +-
 .../codec/hal/dec/av1/packet/media_srcs.cmake |    1 +
 .../hal/dec/av1/pipeline/media_srcs.cmake     |    2 +
 .../codec/hal/dec/avc/packet/media_srcs.cmake |    2 +
 .../hal/dec/avc/pipeline/media_srcs.cmake     |    2 +
 .../codec/hal/dec/hevc/mmc/media_srcs.cmake   |    4 +-
 .../hal/dec/hevc/packet/media_srcs.cmake      |    4 +-
 .../hal/dec/hevc/pipeline/media_srcs.cmake    |    4 +-
 .../hal/dec/jpeg/packet/media_srcs.cmake      |    2 +
 .../hal/dec/jpeg/pipeline/media_srcs.cmake    |    2 +
 .../codec/hal/dec/mpeg2/mmc/media_srcs.cmake  |    2 +
 .../hal/dec/mpeg2/packet/media_srcs.cmake     |    2 +
 .../hal/dec/mpeg2/pipeline/media_srcs.cmake   |    2 +
 .../codec/hal/dec/shared/media_srcs.cmake     |    4 +-
 .../codec/hal/dec/vp8/mmc/media_srcs.cmake    |    2 +
 .../codec/hal/dec/vp8/packet/media_srcs.cmake |    2 +
 .../hal/dec/vp8/pipeline/media_srcs.cmake     |    2 +
 .../codec/hal/dec/vp9/mmc/media_srcs.cmake    |    4 +-
 .../codec/hal/dec/vp9/packet/media_srcs.cmake |    4 +-
 .../hal/dec/vp9/pipeline/media_srcs.cmake     |    4 +-
 .../hal/enc/av1/features/media_srcs.cmake     |    2 +
 .../enc/av1/features/preenc/media_srcs.cmake  |    4 +-
 .../codec/hal/enc/av1/packet/media_srcs.cmake |    4 +-
 .../hal/enc/av1/pipeline/media_srcs.cmake     |    2 +
 .../hal/enc/avc/features/media_srcs.cmake     |    4 +-
 .../hal/enc/avc/pipeline/media_srcs.cmake     |    4 +-
 .../hal/enc/hevc/features/media_srcs.cmake    |    2 +
 .../enc/hevc/features/preenc/media_srcs.cmake |    2 +
 .../hal/enc/hevc/pipeline/media_srcs.cmake    |    4 +-
 .../hal/enc/jpeg/pipeline/media_srcs.cmake    |    4 +-
 .../hal/enc/shared/common/media_srcs.cmake    |    4 +-
 .../codec/hal/enc/vp9/packet/media_srcs.cmake |    4 +-
 .../hal/enc/vp9/pipeline/media_srcs.cmake     |    4 +-
 .../codec/hal/shared/media_srcs.cmake         |    4 +-
 .../Xe_LPM_plus_base/hw/media_srcs.cmake      |    2 +-
 .../hw/vdbox/media_srcs.cmake                 |    4 +-
 .../shared/mediaDecompress/media_srcs.cmake   |    4 +-
 .../shared/mediacopy/media_srcs.cmake         |    4 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../vp/hal/packet/media_srcs.cmake            |    4 +-
 .../Xe_R/Xe_HPG/renderhal/media_srcs.cmake    |    3 +-
 .../Source/Common/media_srcs.cmake            |   21 +
 .../Source/Components/media_srcs.cmake        |   21 +
 .../Source/Core_Kernels/media_srcs.cmake      |   21 +
 .../vp/kernel_free/Source/media_srcs.cmake    |   24 +
 .../Xe_R/Xe_HPG_Base/hw/media_srcs.cmake      |    3 +-
 .../Xe_HPG_Base/renderhal/media_srcs.cmake    |    3 +-
 .../vp/kernel/cmfcpatch/media_srcs.cmake      |    4 +-
 .../Xe_HPG_Base/vp/kernel/media_srcs.cmake    |    4 +-
 .../vp/kernel_free/cmfcpatch/media_srcs.cmake |    3 +-
 .../vp/kernel_free/media_srcs.cmake           |    5 +-
 media_softlet/agnostic/Xe_R/media_srcs.cmake  |    1 +
 .../hal/dec/av1/features/media_srcs.cmake     |    2 +
 .../codec/hal/dec/av1/packet/media_srcs.cmake |    4 +-
 .../hal/dec/av1/pipeline/media_srcs.cmake     |    4 +-
 .../hal/dec/avc/features/media_srcs.cmake     |    4 +-
 .../codec/hal/dec/avc/packet/media_srcs.cmake |    4 +-
 .../hal/dec/avc/pipeline/media_srcs.cmake     |    4 +-
 .../hal/dec/hevc/features/media_srcs.cmake    |    4 +-
 .../codec/hal/dec/hevc/mmc/media_srcs.cmake   |    4 +-
 .../hal/dec/hevc/packet/media_srcs.cmake      |    4 +-
 .../hal/dec/hevc/pipeline/media_srcs.cmake    |    4 +-
 .../hal/dec/hevc/scalability/media_srcs.cmake |    4 +-
 .../hal/dec/jpeg/bitstream/media_srcs.cmake   |    4 +-
 .../hal/dec/jpeg/features/media_srcs.cmake    |    4 +-
 .../hal/dec/jpeg/packet/media_srcs.cmake      |    4 +-
 .../hal/dec/jpeg/pipeline/media_srcs.cmake    |    4 +-
 .../hal/dec/mpeg2/features/media_srcs.cmake   |    4 +-
 .../codec/hal/dec/mpeg2/mmc/media_srcs.cmake  |    4 +-
 .../hal/dec/mpeg2/packet/media_srcs.cmake     |    4 +-
 .../hal/dec/mpeg2/pipeline/media_srcs.cmake   |    4 +-
 .../hal/dec/shared/bufferMgr/media_srcs.cmake |    4 +-
 .../hal/dec/shared/features/media_srcs.cmake  |    3 +-
 .../hal/dec/shared/hucItf/media_srcs.cmake    |    4 +-
 .../codec/hal/dec/shared/media_srcs.cmake     |    1 +
 .../codec/hal/dec/shared/mmc/media_srcs.cmake |    4 +-
 .../hal/dec/shared/packet/media_srcs.cmake    |    1 +
 .../hal/dec/shared/pipeline/media_srcs.cmake  |    1 +
 .../dec/shared/scalability/media_srcs.cmake   |    1 +
 .../dec/shared/statusreport/media_srcs.cmake  |    1 +
 .../hal/dec/vp8/features/media_srcs.cmake     |    4 +-
 .../codec/hal/dec/vp8/mmc/media_srcs.cmake    |    4 +-
 .../codec/hal/dec/vp8/packet/media_srcs.cmake |    4 +-
 .../hal/dec/vp8/pipeline/media_srcs.cmake     |    4 +-
 .../hal/dec/vp9/features/media_srcs.cmake     |    4 +-
 .../codec/hal/dec/vp9/mmc/media_srcs.cmake    |    4 +-
 .../codec/hal/dec/vp9/packet/media_srcs.cmake |    4 +-
 .../hal/dec/vp9/pipeline/media_srcs.cmake     |    4 +-
 .../hal/dec/vp9/scalability/media_srcs.cmake  |    4 +-
 .../hal/enc/av1/features/media_srcs.cmake     |    4 +-
 .../codec/hal/enc/av1/packet/media_srcs.cmake |    4 +-
 .../hal/enc/av1/pipeline/media_srcs.cmake     |    2 +
 .../hal/enc/avc/features/media_srcs.cmake     |    4 +-
 .../hal/enc/avc/features/roi/media_srcs.cmake |    2 +
 .../codec/hal/enc/avc/packet/media_srcs.cmake |    2 +
 .../hal/enc/avc/pipeline/media_srcs.cmake     |    2 +
 .../hal/enc/hevc/features/media_srcs.cmake    |    2 +
 .../enc/hevc/features/roi/media_srcs.cmake    |    2 +
 .../hal/enc/hevc/packet/media_srcs.cmake      |    4 +-
 .../hal/enc/hevc/pipeline/media_srcs.cmake    |    4 +-
 .../hal/enc/jpeg/features/media_srcs.cmake    |    4 +-
 .../hal/enc/jpeg/packet/media_srcs.cmake      |    2 +
 .../hal/enc/jpeg/pipeline/media_srcs.cmake    |    4 +-
 .../shared/bitstreamWriter/media_srcs.cmake   |    4 +-
 .../hal/enc/shared/bufferMgr/media_srcs.cmake |    4 +-
 .../hal/enc/shared/features/media_srcs.cmake  |    4 +-
 .../codec/hal/enc/shared/media_srcs.cmake     |    4 +-
 .../codec/hal/enc/shared/mmc/media_srcs.cmake |    4 +-
 .../hal/enc/shared/packet/media_srcs.cmake    |    4 +-
 .../hal/enc/shared/pipeline/media_srcs.cmake  |    4 +-
 .../enc/shared/scalability/media_srcs.cmake   |    4 +-
 .../enc/shared/statusreport/media_srcs.cmake  |    3 +
 .../hal/enc/vp9/features/media_srcs.cmake     |    4 +-
 .../codec/hal/enc/vp9/packet/media_srcs.cmake |    4 +-
 .../hal/enc/vp9/pipeline/media_srcs.cmake     |    2 +
 .../common/codec/hal/shared/media_srcs.cmake  |    2 +
 .../agnostic/common/cp/media_srcs.cmake       |    4 +-
 .../common/heap_manager/media_srcs.cmake      |    4 +-
 .../agnostic/common/hw/media_srcs.cmake       |    3 +-
 .../agnostic/common/hw/vdbox/media_srcs.cmake |    4 +-
 .../common/media_bin_mgr/media_srcs.cmake     |    5 +-
 .../common/media_interfaces/media_srcs.cmake  |    4 +-
 .../agnostic/common/os/media_srcs.cmake       |    1 +
 .../agnostic/common/os/share/media_srcs.cmake |    2 +
 .../common/os/user_setting/media_srcs.cmake   |    3 +-
 .../common/renderhal/media_srcs.cmake         |    3 +-
 .../common/shared/bufferMgr/media_srcs.cmake  |    2 +
 .../common/shared/features/media_srcs.cmake   |    4 +-
 .../media_sfc_interface/media_srcs.cmake      |    4 +-
 .../agnostic/common/shared/media_srcs.cmake   |    4 +-
 .../shared/mediacontext/media_srcs.cmake      |    3 +-
 .../common/shared/mediacopy/media_srcs.cmake  |    4 +-
 .../common/shared/mmc/media_srcs.cmake        |    4 +-
 .../common/shared/packet/media_srcs.cmake     |    4 +-
 .../common/shared/pipeline/media_srcs.cmake   |    4 +-
 .../common/shared/profiler/media_srcs.cmake   |    2 +
 .../shared/scalability/media_srcs.cmake       |    1 +
 .../shared/statusreport/media_srcs.cmake      |    1 +
 .../common/shared/task/media_srcs.cmake       |    4 +-
 .../common/vp/cm_fc_ld/media_srcs.cmake       |    2 +
 .../common/vp/hal/bufferMgr/media_srcs.cmake  |    4 +-
 .../common/vp/hal/bufferMgr/vp_allocator.cpp  |    2 +-
 .../vp/hal/feature_manager/media_srcs.cmake   |    4 +-
 .../common/vp/hal/features/media_srcs.cmake   |    4 +-
 .../common/vp/hal/mmc/media_srcs.cmake        |    4 +-
 .../common/vp/hal/packet/media_srcs.cmake     |    4 +-
 .../common/vp/hal/pipeline/media_srcs.cmake   |    4 +-
 .../hal/platform_interface/media_srcs.cmake   |    4 +-
 .../vp/hal/scalability/media_srcs.cmake       |    4 +-
 .../hal/shared/scalability/media_srcs.cmake   |    2 +
 .../vp/hal/statusreport/media_srcs.cmake      |    4 +-
 .../hal/utils/hal_ddi_share/media_srcs.cmake  |    4 +-
 .../common/vp/hal/utils/media_srcs.cmake      |    4 +-
 .../agnostic/common/vp/kdll/media_srcs.cmake  |    2 +
 .../common/codec/ddi/dec/media_srcs.cmake     |    4 +-
 .../common/codec/ddi/enc/media_srcs.cmake     |    2 +
 .../common/codec/ddi/shared/media_srcs.cmake  |    4 +-
 .../linux/common/cp/ddi/media_srcs.cmake      |    2 +
 .../linux/common/cp/media_srcs.cmake          |    2 +
 .../linux/common/ddi/media_srcs.cmake         |    4 +-
 .../common/os/i915/include/media_srcs.cmake   |    2 +
 .../os/i915/include/uapi/media_srcs.cmake     |    1 +
 .../linux/common/os/i915/media_srcs.cmake     |    2 +
 .../i915_production/include/media_srcs.cmake  |    4 +-
 .../os/i915_production/media_srcs.cmake       |    1 +
 .../linux/common/os/media_srcs.cmake          |    2 +-
 .../common/os/osservice/media_srcs.cmake      |    1 +
 .../os/osservice/mos_utilities_specific.cpp   |    6 +-
 .../os/osservice/mos_utilities_specific.h     |    1 +
 .../linux/common/vp/ddi/media_srcs.cmake      |    2 +
 .../linux/xe_lpm_plus_r0/ddi/media_srcs.cmake |    4 +-
 .../encode/av1/ddi/media_srcs.cmake           |    2 +
 .../encode/avc/ddi/media_srcs.cmake           |    4 +-
 .../encode/hevc/ddi/media_srcs.cmake          |    4 +-
 .../encode/jpeg/ddi/media_srcs.cmake          |    2 +
 .../encode/vp9/ddi/media_srcs.cmake           |    4 +-
 .../xe_lpm_plus_r0/vp/ddi/media_srcs.cmake    |    4 +-
 .../media_interfaces_mtl/media_srcs.cmake     |    5 +-
 371 files changed, 3207 insertions(+), 246 deletions(-)
 create mode 100644 cmrtlib/Android.mk
 create mode 100644 media_driver/Android.mk
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
 create mode 100644 media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake
 create mode 100644 media_driver/agnostic/ult/cm/media_srcs.cmake
 create mode 100644 media_driver/agnostic/ult/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
 create mode 100644 media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 9adc2dc4c..e9c2611e2 100755
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -53,9 +53,9 @@ cmake_dependent_option( ENABLE_NONFREE_KERNELS
 cmake_dependent_option( BUILD_KERNELS
     "Rebuild shaders (kernels) from sources" OFF
     "ENABLE_KERNELS;NOT ENABLE_NONFREE_KERNELS" OFF)
-option (BUILD_CMRTLIB "Build and Install cmrtlib together with media driver" ON)
+option (BUILD_CMRTLIB "Build and Install cmrtlib together with media driver" OFF)
 
-option (ENABLE_PRODUCTION_KMD "Enable Production KMD header files" OFF)
+option (ENABLE_PRODUCTION_KMD "Enable Production KMD header files" ON)
 option (ENABLE_XE_KMD "Enable XE KMD header files" ON)
 
 include(GNUInstallDirs)
diff --git a/Tools/MediaDriverTools/Android/GenerateAndroidMk.py b/Tools/MediaDriverTools/Android/GenerateAndroidMk.py
index 84126a73e..2ffcbc269 100755
--- a/Tools/MediaDriverTools/Android/GenerateAndroidMk.py
+++ b/Tools/MediaDriverTools/Android/GenerateAndroidMk.py
@@ -145,6 +145,7 @@ class Generator:
 
     def getDefines(self, name):
         flags = path.join(self.getBuildDir(), self.getFlagsfile())
+        text = None
         with open(flags) as f:
             text = f.read()
         line = re.findall(name + " =.*\n", text)[0]
@@ -233,7 +234,31 @@ class DriverGeneator(Generator):
     def getFlagsfile(self):
         return "media_driver/CMakeFiles/iHD_drv_video.dir/flags.make"
 
+    def getIncludes(self):
+         text = self.getDefines("CXX_INCLUDES")
+         preself = path.abspath(path.join(self.src, "../"))
+         print("self="+self.src)
+         print("preself="+preself)
+         includes = []
+         lines = text.split("\n")
+         for l in lines:
+             #normpath will make sure we did not refer outside.
+             p = path.normpath(l)
+             print("Inc=" + p);
+             j = p.find(self.src)
+             i = p.find(preself)
+             if j != -1:
+                 includes.append(p[j:].replace(self.src, "$(LOCAL_PATH)"))
+             else:
+                 if i != -1:
+                     includes.append(p[i:].replace(preself, "$(LOCAL_PATH)/.."))
+         return INDENT + ("\n" + INDENT).join(includes) if includes else ""
+
     def adjustSources(self, lines):
+        for i, l in enumerate(lines):
+            j = l.find("__/")
+            if j != -1:
+                lines[i] = path.join("..", l[j+3:])
         lines[:] = [l for l in lines if "media_libva_putsurface_linux.cpp" not in l]
 
 class Main:
diff --git a/Tools/MediaDriverTools/Android/mk/cmrt.tpl b/Tools/MediaDriverTools/Android/mk/cmrt.tpl
index 470cc64b3..6af93c859 100644
--- a/Tools/MediaDriverTools/Android/mk/cmrt.tpl
+++ b/Tools/MediaDriverTools/Android/mk/cmrt.tpl
@@ -33,6 +33,12 @@ LOCAL_C_INCLUDES += \
 @LOCAL_C_INCLUDES
 
 LOCAL_CFLAGS += \
+    -Wno-implicit-fallthrough \
+    -Wno-reorder-ctor \
+    -Wno-error \
+    -Wno-unused-variable \
+    -Wno-unused-parameter \
+    -Wno-unused-private-field \
     -Wno-non-virtual-dtor \
     -DANDROID=1 \
 @LOCAL_CFLAGS
diff --git a/Tools/MediaDriverTools/Android/mk/gmm.tpl b/Tools/MediaDriverTools/Android/mk/gmm.tpl
index 863be9d2e..a5339c0e1 100644
--- a/Tools/MediaDriverTools/Android/mk/gmm.tpl
+++ b/Tools/MediaDriverTools/Android/mk/gmm.tpl
@@ -26,11 +26,20 @@ LOCAL_PROPRIETARY_MODULE := true
 LOCAL_SRC_FILES = \
 @LOCAL_SRC_FILES
 
-LOCAL_CFLAGS = \
+LOCAL_CFLAGS := \
+    -Wno-error \
+    -Wno-unused-parameter \
+    -msse2 \
+    -msse3 \
+    -mssse3 \
+    -msse4.1 \
+    -msse4.2 \
 @LOCAL_CFLAGS
 
-LOCAL_CPPFLAGS = \
-    -std=c++11
+LOCAL_CPPFLAGS := \
+    -Wno-pragma-pack \
+    -fexceptions \
+    -std=c++11 \
 
 LOCAL_C_INCLUDES = \
 @LOCAL_C_INCLUDES
diff --git a/Tools/MediaDriverTools/Android/mk/media_driver.tpl b/Tools/MediaDriverTools/Android/mk/media_driver.tpl
index f51b83d43..c494b46cd 100644
--- a/Tools/MediaDriverTools/Android/mk/media_driver.tpl
+++ b/Tools/MediaDriverTools/Android/mk/media_driver.tpl
@@ -35,16 +35,39 @@ LOCAL_SHARED_LIBRARIES := \
     liblog \
 
 
-LOCAL_STATIC_LIBRARIES = \
+LOCAL_STATIC_LIBRARIES := \
     libgmm_umd \
 
-LOCAL_CPPFLAGS = \
+LOCAL_CPPFLAGS := \
+    -Wno-delete-incomplete \
+    -Wno-implicit-fallthrough \
+    -Wno-overloaded-virtual \
+    -Wno-logical-op-parentheses \
+    -Wno-missing-braces \
+    -Wno-ignored-qualifiers \
+    -Wno-missing-field-initializers \
+    -Wno-deprecated-declarations \
+    -Wno-parentheses-equality \
+    -Wno-parentheses \
+    -Wno-reorder-ctor \
+    -Wno-comment \
+    -Wno-format \
+    -Wno-error \
+    -Wno-pragma-pack \
+    -Wno-unused-parameter \
+    -Wno-c++11-narrowing \
     -DDRV_I915 \
     -DOTC_GRALLOC \
+    -DANDROID \
     -DANDROID_VERSION=800 \
     -fexceptions \
     -frtti \
     -std=c++14 \
+    -msse2 \
+    -msse3 \
+    -mssse3 \
+    -msse4.1 \
+    -msse4.2 \
 @LOCAL_CFLAGS
 
 LOCAL_CONLYFLAGS = -x c++
diff --git a/cmrtlib/Android.mk b/cmrtlib/Android.mk
new file mode 100644
index 000000000..69c511edf
--- /dev/null
+++ b/cmrtlib/Android.mk
@@ -0,0 +1,86 @@
+# Copyright(c) 2018 Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files(the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and / or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+LOCAL_PATH:= $(call my-dir)
+
+
+$(info value of CMRT_BUILD_TYPE is: $(CMRT_BUILD_TYPE))
+$(info value of CMRT_ARCH is: $(CMRT_ARCH))
+
+include $(CLEAR_VARS)
+
+LOCAL_SRC_FILES := \
+    agnostic/hardware/cm_device.cpp \
+    agnostic/hardware/cm_device_export.cpp \
+    agnostic/hardware/cm_kernel_debugger.cpp \
+    agnostic/hardware/cm_perf_statistics.cpp \
+    agnostic/hardware/cm_queue.cpp \
+    agnostic/hardware/cm_surface_manager.cpp \
+    agnostic/hardware/cm_timer.cpp \
+    agnostic/share/cm_avs_state_msg_ex.cpp \
+    agnostic/share/cm_printf_host.cpp \
+    agnostic/share/cm_rt_helpers.cpp \
+    linux/hardware/cm_device_export_os.cpp \
+    linux/hardware/cm_device_os.cpp \
+    linux/hardware/cm_surface_manager_os.cpp \
+    linux/hardware/cm_timer_os.cpp \
+    linux/share/cm_performance.cpp \
+
+LOCAL_C_INCLUDES += \
+    $(LOCAL_PATH)/proprietary/share \
+    $(LOCAL_PATH)/agnostic/share \
+    $(LOCAL_PATH)/agnostic/hardware \
+    $(LOCAL_PATH)/linux/share \
+    $(LOCAL_PATH)/linux/hardware
+
+LOCAL_CFLAGS += \
+    -Wno-implicit-fallthrough \
+    -Wno-reorder-ctor \
+    -Wno-error \
+    -Wno-unused-variable \
+    -Wno-unused-parameter \
+    -Wno-unused-private-field \
+    -Wno-non-virtual-dtor \
+    -DANDROID=1 \
+    -DCM_RT_EXPORTS \
+    -DISTDLIB_UMD \
+    -DVPHAL \
+    -D__CT__ \
+    -Digfxcmrt_EXPORTS
+
+ifeq ($(CMRT_BUILD_TYPE), debug)
+    LOCAL_CFLAGS += \
+        -D_DEBUG \
+        -D__DEBUG \
+        -O0
+else
+    LOCAL_CFLAGS += \
+        -fno-strict-aliasing \
+        -D_FORTIFY_SOURCE=2
+endif
+
+
+LOCAL_MODULE := libigfxcmrt
+LOCAL_PROPRIETARY_MODULE := true
+
+LOCAL_LDLIBS := -lc -lva -lva-android
+LOCAL_SHARED_LIBRARIES := libc libdl libcutils liblog libutils libm libva libva-android
+
+include $(BUILD_SHARED_LIBRARY)
diff --git a/media_common/agnostic/common/cp/media_srcs.cmake b/media_common/agnostic/common/cp/media_srcs.cmake
index 646ecd382..1c548ebdf 100644
--- a/media_common/agnostic/common/cp/media_srcs.cmake
+++ b/media_common/agnostic/common/cp/media_srcs.cmake
@@ -38,4 +38,6 @@ set(COMMON_CP_DIRECTORIES_
 set(CP_INTERFACE_DIRECTORIES_
     ${CP_INTERFACE_DIRECTORIES_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_common/agnostic/common/heap_manager/media_srcs.cmake b/media_common/agnostic/common/heap_manager/media_srcs.cmake
index f882c7e7f..54650883b 100644
--- a/media_common/agnostic/common/heap_manager/media_srcs.cmake
+++ b/media_common/agnostic/common/heap_manager/media_srcs.cmake
@@ -32,6 +32,7 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "Common Files" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/hw/media_srcs.cmake b/media_common/agnostic/common/hw/media_srcs.cmake
index 45dc8126c..7ad4170e6 100644
--- a/media_common/agnostic/common/hw/media_srcs.cmake
+++ b/media_common/agnostic/common/hw/media_srcs.cmake
@@ -18,6 +18,7 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
 media_include_subdirectory(vdbox)
 
 set(TMP_HEADERS_
@@ -90,6 +91,7 @@ source_group("MHW\\BLT" FILES ${TMP_BLT_HEADERS_})
 source_group("MHW\\Common MI" FILES ${TMP_MI_HEADERS_})
 source_group("MHW\\SFC" FILES ${TMP_SFC_HEADERS_})
 source_group("MHW\\VEBOX" FILES ${TMP_VEBOX_HEADERS_})
+
 set(SOFTLET_MHW_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
@@ -118,4 +120,4 @@ set(SOFTLET_MHW_SFC_PRIVATE_INCLUDE_DIRS_
 set(SOFTLET_MHW_VEBOX_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_VEBOX_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_common/agnostic/common/hw/vdbox/media_srcs.cmake b/media_common/agnostic/common/hw/vdbox/media_srcs.cmake
index 912dc9f1f..0867f0a67 100644
--- a/media_common/agnostic/common/hw/vdbox/media_srcs.cmake
+++ b/media_common/agnostic/common/hw/vdbox/media_srcs.cmake
@@ -19,7 +19,7 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 set(TMP_SOFTLET_MHW_VDBOX_COMMON_HEADERS_
-    ${CMAKE_CURRENT_LIST_DIR}/mhw_vdbox.h 
+    ${CMAKE_CURRENT_LIST_DIR}/mhw_vdbox.h
 )
 
 set(SOFTLET_MHW_VDBOX_COMMON_HEADERS_
@@ -53,4 +53,6 @@ set(TMP_SOFTLET_MHW_VDBOX_HUC_HEADERS_ "")
 set(SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_common/agnostic/common/media_interfaces/media_srcs.cmake b/media_common/agnostic/common/media_interfaces/media_srcs.cmake
index a53df43bb..b76e57cfd 100644
--- a/media_common/agnostic/common/media_interfaces/media_srcs.cmake
+++ b/media_common/agnostic/common/media_interfaces/media_srcs.cmake
@@ -34,4 +34,6 @@ set(SOFTLET_COMMON_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_common/agnostic/common/media_srcs.cmake b/media_common/agnostic/common/media_srcs.cmake
index 4c96dc832..7191460a9 100644
--- a/media_common/agnostic/common/media_srcs.cmake
+++ b/media_common/agnostic/common/media_srcs.cmake
@@ -18,12 +18,13 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
-media_include_subdirectory(os)
 media_include_subdirectory(codec)
-media_include_subdirectory(vp)
+media_include_subdirectory(cp)
 media_include_subdirectory(heap_manager)
 media_include_subdirectory(hw)
-media_include_subdirectory(shared)
 media_include_subdirectory(media_interfaces)
+media_include_subdirectory(os)
 media_include_subdirectory(renderhal)
-media_include_subdirectory(cp)
+media_include_subdirectory(shared)
+media_include_subdirectory(vp)
+
diff --git a/media_common/agnostic/common/os/media_srcs.cmake b/media_common/agnostic/common/os/media_srcs.cmake
index 2d6f2cb65..d3e2932ed 100644
--- a/media_common/agnostic/common/os/media_srcs.cmake
+++ b/media_common/agnostic/common/os/media_srcs.cmake
@@ -40,4 +40,5 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
+media_add_curr_to_include_path()
 source_group( "mos_softlet" FILES ${TMP_HEADERS_} )
diff --git a/media_common/agnostic/common/os/user_setting/media_srcs.cmake b/media_common/agnostic/common/os/user_setting/media_srcs.cmake
index 2f84e8ddd..6d72ac737 100644
--- a/media_common/agnostic/common/os/user_setting/media_srcs.cmake
+++ b/media_common/agnostic/common/os/user_setting/media_srcs.cmake
@@ -18,6 +18,7 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
 
 set(TMP_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/media_user_setting_configure.h
@@ -50,4 +51,4 @@ set(SOFTLET_COMMON_DLL_PRIVATE_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
-source_group( "mos_softlet" FILES ${TMP_HEADERS_} ${TMP_SHARED_HEADERS_} )
\ No newline at end of file
+source_group( "mos_softlet" FILES ${TMP_HEADERS_} ${TMP_SHARED_HEADERS_} )
diff --git a/media_common/agnostic/common/renderhal/media_srcs.cmake b/media_common/agnostic/common/renderhal/media_srcs.cmake
index 821a1c2ac..eb5fbe949 100644
--- a/media_common/agnostic/common/renderhal/media_srcs.cmake
+++ b/media_common/agnostic/common/renderhal/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/shared/media_srcs.cmake b/media_common/agnostic/common/shared/media_srcs.cmake
index bdb57f148..013af4f85 100644
--- a/media_common/agnostic/common/shared/media_srcs.cmake
+++ b/media_common/agnostic/common/shared/media_srcs.cmake
@@ -30,8 +30,9 @@ set(SOFTLET_COMMON_HEADERS_
 )
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_common/agnostic/common/vp/hal/media_srcs.cmake b/media_common/agnostic/common/vp/hal/media_srcs.cmake
index 986cc1521..2379696f1 100644
--- a/media_common/agnostic/common/vp/hal/media_srcs.cmake
+++ b/media_common/agnostic/common/vp/hal/media_srcs.cmake
@@ -37,3 +37,5 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_common/agnostic/common/vp/kdll/media_srcs.cmake b/media_common/agnostic/common/vp/kdll/media_srcs.cmake
index dadef518c..f68cacfdf 100644
--- a/media_common/agnostic/common/vp/kdll/media_srcs.cmake
+++ b/media_common/agnostic/common/vp/kdll/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_VP_HEADERS_
 
 source_group( "VpHalNext\\Kernel DLL" FILES ${TMP_HEADERS_} )
 set(TMP_HEADERS_ "")
+media_add_curr_to_include_path()
 
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_common/agnostic/common/vp/kernel/media_srcs.cmake b/media_common/agnostic/common/vp/kernel/media_srcs.cmake
index 4833778f8..2d3a36130 100755
--- a/media_common/agnostic/common/vp/kernel/media_srcs.cmake
+++ b/media_common/agnostic/common/vp/kernel/media_srcs.cmake
@@ -37,4 +37,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_common/linux/common/codec/media_srcs.cmake b/media_common/linux/common/codec/media_srcs.cmake
index 35f1d982b..a0fa05194 100644
--- a/media_common/linux/common/codec/media_srcs.cmake
+++ b/media_common/linux/common/codec/media_srcs.cmake
@@ -32,4 +32,7 @@ set(SOFTLET_CODEC_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_CODEC_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
-endif()
\ No newline at end of file
+
+media_add_curr_to_include_path()
+
+endif()
diff --git a/media_common/linux/common/cp/ddi/media_srcs.cmake b/media_common/linux/common/cp/ddi/media_srcs.cmake
index ec1813eb8..5b7325733 100644
--- a/media_common/linux/common/cp/ddi/media_srcs.cmake
+++ b/media_common/linux/common/cp/ddi/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/media_ddi_prot.h
 )
diff --git a/media_common/linux/common/cp/os/media_srcs.cmake b/media_common/linux/common/cp/os/media_srcs.cmake
index cde44d828..c95b87248 100644
--- a/media_common/linux/common/cp/os/media_srcs.cmake
+++ b/media_common/linux/common/cp/os/media_srcs.cmake
@@ -43,3 +43,4 @@ set(CP_INTERFACE_DIRECTORIES_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 endif()
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_common/linux/common/os/media_srcs.cmake b/media_common/linux/common/os/media_srcs.cmake
index e117b5e8d..828fa2060 100644
--- a/media_common/linux/common/os/media_srcs.cmake
+++ b/media_common/linux/common/os/media_srcs.cmake
@@ -44,4 +44,5 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
+media_add_curr_to_include_path()
 endif() # CMAKE_WDDM_LINUX
diff --git a/media_driver/Android.mk b/media_driver/Android.mk
new file mode 100644
index 000000000..4bb53a2ae
--- /dev/null
+++ b/media_driver/Android.mk
@@ -0,0 +1,1988 @@
+
+# Copyright(c) 2018 Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files(the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and / or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+LOCAL_PATH:= $(call my-dir)
+
+include $(CLEAR_VARS)
+
+LOCAL_SRC_FILES := \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/av1/pipeline/decode_av1_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/avc/pipeline/decode_avc_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/jpeg/decode_jpeg_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/mpeg2/decode_mpeg2_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp8/pipeline/decode_vp8_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/packet/encode_av1_vdenc_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet/encode_hevc_vdenc_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet/encode_huc_brc_update_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features/encode_vp9_vdenc_const_settings_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features/encode_vp9_vdenc_feature_manager_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/encode_vp9_dynamic_scal_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/encode_vp9_pak_integrate_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/encode_vp9_vdenc_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline/encode_vp9_vdenc_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline/encode_vp9_vdenc_pipeline_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/mhw_sfc_hwcmd_xe_lpm_plus_next.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/mhw_vebox_hwcmd_xe_lpm_plus_next.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/mhw_vdbox_avp_hwcmd_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/mhw_vdbox_huc_hwcmd_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/mhw_vdbox_mfx_hwcmd_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/feature_manager/vp_feature_manager_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet/vp_render_sfc_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet/vp_vebox_cmd_packet_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/pipeline/vp_pipeline_adapter_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/platform_interface/vp_platform_interface_xe_lpm_plus.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features/decode_av1_basic_feature_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features/decode_av1_feature_manager_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/decode_av1_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/decode_av1_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/decode_av1_tile_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/decode_av1_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/decode_av1_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/decode_av1_status_report_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/decode_avc_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/decode_avc_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/decode_avc_slice_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline/decode_avc_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline/decode_avc_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/mmc/decode_hevc_mem_compression_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_packet_back_end_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_packet_front_end_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_packet_long_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_packet_real_tile_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_slice_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_hevc_tile_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/decode_huc_s2l_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet/decode_jpeg_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet/decode_jpeg_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/mmc/decode_mpeg2_mem_compression_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_mb_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_slice_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/shared/decode_mem_compression_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/mmc/decode_vp8_mem_compression_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/decode_vp8_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/decode_vp8_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/decode_vp8_slice_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline/decode_vp8_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline/decode_vp8_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/mmc/decode_vp9_mem_compression_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/decode_vp9_packet_back_end_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/decode_vp9_packet_front_end_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/decode_vp9_packet_single_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/decode_vp9_picture_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/decode_vp9_slice_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/decode_vp9_tile_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/encode_av1_basic_feature_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/encode_av1_superres.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/encode_av1_vdenc_const_settings_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/encode_av1_vdenc_feature_manager_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc/encode_av1_vdenc_fullenc.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc/encode_av1_vdenc_preenc.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/packet/encode_av1_vdenc_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/encode_avc_basic_feature_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/encode_avc_vdenc_const_settings_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/encode_avc_vdenc_feature_manager_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline/encode_avc_vdenc_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline/encode_avc_vdenc_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/encode_hevc_vdenc_const_settings_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc/encode_hevc_vdenc_fullenc.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc/encode_hevc_vdenc_preenc.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline/encode_jpeg_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline/encode_jpeg_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/shared/common/encode_mem_compression_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet/encode_vp9_dynamic_scal_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet/encode_vp9_vdenc_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline/encode_vp9_vdenc_pipeline_adapter_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline/encode_vp9_vdenc_pipeline_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared/codec_hw_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared/codec_mem_compression_xe_lpm_plus_base_next.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/vdbox/mhw_vdbox_avp_impl_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediaDecompress/media_mem_decompress_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_blt_copy_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_copy_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_render_copy_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_vebox_copy_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/feature_manager/vp_feature_manager_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/vp_kernel_config_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/vp_render_sfc_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/vp_vebox_cmd_packet_xe_lpm_plus_base.cpp \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw/mhw_state_heap_hwcmd_xe_hpg.cpp \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw/mhw_state_heap_xe_hpg.cpp \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/renderhal_xe_hpg_base.cpp \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/cmfcpatch/igvpkrn_xe_hpg_cmfcpatch.c \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/igvpkrn_isa_xe_hpg.c \
+    ../media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/igvpkrn_xe_hpg.c \
+    ../media_softlet/agnostic/common/codec/hal/codechal_common.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_debug.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_debug_config_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/codechal_oca_debug.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/features/decode_av1_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/features/decode_av1_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/features/decode_av1_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/features/decode_av1_temporal_buffers.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/features/decode_av1_tile_coding.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/packet/decode_av1_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/packet/decode_av1_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/packet/decode_av1_tile_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/av1/pipeline/decode_av1_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_mv_buffers.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/features/decode_avc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/packet/decode_avc_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/packet/decode_avc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/packet/decode_avc_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/packet/decode_avc_slice_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/decode_avc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/decode_avc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_mv_buffers.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/features/decode_hevc_tile_coding.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/mmc/decode_hevc_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_packet_back_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_packet_front_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_packet_long.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_packet_real_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_hevc_slice_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/packet/decode_huc_s2l_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/decode_hevc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_back_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_front_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_long.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_real_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_phase_s2l.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/decode_hevc_scalability_option.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream/decode_jpeg_input_bitstream.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/features/decode_jpeg_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/features/decode_jpeg_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/features/decode_jpeg_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/decode_jpeg_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/decode_jpeg_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/decode_jpeg_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/decode_jpeg_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/decode_mpeg2_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/decode_mpeg2_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/decode_mpeg2_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc/decode_mpeg2_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/decode_mpeg2_mb_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/decode_mpeg2_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/decode_mpeg2_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/decode_mpeg2_slice_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr/decode_allocator.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/decode_input_bitstream.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/decode_unique_id.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_marker.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/features/decode_predication.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/hucItf/decode_huc_packet_creator.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/hucItf/huc_streamout_interface.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/mmc/decode_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_huc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_huc_copy_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_marker_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_predication_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_sub_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/packet/decode_sub_packet_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_sfc_histogram_postsubpipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_sub_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_sub_pipeline_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/decode_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_multipipe_next.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_option.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/shared/statusreport/decode_status_report.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/features/decode_vp8_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/features/decode_vp8_entropy_state.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/features/decode_vp8_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/features/decode_vp8_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/mmc/decode_vp8_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/packet/decode_vp8_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/packet/decode_vp8_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/packet/decode_vp8_slice_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline/decode_vp8_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline/decode_vp8_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_downsampling_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/features/decode_vp9_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/mmc/decode_vp9_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_huc_prob_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_downsampling_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_packet_back_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_packet_front_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_packet_single.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_picture_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/packet/decode_vp9_slice_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/decode_vp9_buffer_update.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/decode_vp9_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/decode_vp9_phase_back_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/decode_vp9_phase_front_end.cpp \
+    ../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/decode_vp9_phase_single.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_brc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_segmentation.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_stream_in.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_vdenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_vdenc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/features/encode_av1_vdenc_lpla_enc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_av1_brc_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_av1_brc_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_av1_vdenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/packet/encode_back_annotation_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_brc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_header_packer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_rounding.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_trellis.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_vdenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_vdenc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_vdenc_fullenc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_vdenc_preenc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_vdenc_stream_in_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/encode_avc_vdenc_weighted_prediction.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/encode_avc_vdenc_brc_roi_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/encode_avc_vdenc_cqp_roi_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/encode_avc_vdenc_roi_interface.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/packet/encode_avc_huc_brc_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/packet/encode_avc_huc_brc_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/packet/encode_avc_vdenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/encode_avc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/encode_avc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/encode_avc_vdenc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/encode_avc_vdenc_pipeline_adapter.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_brc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_cqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_dss.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_header_packer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_lpla_enc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_scc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_hevc_vdenc_weighted_prediction.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/encode_vdenc_lpla_analysis.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_arb.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_dirty.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_forcedeltaqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_forceqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_huc_forceqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_native.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_overlap.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_qpmap.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/encode_hevc_vdenc_roi_strategy.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_hevc_tile_replay_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_hevc_vdenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_brc_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_brc_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_la_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_huc_la_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/packet/encode_pak_integrate_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/features/encode_jpeg_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/features/encode_jpeg_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/features/encode_jpeg_packer_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/packet/encode_jpeg_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/encode_jpeg_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/encode_jpeg_pipeline_adapter.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/encode_jpeg_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/encode_jpeg_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter/bitstream_writer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_allocator.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_recycle_res_queue.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_recycle_resource.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_tracked_buffer.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_tracked_buffer_queue.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/encode_tracked_buffer_slot.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_lpla.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_preenc_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_preenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/features/encode_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/mmc/encode_mem_compression.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/packet/encode_huc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/packet/encode_packet_utilities.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/packet/encode_preenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/encode_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/encode_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/scalability/encode_scalability_multipipe.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/scalability/encode_scalability_option.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/scalability/encode_scalability_singlepipe.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/encode_status_report.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_basic_feature.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_brc.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_cqp.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_hpu.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_pak.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_segmentation.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_tile.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_vdenc_const_settings.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/features/encode_vp9_vdenc_feature_manager.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/packet/encode_vp9_hpu_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/packet/encode_vp9_hpu_super_frame_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/packet/encode_vp9_huc_brc_init_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/packet/encode_vp9_huc_brc_update_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/packet/encode_vp9_pak_integrate_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/packet/encode_vp9_vdenc_packet.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/encode_vp9_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/encode_vp9_reference_frames.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/encode_vp9_user_setting.cpp \
+    ../media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/encode_vp9_vdenc_pipeline.cpp \
+    ../media_softlet/agnostic/common/codec/hal/shared/codec_hw_next.cpp \
+    ../media_softlet/agnostic/common/cp/cp_copy_interface.cpp \
+    ../media_softlet/agnostic/common/cp/encodecp.cpp \
+    ../media_softlet/agnostic/common/heap_manager/frame_tracker.cpp \
+    ../media_softlet/agnostic/common/heap_manager/heap.cpp \
+    ../media_softlet/agnostic/common/heap_manager/heap_manager.cpp \
+    ../media_softlet/agnostic/common/heap_manager/memory_block.cpp \
+    ../media_softlet/agnostic/common/heap_manager/memory_block_manager.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_block_manager.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_blt.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_memory_pool.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_state_heap.cpp \
+    ../media_softlet/agnostic/common/hw/mhw_utilities_next.cpp \
+    ../media_softlet/agnostic/common/os/memory_policy_manager.cpp \
+    ../media_softlet/agnostic/common/os/mos_cmdbufmgr_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_commandbuffer_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_context_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_gpucontext_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_gpucontextmgr_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_graphicsresource_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_oca_rtlog_mgr.cpp \
+    ../media_softlet/agnostic/common/os/mos_os.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_mock_adaptor.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_mock_adaptor_ext.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_virtualengine_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_virtualengine_scalability_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_os_virtualengine_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/os/mos_user_setting.cpp \
+    ../media_softlet/agnostic/common/os/mos_util_debug.cpp \
+    ../media_softlet/agnostic/common/os/mos_utilities_inner.cpp \
+    ../media_softlet/agnostic/common/os/mos_utilities_next.cpp \
+    ../media_softlet/agnostic/common/os/private/mos_utilities_usersetting.cpp \
+    ../media_softlet/agnostic/common/os/share/mos_oca_util_debug.cpp \
+    ../media_softlet/agnostic/common/os/user_setting/media_user_setting.cpp \
+    ../media_softlet/agnostic/common/os/user_setting/media_user_setting_configure.cpp \
+    ../media_softlet/agnostic/common/os/user_setting/media_user_setting_definition.cpp \
+    ../media_softlet/agnostic/common/os/user_setting/media_user_setting_value.cpp \
+    ../media_softlet/agnostic/common/renderhal/renderhal.cpp \
+    ../media_softlet/agnostic/common/renderhal/renderhal_platform_interface_next.cpp \
+    ../media_softlet/agnostic/common/shared/bufferMgr/media_allocator.cpp \
+    ../media_softlet/agnostic/common/shared/features/media_feature.cpp \
+    ../media_softlet/agnostic/common/shared/features/media_feature_manager.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_config_manager.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_dumper.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_fast_dump.cpp \
+    ../media_softlet/agnostic/common/shared/media_debug_interface.cpp \
+    ../media_softlet/agnostic/common/shared/media_render_common.cpp \
+    ../media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_interface.cpp \
+    ../media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_render.cpp \
+    ../media_softlet/agnostic/common/shared/media_sfc_interface/media_vdbox_sfc_render.cpp \
+    ../media_softlet/agnostic/common/shared/mediacontext/media_context.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_blt_copy_next.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_copy.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_copy_wrapper.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_render_copy_next.cpp \
+    ../media_softlet/agnostic/common/shared/mediacopy/media_vebox_copy_next.cpp \
+    ../media_softlet/agnostic/common/shared/mmc/media_mem_compression.cpp \
+    ../media_softlet/agnostic/common/shared/mmc/media_mem_decompression_next.cpp \
+    ../media_softlet/agnostic/common/shared/null_hardware_next.cpp \
+    ../media_softlet/agnostic/common/shared/oca_rtlog_section_mgr.cpp \
+    ../media_softlet/agnostic/common/shared/packet/media_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/shared/packet/media_packet_next.cpp \
+    ../media_softlet/agnostic/common/shared/packet/media_render_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/shared/pipeline/media_pipeline.cpp \
+    ../media_softlet/agnostic/common/shared/pipeline/media_user_setting.cpp \
+    ../media_softlet/agnostic/common/shared/profiler/media_perf_profiler.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability_factory.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability_multipipe.cpp \
+    ../media_softlet/agnostic/common/shared/scalability/media_scalability_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/shared/statusreport/media_status_report.cpp \
+    ../media_softlet/agnostic/common/shared/task/media_cmd_task.cpp \
+    ../media_softlet/agnostic/common/shared/task/media_task.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/DepGraph.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/PatchInfoLinker.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/PatchInfoReader.cpp \
+    ../media_softlet/agnostic/common/vp/cm_fc_ld/cm_fc_ld.cpp \
+    ../media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp \
+    ../media_softlet/agnostic/common/vp/hal/bufferMgr/vp_hdr_resource_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/bufferMgr/vp_resource_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/hw_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/hw_filter_pipe.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/policy.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/sw_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/sw_filter_handle.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/sw_filter_pipe.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/vp_feature_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/vp_kernelset.cpp \
+    ../media_softlet/agnostic/common/vp/hal/feature_manager/vp_obj_factories.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_cgc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_csc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_di_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_dn_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_fc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_hdr_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_hdr_render_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_procamp_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_rot_mir_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_scaling_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_ste_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/features/vp_tcc_filter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/mmc/vp_mem_compression.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_kernel_config.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_packet_pipe.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_fc_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_hdr_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_ief.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_kernel_obj.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_sfc_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_vebox_hdr_3dlut_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_render_vebox_hvs_kernel.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_vebox_cmd_packet.cpp \
+    ../media_softlet/agnostic/common/vp/hal/packet/vp_vebox_cmd_packet_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_feature_report.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_packet_reuse_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline_adapter.cpp \
+    ../media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline_adapter_base.cpp \
+    ../media_softlet/agnostic/common/vp/hal/platform_interface/vp_platform_interface.cpp \
+    ../media_softlet/agnostic/common/vp/hal/scalability/vp_scalability_option.cpp \
+    ../media_softlet/agnostic/common/vp/hal/scalability/vp_scalability_singlepipe_next.cpp \
+    ../media_softlet/agnostic/common/vp/hal/shared/scalability/vp_scalability_multipipe_next.cpp \
+    ../media_softlet/agnostic/common/vp/hal/statusreport/vp_status_report.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share/vp_hal_ddi_utils.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share/vp_user_setting.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_debug.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_debug_config_manager.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_debug_interface.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_dumper.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_user_feature_control.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_utils.cpp \
+    ../media_softlet/agnostic/common/vp/hal/utils/vp_visa.cpp \
+    ../media_softlet/agnostic/common/vp/hal/vp_common.c \
+    ../media_softlet/agnostic/common/vp/kdll/hal_kerneldll_next.c \
+    ../media_softlet/agnostic/common/vp/kdll/hal_kernelrules_next.c \
+    ../media_softlet/linux/Xe_M_plus/ddi/media_libva_caps_mtl.cpp \
+    ../media_softlet/linux/Xe_M_plus/ddi/media_libva_caps_mtl_base.cpp \
+    ../media_softlet/linux/Xe_M_plus/ddi/media_sku_wa_mtl.cpp \
+    ../media_softlet/linux/Xe_M_plus/ddi/media_sysinfo_mtl.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_av1_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_avc_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_base_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_functions.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_hevc_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_jpeg_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_mpeg2_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_trace_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_vp8_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/dec/ddi_decode_vp9_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_av1_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_avc_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_base_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_functions.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_hevc_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_jpeg_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/ddi_encode_vp9_specific.cpp \
+    ../media_softlet/linux/common/codec/ddi/enc/media_libvpx_vp9_next.cpp \
+    ../media_softlet/linux/common/codec/ddi/shared/create_codechal_setting.cpp \
+    ../media_softlet/linux/common/codec/ddi/shared/ddi_codec_base_specific.cpp \
+    ../media_softlet/linux/common/cp/ddi/ddi_cp_caps_interface.cpp \
+    ../media_softlet/linux/common/cp/ddi/ddi_cp_interface_next.cpp \
+    ../media_softlet/linux/common/cp/decodecp_interface.cpp \
+    ../media_softlet/linux/common/ddi/ddi_media_functions.cpp \
+    ../media_softlet/linux/common/ddi/media_capstable_specific.cpp \
+    ../media_softlet/linux/common/ddi/media_libva_caps_next.cpp \
+    ../media_softlet/linux/common/ddi/media_libva_common_next.cpp \
+    ../media_softlet/linux/common/ddi/media_libva_interface_next.cpp \
+    ../media_softlet/linux/common/ddi/media_libva_util_next.cpp \
+    ../media_softlet/linux/common/media_interfaces/media_interfaces_next.cpp \
+    ../media_softlet/linux/common/os/hwinfo_linux.cpp \
+    ../media_softlet/linux/common/os/i915/mos_bufmgr_api.c \
+    ../media_softlet/linux/common/os/i915/xf86drm.c \
+    ../media_softlet/linux/common/os/i915/xf86drmHash.c \
+    ../media_softlet/linux/common/os/i915/xf86drmMode.c \
+    ../media_softlet/linux/common/os/i915/xf86drmRandom.c \
+    ../media_softlet/linux/common/os/i915_production/mos_bufmgr.c \
+    ../media_softlet/linux/common/os/i915_production/mos_bufmgr_prelim.cpp \
+    ../media_softlet/linux/common/os/mos_auxtable_mgr.cpp \
+    ../media_softlet/linux/common/os/mos_commandbuffer_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_context_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_decompression_base.cpp \
+    ../media_softlet/linux/common/os/mos_gpucontext_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_gpucontext_specific_next_ext.cpp \
+    ../media_softlet/linux/common/os/mos_graphicsresource_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_interface.cpp \
+    ../media_softlet/linux/common/os/mos_mediacopy_base.cpp \
+    ../media_softlet/linux/common/os/mos_oca_rtlog_mgr_specific.cpp \
+    ../media_softlet/linux/common/os/mos_oca_specific.cpp \
+    ../media_softlet/linux/common/os/mos_os_mock_adaptor_specific.cpp \
+    ../media_softlet/linux/common/os/mos_os_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_os_virtualengine_scalability_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_os_virtualengine_singlepipe_specific_next.cpp \
+    ../media_softlet/linux/common/os/mos_user_setting_specific.cpp \
+    ../media_softlet/linux/common/os/mos_vma.c \
+    ../media_softlet/linux/common/os/osservice/mos_util_debug_specific.cpp \
+    ../media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp \
+    ../media_softlet/linux/common/os/private/mos_decompression.cpp \
+    ../media_softlet/linux/common/os/private/mos_mediacopy.cpp \
+    ../media_softlet/linux/common/os/private/mos_os_specific.cpp \
+    ../media_softlet/linux/common/os/private/mos_utilities_specific_usersetting.cpp \
+    ../media_softlet/linux/common/os/user_setting/media_user_setting_configure_specific.cpp \
+    ../media_softlet/linux/common/shared/hal_oca_interface_next.cpp \
+    ../media_softlet/linux/common/shared/skuwa_dumper_specific.c \
+    ../media_softlet/linux/common/vp/ddi/ddi_vp_functions.cpp \
+    ../media_softlet/linux/common/vp/ddi/ddi_vp_tools.cpp \
+    ../media_softlet/linux/common/vp/hal/vphal_common_specific_next.c \
+    ../media_softlet/linux/xe_lpm_plus/ddi/caps_register_specific_xe_lpm_plus.cpp \
+    ../media_softlet/media_interface/media_interfaces_mtl/media_interfaces_mtl.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_decode_vc1_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_hw_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_kernel_olp_mdf_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_mmc_encode_avc_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_vdenc_avc_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/hal/codechal_vdenc_vp9_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/codec/kernel/XE_HPM_VC1_OLP.c \
+    agnostic/Xe_M/Xe_HPM/codec/kernel/Xe_Hpm_Film_Grain.c \
+    agnostic/Xe_M/Xe_HPM/hw/mhw_vebox_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/hw/vdbox/mhw_vdbox_avp_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/hw/vdbox/mhw_vdbox_huc_hwcmd_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/vp/hal/vphal_render_vebox_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/vp/hal/vphal_renderer_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_HPM/vp/hal/vphal_xe_hpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/hal/codechal_decode_vc1_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/hal/codechal_hw_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/hal/codechal_kernel_olp_mdf_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/codec/kernelisa/Xe_XPM_Film_Grain.c \
+    agnostic/Xe_M/Xe_XPM/codec/kernelisa/Xe_XPM_VC1_OLP.c \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_mi_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_sfc_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_sfc_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_state_heap_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_state_heap_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_vebox_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/mhw_vebox_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_avp_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_avp_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_hcp_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_hcp_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_mfx_hwcmd_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/hw/vdbox/mhw_vdbox_mfx_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_debug_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_composite_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_sfc_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_vebox_memdecomp_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_vebox_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_render_vebox_xe_xpm_denoise.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_renderer_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/hal/vphal_xe_xpm.cpp \
+    agnostic/Xe_M/Xe_XPM/vp/kdll/hal_kerneldll_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/vp/kdll/hal_kernelrules_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/igvpkrn_xe_xpm_cmfcpatch.c \
+    agnostic/Xe_M/Xe_XPM/vp/kernel/igvpkrn_isa_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM/vp/kernel/igvpkrn_xe_xpm.c \
+    agnostic/Xe_M/Xe_XPM_plus/codec/hal/codechal_hw_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/codec/kernel/Xe_XPM_plus_Film_Grain.c \
+    agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/mhw_vdbox_huc_hwcmd_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/shared/renderhal_memdecomp.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/hal/vphal_render_composite_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/hal/vphal_renderer_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/hal/vphal_xe_xpm_plus.cpp \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kdll/hal_kerneldll_xe_xpm_plus.c \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kdll/hal_kernelrules_xe_xpm_plus.c \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/igvpkrn_xe_xpm_plus_cmfcpatch.c \
+    agnostic/Xe_M/Xe_XPM_plus/vp/kernel/igvpkrn_xe_xpm_plus.c \
+    agnostic/Xe_R/Xe_HP/hw/render/mhw_render_xe_hp.cpp \
+    agnostic/Xe_R/Xe_HPC/hw/blt/mhw_blt_xe_hpc.cpp \
+    agnostic/Xe_R/Xe_HPC/hw/render/mhw_render_xe_hpc.cpp \
+    agnostic/Xe_R/Xe_HPG/hw/render/mhw_render_xe_hpg.cpp \
+    agnostic/Xe_R/Xe_HP_base/hw/blt/mhw_blt_xe_hp_base.cpp \
+    agnostic/Xe_R/Xe_HP_base/hw/render/mhw_render_hwcmd_xe_hp_base.cpp \
+    agnostic/Xe_R/Xe_HP_base/hw/render/mhw_render_xe_hp_base.cpp \
+    agnostic/common/cm/cm_array.cpp \
+    agnostic/common/cm/cm_buffer_rt.cpp \
+    agnostic/common/cm/cm_command_buffer.cpp \
+    agnostic/common/cm/cm_def.cpp \
+    agnostic/common/cm/cm_device_rt_base.cpp \
+    agnostic/common/cm/cm_dsh.cpp \
+    agnostic/common/cm/cm_event_ex_base.cpp \
+    agnostic/common/cm/cm_event_rt.cpp \
+    agnostic/common/cm/cm_execution_adv.cpp \
+    agnostic/common/cm/cm_global_api.cpp \
+    agnostic/common/cm/cm_group_space.cpp \
+    agnostic/common/cm/cm_hal.cpp \
+    agnostic/common/cm/cm_hal_dump.cpp \
+    agnostic/common/cm/cm_hal_hashtable.cpp \
+    agnostic/common/cm/cm_hal_vebox.cpp \
+    agnostic/common/cm/cm_ish_base.cpp \
+    agnostic/common/cm/cm_kernel_data.cpp \
+    agnostic/common/cm/cm_kernel_ex.cpp \
+    agnostic/common/cm/cm_kernel_rt.cpp \
+    agnostic/common/cm/cm_log.cpp \
+    agnostic/common/cm/cm_media_state.cpp \
+    agnostic/common/cm/cm_mem.cpp \
+    agnostic/common/cm/cm_mem_c_impl.cpp \
+    agnostic/common/cm/cm_mem_sse2_impl.cpp \
+    agnostic/common/cm/cm_perf.cpp \
+    agnostic/common/cm/cm_printf_host.cpp \
+    agnostic/common/cm/cm_program.cpp \
+    agnostic/common/cm/cm_queue_rt.cpp \
+    agnostic/common/cm/cm_sampler8x8_state_rt.cpp \
+    agnostic/common/cm/cm_sampler_rt.cpp \
+    agnostic/common/cm/cm_scratch_space.cpp \
+    agnostic/common/cm/cm_ssh.cpp \
+    agnostic/common/cm/cm_state_buffer.cpp \
+    agnostic/common/cm/cm_surface.cpp \
+    agnostic/common/cm/cm_surface_2d_rt_base.cpp \
+    agnostic/common/cm/cm_surface_2d_up_rt.cpp \
+    agnostic/common/cm/cm_surface_3d_rt.cpp \
+    agnostic/common/cm/cm_surface_manager_base.cpp \
+    agnostic/common/cm/cm_surface_sampler.cpp \
+    agnostic/common/cm/cm_surface_sampler8x8.cpp \
+    agnostic/common/cm/cm_surface_state.cpp \
+    agnostic/common/cm/cm_surface_state_manager.cpp \
+    agnostic/common/cm/cm_surface_vme.cpp \
+    agnostic/common/cm/cm_task_internal.cpp \
+    agnostic/common/cm/cm_task_rt.cpp \
+    agnostic/common/cm/cm_thread_space_rt.cpp \
+    agnostic/common/cm/cm_tracker.cpp \
+    agnostic/common/cm/cm_vebox_data.cpp \
+    agnostic/common/cm/cm_vebox_rt.cpp \
+    agnostic/common/cm/cm_visa.cpp \
+    agnostic/common/cm/cm_wrapper.cpp \
+    agnostic/common/codec/hal/codechal_allocator.cpp \
+    agnostic/common/codec/hal/codechal_debug_encode_par.cpp \
+    agnostic/common/codec/hal/codechal_debug_misc.cpp \
+    agnostic/common/codec/hal/codechal_decode_avc.cpp \
+    agnostic/common/codec/hal/codechal_decode_downsampling.cpp \
+    agnostic/common/codec/hal/codechal_decode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_decode_histogram.cpp \
+    agnostic/common/codec/hal/codechal_decode_histogram_vebox.cpp \
+    agnostic/common/codec/hal/codechal_decode_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_decode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_decode_nv12top010.cpp \
+    agnostic/common/codec/hal/codechal_decode_scalability.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc_avc.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc_hevc.cpp \
+    agnostic/common/codec/hal/codechal_decode_sfc_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_decode_singlepipe_virtualengine.cpp \
+    agnostic/common/codec/hal/codechal_decode_vc1.cpp \
+    agnostic/common/codec/hal/codechal_decode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_decode_vp9.cpp \
+    agnostic/common/codec/hal/codechal_decoder.cpp \
+    agnostic/common/codec/hal/codechal_encode_allocator.cpp \
+    agnostic/common/codec/hal/codechal_encode_avc.cpp \
+    agnostic/common/codec/hal/codechal_encode_avc_base.cpp \
+    agnostic/common/codec/hal/codechal_encode_csc_ds.cpp \
+    agnostic/common/codec/hal/codechal_encode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_encode_hevc_base.cpp \
+    agnostic/common/codec/hal/codechal_encode_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_encode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_encode_scalability.cpp \
+    agnostic/common/codec/hal/codechal_encode_sfc_base.cpp \
+    agnostic/common/codec/hal/codechal_encode_singlepipe_virtualengine.cpp \
+    agnostic/common/codec/hal/codechal_encode_sw_scoreboard.cpp \
+    agnostic/common/codec/hal/codechal_encode_tracked_buffer.cpp \
+    agnostic/common/codec/hal/codechal_encode_tracked_buffer_hevc.cpp \
+    agnostic/common/codec/hal/codechal_encode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_encode_wp.cpp \
+    agnostic/common/codec/hal/codechal_encoder_base.cpp \
+    agnostic/common/codec/hal/codechal_huc_cmd_initializer.cpp \
+    agnostic/common/codec/hal/codechal_hw.cpp \
+    agnostic/common/codec/hal/codechal_kernel_base.cpp \
+    agnostic/common/codec/hal/codechal_kernel_hme.cpp \
+    agnostic/common/codec/hal/codechal_kernel_intra_dist.cpp \
+    agnostic/common/codec/hal/codechal_memdecomp.cpp \
+    agnostic/common/codec/hal/codechal_mmc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_avc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_jpeg.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_vc1.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_mmc_decode_vp9.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_avc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_hevc.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_mpeg2.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_vp8.cpp \
+    agnostic/common/codec/hal/codechal_mmc_encode_vp9.cpp \
+    agnostic/common/codec/hal/codechal_utilities.cpp \
+    agnostic/common/codec/hal/codechal_vdenc_avc.cpp \
+    agnostic/common/codec/hal/codechal_vdenc_hevc.cpp \
+    agnostic/common/codec/hal/codechal_vdenc_vp9_base.cpp \
+    agnostic/common/hw/mhw_blt_legacy.cpp \
+    agnostic/common/hw/mhw_mi.cpp \
+    agnostic/common/hw/mhw_render_legacy.c \
+    agnostic/common/hw/mhw_sfc.cpp \
+    agnostic/common/hw/mhw_state_heap_legacy.c \
+    agnostic/common/hw/mhw_utilities.c \
+    agnostic/common/hw/mhw_vebox.cpp \
+    agnostic/common/hw/mhw_vebox_hwcmd_g9_X.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_hcp_interface.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_huc_interface.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_mfx_interface.cpp \
+    agnostic/common/hw/vdbox/mhw_vdbox_vdenc_interface.cpp \
+    agnostic/common/os/mos_cmdbufmgr.cpp \
+    agnostic/common/os/mos_commandbuffer.cpp \
+    agnostic/common/os/mos_context.cpp \
+    agnostic/common/os/mos_gpucontext.cpp \
+    agnostic/common/os/mos_gpucontextmgr.cpp \
+    agnostic/common/os/mos_graphicsresource.cpp \
+    agnostic/common/os/mos_os_virtualengine.cpp \
+    agnostic/common/os/mos_os_virtualengine_scalability.cpp \
+    agnostic/common/os/mos_os_virtualengine_singlepipe.cpp \
+    agnostic/common/os/mos_util_user_interface.cpp \
+    agnostic/common/os/mos_utilities.cpp \
+    agnostic/common/os/mos_utilities_usersetting.cpp \
+    agnostic/common/renderhal/renderhal_common.cpp \
+    agnostic/common/renderhal/renderhal_dsh.cpp \
+    agnostic/common/renderhal/renderhal_legacy.cpp \
+    agnostic/common/renderhal/renderhal_platform_interface_legacy.cpp \
+    agnostic/common/shared/media_debug_interface_misc.cpp \
+    agnostic/common/shared/media_perf_profiler_legacy.cpp \
+    agnostic/common/shared/mediacopy/media_blt_copy.cpp \
+    agnostic/common/shared/mediacopy/media_render_copy.cpp \
+    agnostic/common/shared/mediacopy/media_vebox_copy.cpp \
+    agnostic/common/shared/null_hardware.cpp \
+    agnostic/common/vp/hal/vphal.cpp \
+    agnostic/common/vp/hal/vphal_common.c \
+    agnostic/common/vp/hal/vphal_ddi.c \
+    agnostic/common/vp/hal/vphal_debug.c \
+    agnostic/common/vp/hal/vphal_mdf_wrapper.cpp \
+    agnostic/common/vp/hal/vphal_render_16alignment.cpp \
+    agnostic/common/vp/hal/vphal_render_common.c \
+    agnostic/common/vp/hal/vphal_render_composite.cpp \
+    agnostic/common/vp/hal/vphal_render_fast1ton.cpp \
+    agnostic/common/vp/hal/vphal_render_hdr_base.cpp \
+    agnostic/common/vp/hal/vphal_render_hdr_g11.cpp \
+    agnostic/common/vp/hal/vphal_render_hdr_g9_base.cpp \
+    agnostic/common/vp/hal/vphal_render_ief.cpp \
+    agnostic/common/vp/hal/vphal_render_renderstate.cpp \
+    agnostic/common/vp/hal/vphal_render_sfc_base.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_base.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_denoise.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_iecp.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_memdecomp.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_procamp.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_ste.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_tcc.cpp \
+    agnostic/common/vp/hal/vphal_render_vebox_util_base.c \
+    agnostic/common/vp/hal/vphal_renderer.cpp \
+    agnostic/common/vp/kdll/hal_kerneldll.c \
+    agnostic/g12/g12_base/hw/render/mhw_render_g12_X.cpp \
+    agnostic/g12/g12_base/hw/render/mhw_render_hwcmd_g12_X.cpp \
+    agnostic/gen11/cm/cm_hal_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_debug_encode_par_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_avc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_hevc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_histogram_vebox_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_jpeg_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_mpeg2_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_vc1_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_vp8_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_decode_vp9_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_avc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_csc_ds_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_hevc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_hevc_table_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_jpeg_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_mpeg2_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_sfc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_sw_scoreboard_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_vp8_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_encode_wp_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_huc_cmd_initializer_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_hw_g11_X.cpp \
+    agnostic/gen11/codec/hal/codechal_kernel_hme_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_vdenc_avc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_vdenc_hevc_g11.cpp \
+    agnostic/gen11/codec/hal/codechal_vdenc_vp9_g11.cpp \
+    agnostic/gen11/codec/kernel/igcodeckrn_g11.c \
+    agnostic/gen11/hw/mhw_mi_g11_X.cpp \
+    agnostic/gen11/hw/mhw_mi_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_render_g11_X.cpp \
+    agnostic/gen11/hw/mhw_render_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_sfc_g11_X.cpp \
+    agnostic/gen11/hw/mhw_sfc_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_state_heap_g11.c \
+    agnostic/gen11/hw/mhw_state_heap_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/mhw_vebox_g11_X.cpp \
+    agnostic/gen11/hw/mhw_vebox_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_hcp_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_hcp_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_huc_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_huc_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_mfx_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_mfx_hwcmd_g11_X.cpp \
+    agnostic/gen11/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g11_X.cpp \
+    agnostic/gen11/renderhal/renderhal_g11.cpp \
+    agnostic/gen11/vp/hal/vphal_render_composite_g11.cpp \
+    agnostic/gen11/vp/hal/vphal_render_sfc_g11_base.cpp \
+    agnostic/gen11/vp/hal/vphal_render_vebox_g11_base.cpp \
+    agnostic/gen11/vp/hal/vphal_renderer_g11.cpp \
+    agnostic/gen11/vp/kdll/hal_kernelrules_g11.c \
+    agnostic/gen11_icllp/codec/hal/codechal_decode_downsampling_g11_icllp.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_encode_avc_g11_lp.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_encode_jpeg_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_memdecomp_g11_icllp.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_vdenc_avc_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_vdenc_hevc_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/hal/codechal_vdenc_vp9_g11_jsl_ehl.cpp \
+    agnostic/gen11_icllp/codec/kernel/igcodeckrn_g11_icllp.c \
+    agnostic/gen11_icllp/vp/hal/vphal_g11_icllp.cpp \
+    agnostic/gen11_icllp/vp/hal/vphal_renderer_g11_icllp.cpp \
+    agnostic/gen11_icllp/vp/kernel/igvpkrn_g11_icllp.c \
+    agnostic/gen11_icllp/vp/kernel/igvpkrn_isa_g11_icllp.c \
+    agnostic/gen11_jsl_ehl/renderhal/renderhal_g11_jsl_ehl.cpp \
+    agnostic/gen11_jsl_ehl/vp/hal/vphal_g11_jsl_ehl.cpp \
+    agnostic/gen11_jsl_ehl/vp/hal/vphal_renderer_g11_jsl_ehl.cpp \
+    agnostic/gen12/cm/cm_hal_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_debug_encode_par_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_downsampling_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_hevc_long_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_histogram_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_scalability_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_sfc_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_vc1_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_vp8_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_decode_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_csc_ds_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_csc_ds_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_brc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_mbenc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_hevc_table_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_sfc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_sw_scoreboard_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_sw_scoreboard_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_wp_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_encode_wp_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_hw_g12_X.cpp \
+    agnostic/gen12/codec/hal/codechal_kernel_hme_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_kernel_hme_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_kernel_intra_dist_mdf_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vc1_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vc1_g12_ext.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vp8_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_decode_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_jpeg_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_mpeg2_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_encode_vp9_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_mmc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_vdenc_avc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_vdenc_hevc_g12.cpp \
+    agnostic/gen12/codec/hal/codechal_vdenc_vp9_g12.cpp \
+    agnostic/gen12/codec/kernel/igcodeckrn_g12.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_CoarseIntra_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_DS_Convert_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_Init_Scoreboard_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_WeightedPrediction_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12LP_hme_genx.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_INIT.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_LCUQP.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_RESET.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_BRC_UPDATE.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_B_LCU32.c \
+    agnostic/gen12/codec/kernelisa/Gen12_HEVC_B_LCU64.c \
+    agnostic/gen12/hw/mhw_mi_g12_X.cpp \
+    agnostic/gen12/hw/mhw_mi_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/mhw_sfc_g12_X.cpp \
+    agnostic/gen12/hw/mhw_sfc_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/mhw_state_heap_g12.c \
+    agnostic/gen12/hw/mhw_state_heap_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/mhw_vebox_g12_X.cpp \
+    agnostic/gen12/hw/mhw_vebox_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_avp_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_avp_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_avp_interface.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_hcp_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_hcp_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_huc_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_huc_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_mfx_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_mfx_hwcmd_g12_X.cpp \
+    agnostic/gen12/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g12_X.cpp \
+    agnostic/gen12/vp/hal/vphal_render_composite_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_render_hdr_3dlut_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_render_sfc_g12_base.cpp \
+    agnostic/gen12/vp/hal/vphal_render_vebox_g12_base.cpp \
+    agnostic/gen12/vp/hal/vphal_render_vebox_memdecomp_g12.cpp \
+    agnostic/gen12/vp/hal/vphal_renderer_g12.cpp \
+    agnostic/gen12_tgllp/vp/hal/vphal_g12_tgllp.cpp \
+    agnostic/gen12_tgllp/vp/hal/vphal_renderer_g12_tgllp.cpp \
+    agnostic/gen12_tgllp/vp/kdll/hal_kernelrules_g12lp.c \
+    agnostic/gen12_tgllp/vp/kdll/hal_kernelrules_g12lpcmfc.c \
+    agnostic/gen12_tgllp/vp/kernel/cmfc/igvpkrn_g12_tgllp_cmfc.c \
+    agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/igvpkrn_g12_tgllp_cmfccmlpch.c \
+    agnostic/gen12_tgllp/vp/kernel/cmfcpatch/igvpkrn_g12_tgllp_cmfcpatch.c \
+    agnostic/gen12_tgllp/vp/kernel/igvpkrn_isa_g12_tgllp.c \
+    agnostic/gen8/cm/cm_hal_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_decode_vc1_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_avc_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_csc_ds_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_mpeg2_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_encode_wp_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_fei_avc_g8.cpp \
+    agnostic/gen8/codec/hal/codechal_hw_g8_X.cpp \
+    agnostic/gen8/codec/hal/codechal_kernel_hme_g8.cpp \
+    agnostic/gen8/codec/kernel/igcodeckrn_g8.c \
+    agnostic/gen8/hw/mhw_mi_g8_X.cpp \
+    agnostic/gen8/hw/mhw_mi_hwcmd_g8_X.cpp \
+    agnostic/gen8/hw/mhw_render_g8_X.cpp \
+    agnostic/gen8/hw/mhw_render_hwcmd_g8_X.cpp \
+    agnostic/gen8/hw/mhw_state_heap_g8.c \
+    agnostic/gen8/hw/mhw_state_heap_hwcmd_g8_X.cpp \
+    agnostic/gen8/hw/mhw_vebox_g8_X.cpp \
+    agnostic/gen8/hw/mhw_vebox_hwcmd_g8_X.cpp \
+    agnostic/gen8/renderhal/renderhal_g8.cpp \
+    agnostic/gen8/vp/hal/vphal_g8.cpp \
+    agnostic/gen8/vp/hal/vphal_render_composite_g8.cpp \
+    agnostic/gen8/vp/hal/vphal_render_vebox_g8_base.cpp \
+    agnostic/gen8/vp/hal/vphal_renderer_g8.cpp \
+    agnostic/gen8/vp/kdll/hal_kerneldll_g8.c \
+    agnostic/gen8/vp/kdll/hal_kernelrules_g8.c \
+    agnostic/gen8/vp/kernel/igvpkrn_g8.c \
+    agnostic/gen8_bdw/hw/vdbox/mhw_vdbox_mfx_g8_bdw.cpp \
+    agnostic/gen8_bdw/hw/vdbox/mhw_vdbox_mfx_hwcmd_g8_bdw.cpp \
+    agnostic/gen9/cm/cm_hal_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_debug_encode_par_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_downsampling_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_histogram_vebox_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_nv12top010_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_nv12top010_kernel_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_decode_vc1_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_avc_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_csc_ds_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_hevc_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_mpeg2_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_vp8_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_encode_wp_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_fei_avc_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_hw_g9_X.cpp \
+    agnostic/gen9/codec/hal/codechal_kernel_hme_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_memdecomp_g9.cpp \
+    agnostic/gen9/codec/hal/codechal_vdenc_avc_g9.cpp \
+    agnostic/gen9/codec/kernel/igcodeckrn_g9.c \
+    agnostic/gen9/hw/mhw_mi_g9_X.cpp \
+    agnostic/gen9/hw/mhw_mi_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_render_g9_X.cpp \
+    agnostic/gen9/hw/mhw_render_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_sfc_g9_X.cpp \
+    agnostic/gen9/hw/mhw_sfc_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_state_heap_g9.c \
+    agnostic/gen9/hw/mhw_state_heap_hwcmd_g9_X.cpp \
+    agnostic/gen9/hw/mhw_vebox_g9_X.cpp \
+    agnostic/gen9/renderhal/renderhal_g9.cpp \
+    agnostic/gen9/vp/hal/vphal_g9.cpp \
+    agnostic/gen9/vp/hal/vphal_render_composite_g9.cpp \
+    agnostic/gen9/vp/hal/vphal_render_sfc_g9_base.cpp \
+    agnostic/gen9/vp/hal/vphal_render_vebox_g9_base.cpp \
+    agnostic/gen9/vp/hal/vphal_renderer_g9.cpp \
+    agnostic/gen9/vp/kdll/hal_kernelrules_g9.c \
+    agnostic/gen9/vp/kernel/igvpkrn_g9.c \
+    agnostic/gen9/vp/kernel/igvpkrn_isa_g9.c \
+    agnostic/gen9_bxt/codec/hal/codechal_decode_nv12top010_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_decode_nv12top010_kernel_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_encode_avc_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_encode_hevc_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_hw_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/hal/codechal_vdenc_avc_g9_bxt.cpp \
+    agnostic/gen9_bxt/codec/kernel/igcodeckrn_g9_bxt.c \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_hcp_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_huc_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_mfx_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_mfx_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_vdenc_g9_bxt.cpp \
+    agnostic/gen9_bxt/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g9_bxt.cpp \
+    agnostic/gen9_bxt/vp/hal/vphal_g9_bxt.cpp \
+    agnostic/gen9_cml/vp/kernel/igvpkrn_g9_cml.c \
+    agnostic/gen9_cml/vp/kernel/tgp/igvpkrn_g9_cml_tgp.c \
+    agnostic/gen9_cmpv/vp/kernel/igvpkrn_g9_cmpv.c \
+    agnostic/gen9_glk/codec/hal/codechal_decode_nv12top010_g9_glk.cpp \
+    agnostic/gen9_glk/codec/hal/codechal_decode_nv12top010_kernel_g9_glk.cpp \
+    agnostic/gen9_glk/codec/hal/codechal_encode_hevc_g9_glk.cpp \
+    agnostic/gen9_glk/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_glk.cpp \
+    agnostic/gen9_glk/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_glk.cpp \
+    agnostic/gen9_glk/vp/hal/vphal_g9_glk.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_encode_avc_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_encode_hevc_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_hw_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/hal/codechal_vdenc_avc_g9_kbl.cpp \
+    agnostic/gen9_kbl/codec/kernel/igcodeckrn_g9_kbl.c \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_hcp_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_huc_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_mfx_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_mfx_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_vdenc_g9_kbl.cpp \
+    agnostic/gen9_kbl/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g9_kbl.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/AvcEncFei_Mfe_gen9.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernelBase.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_DownScaling.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_16x16Mode.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_16x16Sad.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_32x32.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_8x8.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_I_8x8Mode.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_PB_32x32.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_PB_8x8MbEnc.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/CMRTKernel_PB_8x8Pak.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/HevcEncFei_I_gen9.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/HevcEncFei_PB_gen9.cpp \
+    agnostic/gen9_skl/codec/cmrt_kernel/Hme_Downscale_gen9.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_encode_avc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_encode_hevc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_encode_mpeg2_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_fei_avc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_fei_hevc_g9_skl.cpp \
+    agnostic/gen9_skl/codec/hal/codechal_vdenc_avc_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_hcp_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_hcp_hwcmd_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_huc_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_huc_hwcmd_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_mfx_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_mfx_hwcmd_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_vdenc_g9_skl.cpp \
+    agnostic/gen9_skl/hw/vdbox/mhw_vdbox_vdenc_hwcmd_g9_skl.cpp \
+    linux/Xe_M/ddi/media_libva_caps_dg2.cpp \
+    linux/Xe_M/ddi/media_libva_caps_pvc.cpp \
+    linux/Xe_M/ddi/media_libva_caps_xehp_sdv.cpp \
+    linux/Xe_M/ddi/media_sku_wa_xe.cpp \
+    linux/Xe_M/ddi/media_sysinfo_xe.cpp \
+    linux/common/cm/ddi/media_libva_cm.c \
+    linux/common/cm/hal/cm_command_buffer_os.cpp \
+    linux/common/cm/hal/cm_debug_os.cpp \
+    linux/common/cm/hal/cm_device_rt.cpp \
+    linux/common/cm/hal/cm_event_ex.cpp \
+    linux/common/cm/hal/cm_event_rt_os.cpp \
+    linux/common/cm/hal/cm_ftrace.cpp \
+    linux/common/cm/hal/cm_global_api_os.cpp \
+    linux/common/cm/hal/cm_hal_os.cpp \
+    linux/common/cm/hal/cm_queue_rt_os.cpp \
+    linux/common/cm/hal/cm_surface_2d_rt.cpp \
+    linux/common/cm/hal/cm_surface_2d_wrapper.cpp \
+    linux/common/cm/hal/cm_surface_manager.cpp \
+    linux/common/cm/hal/cm_surface_state_manager_os.cpp \
+    linux/common/cm/hal/cm_task_internal_os.cpp \
+    linux/common/cm/hal/cm_task_rt_os.cpp \
+    linux/common/cm/hal/cm_wrapper_os.cpp \
+    linux/common/cm/hal/osservice/cm_ish.cpp \
+    linux/common/cm/hal/osservice/cm_mem_os.cpp \
+    linux/common/cm/hal/osservice/cm_mem_os_c_impl.cpp \
+    linux/common/cm/hal/osservice/cm_mem_os_sse4_impl.cpp \
+    linux/common/codec/ddi/media_ddi_decode_av1.cpp \
+    linux/common/codec/ddi/media_ddi_decode_avc.cpp \
+    linux/common/codec/ddi/media_ddi_decode_base.cpp \
+    linux/common/codec/ddi/media_ddi_decode_hevc.cpp \
+    linux/common/codec/ddi/media_ddi_decode_jpeg.cpp \
+    linux/common/codec/ddi/media_ddi_decode_mpeg2.cpp \
+    linux/common/codec/ddi/media_ddi_decode_vc1.cpp \
+    linux/common/codec/ddi/media_ddi_decode_vp8.cpp \
+    linux/common/codec/ddi/media_ddi_decode_vp9.cpp \
+    linux/common/codec/ddi/media_ddi_encode_av1.cpp \
+    linux/common/codec/ddi/media_ddi_encode_avc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_base.cpp \
+    linux/common/codec/ddi/media_ddi_encode_fei_avc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_fei_hevc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_hevc.cpp \
+    linux/common/codec/ddi/media_ddi_encode_jpeg.cpp \
+    linux/common/codec/ddi/media_ddi_encode_mpeg2.cpp \
+    linux/common/codec/ddi/media_ddi_encode_vp8.cpp \
+    linux/common/codec/ddi/media_ddi_encode_vp9.cpp \
+    linux/common/codec/ddi/media_libva_decoder.cpp \
+    linux/common/codec/ddi/media_libva_encoder.cpp \
+    linux/common/codec/ddi/media_libvpx_vp9.cpp \
+    linux/common/codec/hal/codechal_secure_decode_interface.cpp \
+    linux/common/cp/ddi/media_ddi_prot.cpp \
+    linux/common/cp/ddi/media_libva_caps_cp_interface.cpp \
+    linux/common/cp/ddi/media_libva_cp_interface.cpp \
+    linux/common/cp/hw/mhw_cp_interface.cpp \
+    linux/common/cp/os/mos_os_cp_interface_specific.cpp \
+    linux/common/ddi/media_ddi_base.cpp \
+    linux/common/ddi/media_libva.cpp \
+    linux/common/ddi/media_libva_apo_decision.cpp \
+    linux/common/ddi/media_libva_caps.cpp \
+    linux/common/ddi/media_libva_common.cpp \
+    linux/common/ddi/media_libva_interface.cpp \
+    linux/common/ddi/media_libva_util.cpp \
+    linux/common/hw/mhw_mi_linux.cpp \
+    linux/common/media_interfaces/media_interfaces.cpp \
+    linux/common/os/memory_policy_manager_specific.cpp \
+    linux/common/os/mos_commandbuffer_specific.cpp \
+    linux/common/os/mos_context_specific.cpp \
+    linux/common/os/mos_decompression.cpp \
+    linux/common/os/mos_gpucontext_specific.cpp \
+    linux/common/os/mos_gpucontext_specific_ext.cpp \
+    linux/common/os/mos_graphicsresource_specific.cpp \
+    linux/common/os/mos_mediacopy.cpp \
+    linux/common/os/mos_os_specific.c \
+    linux/common/os/mos_os_virtualengine_scalability_specific.cpp \
+    linux/common/os/mos_os_virtualengine_singlepipe_specific.cpp \
+    linux/common/os/mos_util_devult_specific.cpp \
+    linux/common/os/mos_utilities_specific_usersetting.cpp \
+    linux/common/renderhal/renderhal_dsh_specific.c \
+    linux/common/renderhal/renderhal_linux.cpp \
+    linux/common/shared/hal_oca_interface.cpp \
+    linux/common/shared/skuwa_dump_specific.c \
+    linux/common/vp/ddi/media_libva_vp.c \
+    linux/common/vp/ddi/media_libva_vp_tools.c \
+    linux/common/vp/hal/vphal_common_specific.c \
+    linux/common/vp/hal/vphal_render_common_specific.c \
+    linux/gen11/codec/ddi/media_ddi_decode_hevc_g11.cpp \
+    linux/gen11/ddi/media_libva_caps_g11.cpp \
+    linux/gen11/ddi/media_sku_wa_g11.cpp \
+    linux/gen11/ddi/media_sysinfo_g11.cpp \
+    linux/gen12/codec/ddi/media_ddi_decode_hevc_g12.cpp \
+    linux/gen12/ddi/media_libva_caps_g12.cpp \
+    linux/gen12/ddi/media_sku_wa_g12.cpp \
+    linux/gen12/ddi/media_sysinfo_g12.cpp \
+    linux/gen8/ddi/media_libva_caps_g8.cpp \
+    linux/gen8/ddi/media_sku_wa_g8.cpp \
+    linux/gen8/ddi/media_sysinfo_g8.cpp \
+    linux/gen9/ddi/media_libva_caps_g9.cpp \
+    linux/gen9/ddi/media_sku_wa_g9.cpp \
+    linux/gen9/ddi/media_sysinfo_g9.cpp \
+    linux/gen9_bxt/ddi/media_libva_caps_g9_bxt.cpp \
+    linux/gen9_cfl/ddi/media_libva_caps_g9_cfl.cpp \
+    linux/gen9_glk/ddi/media_libva_caps_g9_glk.cpp \
+    linux/gen9_kbl/ddi/media_libva_caps_g9_kbl.cpp \
+    linux/gen9_skl/ddi/media_libva_caps_g9_skl.cpp \
+    media_interface/media_interfaces_dg2/media_interfaces_dg2.cpp \
+    media_interface/media_interfaces_m11_icllp/media_interfaces_g11_icllp.cpp \
+    media_interface/media_interfaces_m11_jsl_ehl/media_interfaces_g11_jsl_ehl.cpp \
+    media_interface/media_interfaces_m12_adln/media_interfaces_g12_adln.cpp \
+    media_interface/media_interfaces_m12_adlp/media_interfaces_g12_adlp.cpp \
+    media_interface/media_interfaces_m12_adls/media_interfaces_g12_adls.cpp \
+    media_interface/media_interfaces_m12_dg1/media_interfaces_g12_dg1.cpp \
+    media_interface/media_interfaces_m12_rkl/media_interfaces_g12_rkl.cpp \
+    media_interface/media_interfaces_m12_tgllp/media_interfaces_g12_tgllp.cpp \
+    media_interface/media_interfaces_m8_bdw/media_interfaces_g8_bdw.cpp \
+    media_interface/media_interfaces_m9_bxt/media_interfaces_g9_bxt.cpp \
+    media_interface/media_interfaces_m9_cfl/media_interfaces_g9_cfl.cpp \
+    media_interface/media_interfaces_m9_glk/media_interfaces_g9_glk.cpp \
+    media_interface/media_interfaces_m9_kbl/media_interfaces_g9_kbl.cpp \
+    media_interface/media_interfaces_m9_skl/media_interfaces_g9_skl.cpp \
+    media_interface/media_interfaces_pvc/media_interfaces_pvc.cpp \
+    media_interface/media_interfaces_xehp_sdv/media_interfaces_xehp_sdv.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_basic_feature_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_segmentation_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_vdenc_const_settings_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features/encode_av1_vdenc_feature_manager_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_adapter_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_adapter_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/shared/codechal_hw_next_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_blt_copy_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_copy_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_render_copy_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/vp_feature_manager_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/vp_vebox_cmd_packet_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/vp_pipeline_adapter_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/vp_platform_interface_xe_hpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_picture_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_slice_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet/decode_avc_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/pipeline/decode_avc_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/pipeline/decode_avc_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/mmc/decode_hevc_mem_compression_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_back_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_back_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_front_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_front_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_long_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_long_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_real_tile_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_real_tile_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_picture_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_slice_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_hevc_tile_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_huc_s2l_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet/decode_huc_s2l_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/pipeline/decode_hevc_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_picture_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet/decode_jpeg_xe_m_base_packet.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/pipeline/decode_jpeg_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/mmc/decode_mpeg2_mem_compression_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_mb_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_mb_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_picture_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet/decode_mpeg2_slice_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/pipeline/decode_mpeg2_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared/decode_input_bitstream_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared/pipeline/decode_sfc_histogram_postsubpipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/features/decode_vp9_basic_feature_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/features/decode_vp9_feature_manager_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/hucitf/decode_huc_prob_update_creator_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/mmc/decode_vp9_mem_compression_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_huc_prob_update_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_back_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_back_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_front_end_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_front_end_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_single_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_single_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_picture_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_picture_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_slice_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_slice_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet/decode_vp9_tile_packet_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline/decode_vp9_buffer_update_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_adapter_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline/decode_vp9_pipeline_m12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/packet/encode_av1_vdenc_packet_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_adapter_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/pipeline/encode_av1_vdenc_pipeline_xe_m_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/shared/encode_mem_compression_g12.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/vp_feature_manager_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/vp_vebox_cmd_packet_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/vp_pipeline_adapter_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/vp_platform_interface_xe_xpm.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/features/encode_hevc_vdenc_const_settings_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/features/encode_hevc_vdenc_feature_manager_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_adapter_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/pipeline/encode_hevc_vdenc_pipeline_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_blt_copy_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_copy_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/vp_feature_manager_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/vp_render_sfc_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/vp_vebox_cmd_packet_xe_xpm_base.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/codec/hal/shared/codechal_hw_next_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_blt_copy_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_copy_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_render_copy_xe_xpm_plus.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HP/renderhal/renderhal_xe_hp.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/renderhal_xe_hpc.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/renderhal_xe_hpg.cpp \
+    media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/renderhal_xe_hp_base.cpp \
+    media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_multipipe.cpp \
+    media_softlet/agnostic/common/codec/hal/dec/shared/scalability/decode_scalability_singlepipe.cpp \
+    media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_interface_legacy.cpp \
+    media_softlet/agnostic/common/shared/media_sfc_interface/media_sfc_render_legacy.cpp \
+    media_softlet/agnostic/common/shared/packet/media_packet.cpp \
+    media_softlet/agnostic/common/shared/scalability/media_scalability_singlepipe.cpp \
+    media_softlet/agnostic/common/vp/hal/packet/vp_render_sfc_base_legacy.cpp \
+    media_softlet/agnostic/common/vp/hal/packet/vp_vebox_cmd_packet_legacy.cpp \
+    media_softlet/agnostic/common/vp/hal/pipeline/vp_pipeline_adapter_legacy.cpp \
+    media_softlet/agnostic/common/vp/hal/shared/scalability/vp_scalability_multipipe.cpp \
+    media_softlet/agnostic/common/vp/hal/shared/scalability/vp_scalability_singlepipe.cpp \
+    media_softlet/agnostic/g12/g12_0/renderhal/renderhal_g12_0.cpp \
+    media_softlet/agnostic/g12/g12_1/renderhal/renderhal_g12_1.cpp \
+    media_softlet/agnostic/g12/g12_base/renderhal/renderhal_g12_base.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_basic_feature_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_feature_manager_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_filmgrain_feature_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_reference_frames_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_temporal_buffers_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/features/decode_av1_tile_coding_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_av1_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_av1_picture_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_av1_tile_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_applynoise_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_gennoise_grv_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_gennoise_rp1_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/packet/decode_filmgrain_gennoise_rp2_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_av1_pipeline_adapter_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_av1_pipeline_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_filmgrain_postsubpipeline_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_filmgrain_presubpipeline_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline/decode_filmgrain_surf_init_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/shared/decode_marker_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/shared/decode_mem_compression_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/dec/shared/decode_predication_packet_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/shared/codec_mem_compression_g12.cpp \
+    media_softlet/agnostic/gen12/codec/hal/shared/codec_mem_compression_g12_next.cpp \
+    media_softlet/agnostic/gen12/vp/hal/vp_pipeline_adapter_g12.cpp \
+    media_softlet/agnostic/gen12/vp/hal/vp_vebox_cmd_packet_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/features/decode_av1_feature_manager_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet/decode_av1_packet_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet/decode_av1_picture_packet_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet/decode_av1_tile_packet_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/av1/pipeline/decode_av1_pipeline_g12_base.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/hucitf/decode_huc_packet_creator_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/hucitf/huc_streamout_interface_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/packet/decode_huc_copy_packet_g12.cpp \
+    media_softlet/agnostic/gen12_base/codec/hal/dec/shared/packet/decode_huc_g12_base.cpp \
+    media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/vp_platform_interface_g12_tgllp.cpp \
+    media_softlet/agnostic/m12/m12/vp/hal/packet/vp_kernel_config_m12_base.cpp \
+    media_softlet/agnostic/m12/m12/vp/hal/packet/vp_render_sfc_m12.cpp \
+    media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_copy_m12_0.cpp \
+    media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/vp_feature_manager_m12_0.cpp \
+
+LOCAL_SHARED_LIBRARIES := \
+    libsync \
+    libcutils \
+    libutils \
+    libdrm \
+    libva \
+    liblog \
+
+
+LOCAL_STATIC_LIBRARIES := \
+    libgmm_umd \
+
+LOCAL_CPPFLAGS := \
+    -Wno-delete-incomplete \
+    -Wno-implicit-fallthrough \
+    -Wno-overloaded-virtual \
+    -Wno-logical-op-parentheses \
+    -Wno-missing-braces \
+    -Wno-ignored-qualifiers \
+    -Wno-missing-field-initializers \
+    -Wno-deprecated-declarations \
+    -Wno-parentheses-equality \
+    -Wno-parentheses \
+    -Wno-reorder-ctor \
+    -Wno-comment \
+    -Wno-format \
+    -Wno-error \
+    -Wno-pragma-pack \
+    -Wno-unused-parameter \
+    -Wno-c++11-narrowing \
+    -DDRV_I915 \
+    -DOTC_GRALLOC \
+    -DANDROID \
+    -DANDROID_VERSION=800 \
+    -fexceptions \
+    -frtti \
+    -std=c++14 \
+    -msse2 \
+    -msse3 \
+    -mssse3 \
+    -msse4.1 \
+    -msse4.2 \
+    -DCLASS_TRACE=0 \
+    -DENABLE_KERNELS \
+    -DHEVC_FEI_ENABLE_CMRT \
+    -DIGFX_DG2_SUPPORTED \
+    -DIGFX_GEN11_ICLLP_SUPPORTED \
+    -DIGFX_GEN11_JSL_SUPPORTED \
+    -DIGFX_GEN11_SUPPORTED \
+    -DIGFX_GEN12_ADLN_SUPPORTED \
+    -DIGFX_GEN12_ADLP_SUPPORTED \
+    -DIGFX_GEN12_ADLS_SUPPORTED \
+    -DIGFX_GEN12_DG1_SUPPORTED \
+    -DIGFX_GEN12_RKL_SUPPORTED \
+    -DIGFX_GEN12_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_CMFCPATCH_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_CMFC_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_SUPPORTED \
+    -DIGFX_GEN12_TGLLP_SWSB_SUPPORTED \
+    -DIGFX_GEN8_BDW_SUPPORTED \
+    -DIGFX_GEN8_SUPPORTED \
+    -DIGFX_GEN9_BXT_SUPPORTED \
+    -DIGFX_GEN9_CFL_SUPPORTED \
+    -DIGFX_GEN9_CML_SUPPORTED \
+    -DIGFX_GEN9_CMPV_SUPPORTED \
+    -DIGFX_GEN9_GLK_SUPPORTED \
+    -DIGFX_GEN9_KBL_SUPPORTED \
+    -DIGFX_GEN9_SKL_SUPPORTED \
+    -DIGFX_GEN9_SUPPORTED \
+    -DIGFX_MTL_SUPPORTED \
+    -DIGFX_PVC_CMFCPATCH_SUPPORTED \
+    -DIGFX_PVC_SUPPORTED \
+    -DIGFX_XEHP_SDV_CMFCPATCH_SUPPORTED \
+    -DIGFX_XEHP_SDV_SUPPORTED \
+    -DIGFX_XE_HPG_CMFCPATCH_SUPPORTED \
+    -DIGFX_XE_HPG_SUPPORTED \
+    -DMEDIA_VERSION=\"23.2.1\" \
+    -DMEDIA_VERSION_DETAILS=\"169aa0eed\" \
+    -DVEBOX_AUTO_DENOISE_SUPPORTED=1 \
+    -DX11_FOUND \
+    -D_AV1_DECODE_SUPPORTED \
+    -D_AV1_ENCODE_VDENC_SUPPORTED \
+    -D_AVC_DECODE_SUPPORTED \
+    -D_AVC_ENCODE_VDENC_SUPPORTED \
+    -D_AVC_ENCODE_VME_SUPPORTED \
+    -D_COMMON_ENCODE_SUPPORTED \
+    -D_DECODE_PROCESSING_SUPPORTED \
+    -D_HEVC_DECODE_SUPPORTED \
+    -D_HEVC_ENCODE_VDENC_SUPPORTED \
+    -D_HEVC_ENCODE_VME_SUPPORTED \
+    -D_JPEG_DECODE_SUPPORTED \
+    -D_JPEG_ENCODE_SUPPORTED \
+    -D_MANUAL_SOFTLET_ \
+    -D_MMC_SUPPORTED \
+    -D_MPEG2_DECODE_SUPPORTED \
+    -D_MPEG2_ENCODE_VME_SUPPORTED \
+    -D_VC1_DECODE_SUPPORTED \
+    -D_VP8_DECODE_SUPPORTED \
+    -D_VP8_ENCODE_SUPPORTED \
+    -D_VP9_DECODE_SUPPORTED \
+    -D_VP9_ENCODE_VDENC_SUPPORTED \
+    -D__STDC_CONSTANT_MACROS \
+    -D__STDC_LIMIT_MACROS \
+    -D__VPHAL_SFC_SUPPORTED=1 \
+    -DiHD_drv_video_EXPORTS
+
+LOCAL_CONLYFLAGS = -x c++
+LOCAL_CFLAGS = $(LOCAL_CPPFLAGS)
+
+LOCAL_C_INCLUDES  = \
+    $(LOCAL_PATH)/../Tools/MediaDriverTools/Android/build/media_driver \
+    $(LOCAL_PATH)/../media_common/agnostic/common/codec/shared \
+    $(LOCAL_PATH)/../media_common/agnostic/common/cp \
+    $(LOCAL_PATH)/../media_common/agnostic/common/heap_manager \
+    $(LOCAL_PATH)/../media_common/agnostic/common/hw \
+    $(LOCAL_PATH)/../media_common/agnostic/common/hw/vdbox \
+    $(LOCAL_PATH)/../media_common/agnostic/common/media_interfaces \
+    $(LOCAL_PATH)/../media_common/agnostic/common/os/user_setting \
+    $(LOCAL_PATH)/../media_common/agnostic/common/os \
+    $(LOCAL_PATH)/../media_common/agnostic/common/renderhal \
+    $(LOCAL_PATH)/../media_common/agnostic/common/shared \
+    $(LOCAL_PATH)/../media_common/agnostic/common/vp/hal \
+    $(LOCAL_PATH)/../media_common/agnostic/common/vp/kernel \
+    $(LOCAL_PATH)/../media_common/agnostic/common/vp/kdll \
+    $(LOCAL_PATH)/../media_common/linux/common/os \
+    $(LOCAL_PATH)/../media_common/linux/common/cp/ddi \
+    $(LOCAL_PATH)/../media_common/linux/common/cp/os \
+    $(LOCAL_PATH)/../media_common/linux/common/codec \
+    $(LOCAL_PATH)/agnostic/common/cm \
+    $(LOCAL_PATH)/agnostic/common/codec/hal \
+    $(LOCAL_PATH)/agnostic/common/codec/kernel \
+    $(LOCAL_PATH)/agnostic/common/codec/shared \
+    $(LOCAL_PATH)/agnostic/common/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/common/hw \
+    $(LOCAL_PATH)/agnostic/common/media_interfaces \
+    $(LOCAL_PATH)/agnostic/common/os \
+    $(LOCAL_PATH)/agnostic/common/renderhal \
+    $(LOCAL_PATH)/agnostic/common/shared/mediacopy \
+    $(LOCAL_PATH)/agnostic/common/shared \
+    $(LOCAL_PATH)/agnostic/common/vp/hal \
+    $(LOCAL_PATH)/agnostic/common/vp/kdll \
+    $(LOCAL_PATH)/agnostic/gen12/cm \
+    $(LOCAL_PATH)/agnostic/gen12/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen12/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen12/codec/kernelisa \
+    $(LOCAL_PATH)/agnostic/gen12/codec/shared \
+    $(LOCAL_PATH)/agnostic/gen12/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen12/hw \
+    $(LOCAL_PATH)/agnostic/gen12/vp/hal \
+    $(LOCAL_PATH)/agnostic/g12/g12_base/hw/render \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/vp/hal \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/av1 \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/dec \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen8/cm \
+    $(LOCAL_PATH)/agnostic/gen8/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen8/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen8/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen8/hw \
+    $(LOCAL_PATH)/agnostic/gen8/renderhal \
+    $(LOCAL_PATH)/agnostic/gen8/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen8/vp/kdll \
+    $(LOCAL_PATH)/agnostic/gen8/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen8_bdw/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen8_bdw/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen8_bdw/renderhal \
+    $(LOCAL_PATH)/agnostic/gen9/cm \
+    $(LOCAL_PATH)/agnostic/gen9/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen9/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9/hw \
+    $(LOCAL_PATH)/agnostic/gen9/renderhal \
+    $(LOCAL_PATH)/agnostic/gen9/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen9/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_cml/vp/kernel/tgp \
+    $(LOCAL_PATH)/agnostic/gen9_cml/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_cmpv/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9_bxt/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen9_skl/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_skl/codec/cmrt_kernel \
+    $(LOCAL_PATH)/agnostic/gen9_skl/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9_glk/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_glk/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen9_glk/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen9_kbl/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen9_kbl/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen9_kbl/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen11/cm \
+    $(LOCAL_PATH)/agnostic/gen11/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen11/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen11/codec/share \
+    $(LOCAL_PATH)/agnostic/gen11/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/gen11/hw \
+    $(LOCAL_PATH)/agnostic/gen11/renderhal \
+    $(LOCAL_PATH)/agnostic/gen11/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/codec/hal \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/codec/kernel \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen11_icllp/vp/kernel \
+    $(LOCAL_PATH)/agnostic/gen11_jsl_ehl/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen11_jsl_ehl/renderhal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/hw \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/vp/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/vp/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/codec/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM/codec/kernelisa \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/hw \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/vp/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/codec/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_HPM/codec/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/codec/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/codec/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/hw \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/vp/hal \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/vp/kernel \
+    $(LOCAL_PATH)/agnostic/Xe_M/Xe_XPM_plus/shared \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HP_base/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HP_base/hw/blt \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HP/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HPG/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HPC/hw/render \
+    $(LOCAL_PATH)/agnostic/Xe_R/Xe_HPC/hw/blt \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/hal \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/cmfc \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel/swsb \
+    $(LOCAL_PATH)/agnostic/gen12_tgllp/vp/kernel \
+    $(LOCAL_PATH)/linux/common/cm/ddi \
+    $(LOCAL_PATH)/linux/common/cm/hal/osservice \
+    $(LOCAL_PATH)/linux/common/cm/hal \
+    $(LOCAL_PATH)/linux/common/ddi \
+    $(LOCAL_PATH)/linux/common/os \
+    $(LOCAL_PATH)/linux/common/codec/ddi \
+    $(LOCAL_PATH)/linux/common/cp/ddi \
+    $(LOCAL_PATH)/linux/common/cp/os \
+    $(LOCAL_PATH)/linux/common/cp/hw \
+    $(LOCAL_PATH)/linux/common/cp/shared \
+    $(LOCAL_PATH)/linux/common/vp/ddi \
+    $(LOCAL_PATH)/linux/common/hw \
+    $(LOCAL_PATH)/linux/gen8/ddi \
+    $(LOCAL_PATH)/linux/gen9/ddi \
+    $(LOCAL_PATH)/linux/gen9_bxt/ddi \
+    $(LOCAL_PATH)/linux/gen9_skl/ddi \
+    $(LOCAL_PATH)/linux/gen9_kbl/ddi \
+    $(LOCAL_PATH)/linux/gen9_glk/ddi \
+    $(LOCAL_PATH)/linux/gen9_cfl/ddi \
+    $(LOCAL_PATH)/linux/gen11/codec/ddi \
+    $(LOCAL_PATH)/linux/gen11/ddi \
+    $(LOCAL_PATH)/linux/gen12/codec/ddi \
+    $(LOCAL_PATH)/linux/gen12/ddi \
+    $(LOCAL_PATH)/linux/Xe_M/ddi \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/shared/media_sfc_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/shared/scalability \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/vp/hal/shared/scalability \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/vp/hal/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/common/codec/hal/dec/shared/scalability \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/av1/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/shared/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal/dec/shared/hucitf \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_base/codec/hal \
+    $(LOCAL_PATH)/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/m12/m12/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/m12/m12_0/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/g12/g12_base/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/g12/g12_0/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/g12/g12_1/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HP/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/hw \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal/enc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_base/codec/hal \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/av1/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/enc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/codec/hal/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_HPM/hw \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_XPM_plus/codec/hal/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/mmc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/mmc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/hucitf \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9/features \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/vp9 \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/mmc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2 \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/jpeg \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc/shared \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/enc \
+    $(LOCAL_PATH)/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m8_bdw \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_bxt \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_skl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_cfl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_glk \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m9_kbl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m11_icllp \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m11_jsl_ehl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_tgllp \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_dg1 \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_rkl \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_adls \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_adlp \
+    $(LOCAL_PATH)/media_interface/media_interfaces_m12_adln \
+    $(LOCAL_PATH)/media_interface/media_interfaces_xehp_sdv \
+    $(LOCAL_PATH)/media_interface/media_interfaces_dg2 \
+    $(LOCAL_PATH)/media_interface/media_interfaces_pvc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/task \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/mediacontext \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/mediacopy \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/media_sfc_interface \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/classtrace \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared/profiler \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/os/user_setting \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/os/share \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/os \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/feature_manager \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/utils \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/platform_interface \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/hal/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/kdll \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/vp/cm_fc_ld \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/heap_manager \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/cp \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/av1/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/av1/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/avc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/avc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/avc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/hevc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp9/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared/hucItf \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp8/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp8/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/dec/vp8/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/av1/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/avc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/avc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/avc/features/roi \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/avc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/scalability \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/statusreport \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/jpeg/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/jpeg/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/vp9/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/enc/vp9/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/codec/hal/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/hw/vdbox \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/hw \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/renderhal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/media_interfaces \
+    $(LOCAL_PATH)/../media_softlet/agnostic/common/media_bin_mgr \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/cmfcpatch \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R/Xe_HPG/renderhal \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_R \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/shared/common \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/mmc \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/vdbox \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediaDecompress \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/feature_manager \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/features \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/av1/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/hevc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/avc/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/mpeg2 \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp9/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp8/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/jpeg \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/pipeline \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/platform_interface \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet \
+    $(LOCAL_PATH)/../media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/feature_manager \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/osservice \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915/include/uapi \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915/include \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915 \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915_production/include \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os/i915_production \
+    $(LOCAL_PATH)/../media_softlet/linux/common/os \
+    $(LOCAL_PATH)/../media_softlet/linux/common/cp \
+    $(LOCAL_PATH)/../media_softlet/linux/common/cp/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/common/vp/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/common/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/common/codec/ddi/shared \
+    $(LOCAL_PATH)/../media_softlet/linux/common/codec/ddi/dec \
+    $(LOCAL_PATH)/../media_softlet/linux/common/codec/ddi/enc \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/encode/hevc/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/encode/avc/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/encode/jpeg/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/encode/av1/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/encode/vp9/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/vp/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/av1/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/avc/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/jpeg/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/hevc/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/mpeg2/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/vp8/ddi \
+    $(LOCAL_PATH)/../media_softlet/linux/xe_lpm_plus_r0/decode/vp9/ddi \
+    $(LOCAL_PATH)/../media_softlet/media_interface/media_interfaces_mtl \
+
+
+#LOCAL_CPP_FEATURES := rtti exceptions
+
+LOCAL_MODULE := i965_drv_video
+LOCAL_PROPRIETARY_MODULE := true
+
+include $(BUILD_SHARED_LIBRARY)
diff --git a/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
index 08668d10c..5189e27f0 100644
--- a/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
@@ -45,6 +45,7 @@ set(COMMON_HEADERS_
 
 source_group("MHW" FILES ${TMP_UTILITIES_HEADERS_})
 source_group("MHW\\VEBOX" FILES ${TMP_VEBOX_SOURCES_} ${TMP_VEBOX_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
index 6c51093d6..98f519964 100644
--- a/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
@@ -49,6 +49,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake
index 93c2fecb6..58763123b 100644
--- a/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_HPM/vp/hal/media_srcs.cmake
@@ -61,3 +61,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake
index a319b640c..4329fc4b1 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/hw/media_srcs.cmake
@@ -86,6 +86,8 @@ source_group("MHW\\State Heap" FILES ${TMP_STATE_HEAP_SOURCES_} ${TMP_STATE_HEAP
 source_group("MHW\\VEBOX" FILES ${TMP_VEBOX_SOURCES_} ${TMP_VEBOX_HEADERS_})
 source_group("MHW\\Common MI" FILES ${TMP_MI_SOURCES_} ${TMP_MI_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake
index f5202ee1e..3d586adba 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/hw/vdbox/media_srcs.cmake
@@ -48,6 +48,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake
index c30e91b25..96c2195e7 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/vp/hal/media_srcs.cmake
@@ -70,3 +70,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake
index 731a08290..d6370a186 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -46,3 +46,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake
index ad17fec62..21e3e152e 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM/vp/kernel/media_srcs.cmake
@@ -51,3 +51,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake
index b38811be4..a094f12cf 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/hw/vdbox/media_srcs.cmake
@@ -43,6 +43,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake
index b911bc3ef..95fee1fc5 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/shared/media_srcs.cmake
@@ -39,4 +39,6 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake
index 9b8509e10..66b1efb3a 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/hal/media_srcs.cmake
@@ -59,3 +59,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake
index 82bb5721b..5ce5539ad 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -46,3 +46,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake
index 8f61e53ad..69cbb2aa5 100644
--- a/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_M/Xe_XPM_plus/vp/kernel/media_srcs.cmake
@@ -49,4 +49,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake
index e8dd43f5a..a947074f4 100644
--- a/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HP/hw/render/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake
index a744254b7..6451a9741 100644
--- a/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HPC/hw/blt/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\BLT" FILES ${TMP_BLT_SOURCES_} ${TMP_BLT_HEADERS_})  
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake
index 87504f45b..856bc52b4 100644
--- a/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HPC/hw/render/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake
index e3c4cdd7b..ff5005584 100644
--- a/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HPG/hw/render/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake
index eee609ad5..1d19e8c64 100644
--- a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/blt/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\BLT" FILES ${TMP_BLT_SOURCES_} ${TMP_BLT_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake
index 5b66048d4..c947d3f92 100644
--- a/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/Xe_R/Xe_HP_base/hw/render/media_srcs.cmake
@@ -39,6 +39,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/hw/media_srcs.cmake b/media_driver/agnostic/common/hw/media_srcs.cmake
index 6947c4300..3c4e370d0 100644
--- a/media_driver/agnostic/common/hw/media_srcs.cmake
+++ b/media_driver/agnostic/common/hw/media_srcs.cmake
@@ -90,8 +90,9 @@ set(COMMON_SOURCES_
 )
 
 source_group("MHW\\BLT" FILES ${TMP_5_SOURCES_} ${TMP_5_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake
index 184928a80..d85409919 100644
--- a/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/common/hw/vdbox/media_srcs.cmake
@@ -47,6 +47,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/media_interfaces/media_srcs.cmake b/media_driver/agnostic/common/media_interfaces/media_srcs.cmake
index 1727adbaa..a35cf841d 100644
--- a/media_driver/agnostic/common/media_interfaces/media_srcs.cmake
+++ b/media_driver/agnostic/common/media_interfaces/media_srcs.cmake
@@ -44,4 +44,6 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/os/media_srcs.cmake b/media_driver/agnostic/common/os/media_srcs.cmake
index c45ef8811..d6525ba03 100644
--- a/media_driver/agnostic/common/os/media_srcs.cmake
+++ b/media_driver/agnostic/common/os/media_srcs.cmake
@@ -74,4 +74,4 @@ set (MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 
-media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/renderhal/media_srcs.cmake b/media_driver/agnostic/common/renderhal/media_srcs.cmake
index 0db298627..110920eb2 100644
--- a/media_driver/agnostic/common/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/common/renderhal/media_srcs.cmake
@@ -50,6 +50,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\OCA" FILES ${TMP_SOURCES2_} ${TMP_HEADERS2_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/shared/media_srcs.cmake b/media_driver/agnostic/common/shared/media_srcs.cmake
index b7fa736bb..b318d4519 100644
--- a/media_driver/agnostic/common/shared/media_srcs.cmake
+++ b/media_driver/agnostic/common/shared/media_srcs.cmake
@@ -19,6 +19,7 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(mediacopy)
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/media_perf_profiler_legacy.cpp
diff --git a/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake b/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake
index 518cbb013..baa2dcc5f 100644
--- a/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/agnostic/common/shared/mediacopy/media_srcs.cmake
@@ -34,6 +34,7 @@ set(COMMON_SOURCES_
     ${TMP_SOURCES_})
 
 source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/common/vp/hal/media_srcs.cmake b/media_driver/agnostic/common/vp/hal/media_srcs.cmake
index 15f1149f2..6a2d5bbac 100644
--- a/media_driver/agnostic/common/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/common/vp/hal/media_srcs.cmake
@@ -115,3 +115,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/common/vp/kdll/media_srcs.cmake b/media_driver/agnostic/common/vp/kdll/media_srcs.cmake
index c811a97e1..a112ac0d1 100644
--- a/media_driver/agnostic/common/vp/kdll/media_srcs.cmake
+++ b/media_driver/agnostic/common/vp/kdll/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake b/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake
index 98cb53b14..1577f5ee3 100644
--- a/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake
+++ b/media_driver/agnostic/g12/g12_base/hw/render/media_srcs.cmake
@@ -40,6 +40,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Engine" FILES ${TMP_RENDER_SOURCES_} ${TMP_RENDER_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/cm/media_srcs.cmake b/media_driver/agnostic/gen10/cm/media_srcs.cmake
index 103b02a18..682bddcd8 100644
--- a/media_driver/agnostic/gen10/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/cm/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/hw/media_srcs.cmake b/media_driver/agnostic/gen10/hw/media_srcs.cmake
index 59198445c..131157ace 100644
--- a/media_driver/agnostic/gen10/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/hw/media_srcs.cmake
@@ -98,6 +98,8 @@ source_group("MHW\\Common MI" FILES ${TMP_3_SOURCES_} ${TMP_3_HEADERS_})
 source_group("MHW\\Render Engine" FILES ${TMP_4_SOURCES_} ${TMP_4_HEADERS_})
 source_group("MHW\\State Heap" FILES ${TMP_5_SOURCES_} ${TMP_5_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake
index b4d2169c1..cef7e0c30 100644
--- a/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/hw/vdbox/media_srcs.cmake
@@ -51,6 +51,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/renderhal/media_srcs.cmake b/media_driver/agnostic/gen10/renderhal/media_srcs.cmake
index 8f7045d6e..89d9373de 100644
--- a/media_driver/agnostic/gen10/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/renderhal/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake
index 8c38d425c..fd0496bf2 100644
--- a/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/vp/hal/media_srcs.cmake
@@ -65,3 +65,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake
index 53e4ae6ab..421ffd83a 100755
--- a/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen10/vp/kernel/media_srcs.cmake
@@ -45,3 +45,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11/cm/media_srcs.cmake b/media_driver/agnostic/gen11/cm/media_srcs.cmake
index caa9ade43..0c3e32cf2 100644
--- a/media_driver/agnostic/gen11/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/cm/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/hw/media_srcs.cmake b/media_driver/agnostic/gen11/hw/media_srcs.cmake
index 05525570c..0af34abc0 100644
--- a/media_driver/agnostic/gen11/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/hw/media_srcs.cmake
@@ -97,6 +97,7 @@ set(COMMON_HEADERS_
 source_group("MHW\\Common MI" FILES ${TMP_3_SOURCES_} ${TMP_3_HEADERS_})
 source_group("MHW\\Render Engine" FILES ${TMP_4_SOURCES_} ${TMP_4_HEADERS_})
 source_group("MHW\\State Heap" FILES ${TMP_5_SOURCES_} ${TMP_5_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake
index c3d811496..9213df176 100644
--- a/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/hw/vdbox/media_srcs.cmake
@@ -52,6 +52,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/renderhal/media_srcs.cmake b/media_driver/agnostic/gen11/renderhal/media_srcs.cmake
index f4ae6db4b..af53f9849 100644
--- a/media_driver/agnostic/gen11/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/renderhal/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake
index 0ae641b24..50c2b04c4 100644
--- a/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11/vp/hal/media_srcs.cmake
@@ -50,4 +50,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake
index 8385e3569..d4a2f2554 100644
--- a/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_icllp/vp/hal/media_srcs.cmake
@@ -58,4 +58,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake
index 13bb8b350..3f3a52849 100755
--- a/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_icllp/vp/kernel/media_srcs.cmake
@@ -47,3 +47,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake b/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake
index ff7e7aa9c..0036042e8 100755
--- a/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_icllp/vp/kernel_free/media_srcs.cmake
@@ -128,6 +128,8 @@ source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake b/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake
index ecbc6da31..8e4ae232b 100644
--- a/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_jsl_ehl/renderhal/media_srcs.cmake
@@ -38,6 +38,8 @@ set(COMMON_HEADERS_
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake
index e69965592..fe385883b 100644
--- a/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen11_jsl_ehl/vp/hal/media_srcs.cmake
@@ -59,4 +59,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12/cm/media_srcs.cmake b/media_driver/agnostic/gen12/cm/media_srcs.cmake
index 24a2ba822..9f3ad05bd 100644
--- a/media_driver/agnostic/gen12/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/cm/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen12/hw/media_srcs.cmake b/media_driver/agnostic/gen12/hw/media_srcs.cmake
index 2179aa3ce..8103074ad 100644
--- a/media_driver/agnostic/gen12/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/hw/media_srcs.cmake
@@ -85,6 +85,8 @@ set(COMMON_HEADERS_
 source_group("MHW\\Common MI" FILES ${TMP_MI_SOURCES_} ${TMP_MI_HEADERS_})
 source_group("MHW\\State Heap" FILES ${TMP_STATE_HEAP_SOURCES_} ${TMP_STATE_HEAP_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake
index d58b43af9..48cafbcb3 100644
--- a/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/hw/vdbox/media_srcs.cmake
@@ -59,6 +59,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake
index 4a4413200..93d171c01 100644
--- a/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen12/vp/hal/media_srcs.cmake
@@ -54,4 +54,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake
index 0013249d4..c35b0d4ed 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/hal/media_srcs.cmake
@@ -58,4 +58,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake
index c405f0727..5db359453 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfc/media_srcs.cmake
@@ -57,4 +57,6 @@ set(VP_PRIVATE_INCLUDE_DIRS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake
index e99c37459..311c435b2 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfccmlpch/media_srcs.cmake
@@ -58,4 +58,6 @@ set(VP_PRIVATE_INCLUDE_DIRS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake
index c09182328..aebeddde1 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -58,4 +58,6 @@ set(VP_PRIVATE_INCLUDE_DIRS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake
index 4ac44154d..0f16285aa 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/media_srcs.cmake
@@ -22,6 +22,7 @@
 media_include_subdirectory(cmfc)
 media_include_subdirectory(cmfcpatch)
 media_include_subdirectory(cmfccmlpch)
+media_include_subdirectory(swsb)
 
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/igvpkrn_isa_g12_tgllp.c
@@ -62,4 +63,6 @@ set(VP_PRIVATE_INCLUDE_DIRS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel/swsb/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Common/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Components/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake
new file mode 100644
index 000000000..10b271230
--- /dev/null
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/Source/media_srcs.cmake
@@ -0,0 +1,26 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_include_subdirectory(Common)
+media_include_subdirectory(Components)
+media_include_subdirectory(Core_Kernels)
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake
index fda74ac85..8d6c45271 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfc/media_srcs.cmake
@@ -41,6 +41,8 @@ source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake
index 3c0422930..3f9bc205b 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/cmfcpatch/media_srcs.cmake
@@ -39,6 +39,7 @@ set(VP_HEADERS_
 )
 
 source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake
index 6208bf3d9..228783701 100644
--- a/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake
+++ b/media_driver/agnostic/gen12_tgllp/vp/kernel_free/media_srcs.cmake
@@ -237,6 +237,7 @@ endif()
 
 media_include_subdirectory(cmfc)
 media_include_subdirectory(cmfcpatch)
+media_include_subdirectory(source)
 
 source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 
diff --git a/media_driver/agnostic/gen8/cm/media_srcs.cmake b/media_driver/agnostic/gen8/cm/media_srcs.cmake
index 2784a1cfd..36c78c89a 100644
--- a/media_driver/agnostic/gen8/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/cm/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen8/hw/media_srcs.cmake b/media_driver/agnostic/gen8/hw/media_srcs.cmake
index 2df0924b8..b7256b021 100644
--- a/media_driver/agnostic/gen8/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/hw/media_srcs.cmake
@@ -19,6 +19,7 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
 
 
 set(TMP_SOURCES_
diff --git a/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake
index 4320df028..0a61dcd4f 100644
--- a/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/hw/vdbox/media_srcs.cmake
@@ -30,6 +30,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen8/renderhal/media_srcs.cmake b/media_driver/agnostic/gen8/renderhal/media_srcs.cmake
index f27379540..7c1092754 100644
--- a/media_driver/agnostic/gen8/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/renderhal/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake
index a28caf729..96d8a9941 100644
--- a/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/vp/hal/media_srcs.cmake
@@ -62,3 +62,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake b/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake
index 6c144a6dd..3f8c20b92 100644
--- a/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/vp/kdll/media_srcs.cmake
@@ -31,6 +31,8 @@ set(VP_SOURCES_
     ${TMP_SOURCES_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( "VpHal\\Kernel DLL" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake
index be9116c8d..939f32383 100755
--- a/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen8/vp/kernel/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake
index e6460cb59..956075fb1 100644
--- a/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen8_bdw/hw/vdbox/media_srcs.cmake
@@ -40,8 +40,8 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
-
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
\ No newline at end of file
diff --git a/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake b/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake
index 25996ea24..337f1b4e3 100644
--- a/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen8_bdw/renderhal/media_srcs.cmake
@@ -30,6 +30,7 @@ set(COMMON_HEADERS_
 )
 
 source_group("MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/cm/media_srcs.cmake b/media_driver/agnostic/gen9/cm/media_srcs.cmake
index 9c4b8c1be..e1a290472 100644
--- a/media_driver/agnostic/gen9/cm/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/cm/media_srcs.cmake
@@ -38,6 +38,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "CM" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/hw/media_srcs.cmake b/media_driver/agnostic/gen9/hw/media_srcs.cmake
index 687ae8442..d6db819b8 100644
--- a/media_driver/agnostic/gen9/hw/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/hw/media_srcs.cmake
@@ -19,6 +19,8 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
+
 
 
 set(TMP_1_SOURCES_
diff --git a/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake
index 578f03d57..a43bd909a 100644
--- a/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/hw/vdbox/media_srcs.cmake
@@ -31,6 +31,8 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
+
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/renderhal/media_srcs.cmake b/media_driver/agnostic/gen9/renderhal/media_srcs.cmake
index b23e83d44..bb968daf8 100644
--- a/media_driver/agnostic/gen9/renderhal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/renderhal/media_srcs.cmake
@@ -37,6 +37,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake
index 88cd40160..1c0486482 100644
--- a/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/vp/hal/media_srcs.cmake
@@ -64,3 +64,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake
index bd130d932..2b2b3e004 100755
--- a/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen9/vp/kernel/media_srcs.cmake
@@ -47,4 +47,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake
index 9f6983b89..6a03287b5 100644
--- a/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_bxt/hw/vdbox/media_srcs.cmake
@@ -52,6 +52,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake
index cf35bd74c..017f88e61 100644
--- a/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_bxt/vp/hal/media_srcs.cmake
@@ -55,4 +55,6 @@ set(TMP_2_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake
index 0ac82f5e6..3fe2d981b 100644
--- a/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_cml/vp/kernel/media_srcs.cmake
@@ -47,4 +47,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake b/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake
index c44fc4b26..38e73b37b 100644
--- a/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_cml/vp/kernel/tgp/media_srcs.cmake
@@ -45,3 +45,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake b/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake
index 85c1be343..2f501ccd3 100644
--- a/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_cmpv/vp/kernel/media_srcs.cmake
@@ -38,6 +38,7 @@ set(VP_HEADERS_
 )
 
 source_group( "Kernel\\VpKernel" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake
index 716e5b304..fd2dc758e 100644
--- a/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_glk/hw/vdbox/media_srcs.cmake
@@ -39,6 +39,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake b/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake
index d5b0b7526..905e8c3dd 100644
--- a/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_glk/vp/hal/media_srcs.cmake
@@ -56,3 +56,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake
index b2f01324e..594c15d05 100644
--- a/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_kbl/hw/vdbox/media_srcs.cmake
@@ -52,6 +52,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake b/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake
index 3c8610a93..e8f445314 100644
--- a/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake
+++ b/media_driver/agnostic/gen9_skl/hw/vdbox/media_srcs.cmake
@@ -51,6 +51,7 @@ set(COMMON_HEADERS_
 )
 
 source_group( "MHW\\Vdbox" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
 
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
diff --git a/media_driver/agnostic/media_srcs.cmake b/media_driver/agnostic/media_srcs.cmake
index 99ca74ba9..d0660aabf 100755
--- a/media_driver/agnostic/media_srcs.cmake
+++ b/media_driver/agnostic/media_srcs.cmake
@@ -290,6 +290,12 @@ endif()
 
 media_include_subdirectory(common)
 
+if(ENABLE_REQUIRED_GEN_CODE OR GEN12)
+    media_include_subdirectory(gen12)
+    media_include_subdirectory(g12)
+    media_include_subdirectory(../media_softlet/agnostic/gen12)
+endif()
+
 if(GEN8)
     media_include_subdirectory(gen8)
 endif()
@@ -310,11 +316,11 @@ if(GEN9_CMPV)
     media_include_subdirectory(gen9_cmpv)
 endif()
 
-if(GEN9_BXT)
+if(ENABLE_REQUIRED_GEN_CODE OR GEN9_BXT)
     media_include_subdirectory(gen9_bxt)
 endif()
 
-if(GEN9_SKL)
+if(ENABLE_REQUIRED_GEN_CODE OR GEN9_SKL)
     media_include_subdirectory(gen9_skl)
 endif()
 
@@ -344,17 +350,12 @@ endif()
 
 if(ENABLE_REQUIRED_GEN_CODE OR GEN12)
     media_include_subdirectory(gen12)
-    media_include_subdirectory(g12)
-    media_include_subdirectory(../media_softlet/agnostic/gen12)
+    media_include_subdirectory(Xe_M)
+    media_include_subdirectory(Xe_R)
 endif()
 
 if(ENABLE_REQUIRED_GEN_CODE OR GEN12_TGLLP)
     media_include_subdirectory(gen12_tgllp)
 endif()
 
-if(ENABLE_REQUIRED_GEN_CODE OR GEN12)
-media_include_subdirectory(Xe_M)
-media_include_subdirectory(Xe_R)
-endif()
-
 include(${MEDIA_EXT}/agnostic/media_srcs_ext.cmake OPTIONAL)
diff --git a/media_driver/agnostic/ult/cm/media_srcs.cmake b/media_driver/agnostic/ult/cm/media_srcs.cmake
new file mode 100644
index 000000000..44566363e
--- /dev/null
+++ b/media_driver/agnostic/ult/cm/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_add_curr_to_include_path()
diff --git a/media_driver/agnostic/ult/media_srcs.cmake b/media_driver/agnostic/ult/media_srcs.cmake
new file mode 100644
index 000000000..452017e8d
--- /dev/null
+++ b/media_driver/agnostic/ult/media_srcs.cmake
@@ -0,0 +1,23 @@
+# Copyright (c) 2019, Intel Corporation
+#
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+#
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+#
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+#check whether need some flags to guard the including of below folders
+
+media_include_subdirectory(cm)
diff --git a/media_driver/linux/common/os/media_srcs.cmake b/media_driver/linux/common/os/media_srcs.cmake
index 8fdb07865..04f8b4739 100644
--- a/media_driver/linux/common/os/media_srcs.cmake
+++ b/media_driver/linux/common/os/media_srcs.cmake
@@ -74,4 +74,6 @@ set (MOS_PUBLIC_INCLUDE_DIRS_
     ${MOS_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
 endif() #NOT CMAKE_WDDM_LINUX
diff --git a/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp b/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp
index 3372db61a..86296468e 100644
--- a/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp
+++ b/media_driver/linux/gen12/ddi/media_libva_caps_g12.cpp
@@ -38,6 +38,9 @@
 #include "mos_bufmgr_priv.h"
 #include "drm_fourcc.h"
 
+#ifdef ANDROID
+#include <va/va_android.h>
+#endif
 
 #ifndef VA_CENC_TYPE_NONE
 #define VA_CENC_TYPE_NONE 0x00000000
diff --git a/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake b/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake
index 1bfce0eae..8ec105bb0 100644
--- a/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_dg2/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake
index 6a4bdfbe8..5e11ef920 100644
--- a/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m10_cnl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake
index 62fe1fc5a..3618fcd6b 100644
--- a/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m11_icllp/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake
index 65b862d57..b236057aa 100644
--- a/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m11_jsl_ehl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake
index 9f99d1d97..bbe90d4a9 100644
--- a/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_adln/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake
index e57a611f6..bb517b097 100644
--- a/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_adlp/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake
index ee244e9fd..bf5d0e82d 100644
--- a/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_adls/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake
index 1c1d50c4c..0cc47cace 100644
--- a/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_dg1/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake
index 8021465f2..a527b2b52 100644
--- a/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_rkl/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake
index 0cfc415cd..19150fd28 100644
--- a/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m12_tgllp/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake
index 4db7eaeee..dc5d87bba 100644
--- a/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m8_bdw/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake
index d96f53740..6688624fc 100644
--- a/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_bxt/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake
index 27480be30..4b970d92f 100644
--- a/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_cfl/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake
index a67d14eb6..5232a42ec 100644
--- a/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_glk/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake
index e1c3f08fd..1e6617629 100644
--- a/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_kbl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake b/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake
index 8db37bf37..5d3a30626 100644
--- a/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_m9_skl/media_srcs.cmake
@@ -39,4 +39,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake b/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake
index 22486377f..6a8eaa5e9 100644
--- a/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_pvc/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake b/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake
index 410aaca75..489c24afe 100644
--- a/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake
+++ b/media_driver/media_interface/media_interfaces_xehp_sdv/media_srcs.cmake
@@ -40,4 +40,5 @@ set(COMMON_HEADERS_
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
index f82866f8e..88fc36759 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/media_srcs.cmake
@@ -19,3 +19,4 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
index 21860411a..f6a6f93c2 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/hw/vdbox/media_srcs.cmake
@@ -35,4 +35,5 @@ source_group( "MHW\\Vdbox" FILES ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake
index 0523ef611..9f76cd00c 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/shared/mediacopy/media_srcs.cmake
@@ -46,4 +46,6 @@ source_group( "SharedNext\\M12\\shared\\MediaCopy" FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake
index 3a3b96d44..6f5e75492 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/feature_manager/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake
index 677d6e2b5..7078aab3a 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/packet/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake
index 916c52742..739d1d291 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/pipeline/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake
index 3cab4c565..1938a0078 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_HPM/vp/hal/platform_interface/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake
index 4242176a1..db9bb496c 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/avc/media_srcs.cmake
@@ -20,4 +20,4 @@
 
 media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
-media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake
index f859466e6..dc3ec3947 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/hevc/media_srcs.cmake
@@ -22,4 +22,4 @@ media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
 media_include_subdirectory(mmc)
 
-media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake
index 699e659b5..e5d297009 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_M_base/codec/hal/dec/mpeg2/media_srcs.cmake
@@ -22,4 +22,4 @@ media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
 media_include_subdirectory(mmc)
 
-media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake
index 6ec9c781a..01cef18bf 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/feature_manager/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake
index 37eb7e928..8a9168fd9 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/packet/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake
index eda8ee89b..fd11e0122 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/pipeline/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake
index 82660d3a3..1727c7439 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM/vp/hal/platform_interface/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/hw/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/hw/media_srcs.cmake
index b04b96a2a..32a9a1817 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/hw/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/hw/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_MI_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/mhw_mi_hwcmd_xe_xpm_base.h
     ${CMAKE_CURRENT_LIST_DIR}/mhw_mi_xe_xpm_base_impl.h
@@ -34,4 +36,4 @@ source_group("MHW\\Common MI" FILES ${TMP_MI_HEADERS_})
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake
index f8704407f..01c8b536a 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/shared/mediacopy/media_srcs.cmake
@@ -44,4 +44,5 @@ source_group( "SharedNext\\M12\\shared\\MediaCopy" FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake
index c7b335010..4f8fbf46d 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/feature_manager/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake
index 55738ccdb..90513d66e 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_base/vp/hal/packet/media_srcs.cmake
@@ -46,4 +46,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake
index ebbbb7b4d..7509e0e8f 100644
--- a/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_M/Xe_XPM_plus/shared/mediacopy/media_srcs.cmake
@@ -47,4 +47,5 @@ source_group( "SharedNext\\M12\\shared\\MediaCopy" FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake
index 67aa2cbb7..b92517b66 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake
index efc495fe1..5534fe11a 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPC/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
index d3f1e140c..8d09ceb70 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake
index 3bc2b5b60..652048245 100644
--- a/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/Xe_R/Xe_HP_Base/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
index 3688a023c..433f7081a 100644
--- a/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
@@ -41,4 +41,5 @@ source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
index 5a8662302..1a92da939 100644
--- a/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
@@ -40,3 +40,5 @@ set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
+
diff --git a/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
index 3fe587c29..9fe35e776 100644
--- a/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
@@ -44,4 +44,5 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
index bcd63c6bc..a0f207c7a 100644
--- a/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
@@ -42,4 +42,5 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake b/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
index 6069d6ec0..5d3f18135 100644
--- a/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
@@ -50,3 +50,4 @@ set (VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake
index 95e3edbfd..1b2d94cf4 100644
--- a/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/g12/g12_0/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake
index e43300a25..75617f6fa 100644
--- a/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/g12/g12_1/renderhal/media_srcs.cmake
@@ -43,4 +43,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake b/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake
index 7131d56fa..6c02f19c6 100644
--- a/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/g12/g12_base/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake
index 31e3e2ade..a8c179906 100644
--- a/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12/codec/hal/dec/av1/media_srcs.cmake
@@ -22,4 +22,4 @@ media_include_subdirectory(pipeline)
 media_include_subdirectory(packet)
 media_include_subdirectory(features)
 
-media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake
index bc01eb35a..02aa99485 100644
--- a/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12/codec/hal/media_srcs.cmake
@@ -21,4 +21,4 @@
 media_include_subdirectory(dec)
 media_include_subdirectory(shared)
 
-media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake
index 1ef7afca5..dde4d80fa 100644
--- a/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12/vp/hal/media_srcs.cmake
@@ -46,4 +46,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake b/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake
index d0afc8e51..07a824783 100644
--- a/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/gen12_tgllp/vp/hal/platform_interface/media_srcs.cmake
@@ -44,4 +44,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake b/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake
index 1f07d0773..abe241704 100644
--- a/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/m12/m12/vp/hal/packet/media_srcs.cmake
@@ -47,3 +47,5 @@ set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake b/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake
index a585c030f..ee23fdc4c 100644
--- a/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/m12/m12_0/shared/mediacopy/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( SharedNext\\Gen12\\shared\\MediaCopy FILES ${TMP_SOURCES_} ${TMP_H
 set(COMMON_PRIVATE_INCLUDE_DIRS_
     ${COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake b/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake
index ff4cf7054..54c9be3e2 100644
--- a/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_driver/media_softlet/agnostic/m12/m12_0/vp/hal/feature_manager/media_srcs.cmake
@@ -43,4 +43,6 @@ set(TMP_HEADERS_ "")
 set(VP_PRIVATE_INCLUDE_DIRS_
     ${VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_driver/media_top_cmake.cmake b/media_driver/media_top_cmake.cmake
index 7a2644571..5dfe06115 100755
--- a/media_driver/media_top_cmake.cmake
+++ b/media_driver/media_top_cmake.cmake
@@ -36,7 +36,8 @@ include(${MEDIA_DRIVER_CMAKE}/media_feature_flags.cmake)
 
 if(NOT DEFINED SKIP_GMM_CHECK)
     # checking dependencies
-    pkg_check_modules(LIBGMM REQUIRED igdgmm>=12.0.0)
+    pkg_check_modules(LIBGMM igdgmm)
+    #pkg_check_modules(LIBGMM REQUIRED igdgmm>=12.0.0)
 
     if(LIBGMM_FOUND)
         include_directories(BEFORE ${LIBGMM_INCLUDE_DIRS})
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/av1/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/av1/pipeline/media_srcs.cmake
index d035c0eab..3a7352f75 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/av1/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/av1/pipeline/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_DECODE_AV1_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_av1_pipeline_adapter_xe_lpm_plus.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_})
 
@@ -38,4 +39,4 @@ endif()
 set(SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/avc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/avc/pipeline/media_srcs.cmake
index de7cec332..66dd3c0a5 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/avc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/avc/pipeline/media_srcs.cmake
@@ -31,10 +31,12 @@ set(SOFTLET_DECODE_AVC_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_AVC_SOURCES_} ${SOFTLET_DECODE_AVC_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/hevc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/hevc/pipeline/media_srcs.cmake
index e366ae5f5..e7122cb13 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/hevc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/hevc/pipeline/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_hevc_pipeline_adapter_xe_lpm_plus.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_HEVC_SOURCES_} ${SOFTLET_DECODE_HEVC_HEADERS_})
 
@@ -38,4 +39,4 @@ endif()
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/jpeg/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/jpeg/media_srcs.cmake
index 3d1de0441..8e911249d 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/jpeg/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/jpeg/media_srcs.cmake
@@ -29,6 +29,8 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_jpeg_pipeline_adapter_xe_lpm_plus.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_})
 
 endif()
@@ -37,4 +39,4 @@ endif()
 set(SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/mpeg2/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/mpeg2/media_srcs.cmake
index 9d6a6d9de..696650544 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/mpeg2/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/mpeg2/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_mpeg2_pipeline_adapter_xe_lpm_plus.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_})
 
@@ -38,4 +39,4 @@ endif()
 set(SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp8/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp8/pipeline/media_srcs.cmake
index a4c1cd446..1111b3a2c 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp8/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp8/pipeline/media_srcs.cmake
@@ -29,6 +29,8 @@ set(SOFTLET_DECODE_VP8_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_vp8_pipeline_adapter_xe_lpm_plus.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_})
 
 endif()
@@ -37,4 +39,4 @@ endif()
 set(SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp9/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp9/pipeline/media_srcs.cmake
index 1465433ec..05502e6e3 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp9/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/dec/vp9/pipeline/media_srcs.cmake
@@ -29,6 +29,8 @@ set(SOFTLET_DECODE_VP9_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_vp9_pipeline_adapter_xe_lpm_plus.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_})
 
 endif()
@@ -37,4 +39,4 @@ endif()
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/packet/media_srcs.cmake
index 7611cb7c1..1bb1d1c71 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/packet/media_srcs.cmake
@@ -42,6 +42,7 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline/media_srcs.cmake
index d0b91b211..79779755f 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/av1/pipeline/media_srcs.cmake
@@ -44,9 +44,10 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/features/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/features/media_srcs.cmake
index 38071e2b3..b3fe58919 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/features/media_srcs.cmake
@@ -44,9 +44,10 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet/media_srcs.cmake
index d23d52d7c..3536ae841 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/packet/media_srcs.cmake
@@ -44,9 +44,10 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline/media_srcs.cmake
index 5066da8a5..8684e2464 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/hevc/pipeline/media_srcs.cmake
@@ -44,9 +44,10 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features/media_srcs.cmake
index 90364a302..c02d6abd3 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/features/media_srcs.cmake
@@ -45,7 +45,9 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/media_srcs.cmake
index 9ad88f0a9..64b790d98 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/packet/media_srcs.cmake
@@ -44,7 +44,9 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline/media_srcs.cmake
index 4e71d7ff1..29e9605f8 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/codec/hal/enc/vp9/pipeline/media_srcs.cmake
@@ -43,7 +43,9 @@ source_group( CodecHalNext\\Xe_LPM_plus\\Encode FILES ${TMP_SOURCES_} ${TMP_HEAD
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/media_srcs.cmake
index 7773c76b2..98ec749a7 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/media_srcs.cmake
@@ -19,6 +19,7 @@
 # OTHER DEALINGS IN THE SOFTWARE.
 
 media_include_subdirectory(vdbox)
+media_add_curr_to_include_path()
 
 set(TMP_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/mhw_mmio_xe_lpm_plus.h
@@ -114,4 +115,4 @@ set(SOFTLET_MHW_SFC_PRIVATE_INCLUDE_DIRS_
 set(SOFTLET_MHW_BLT_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_BLT_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/media_srcs.cmake
index 28d37874c..d2697c861 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/hw/vdbox/media_srcs.cmake
@@ -98,6 +98,8 @@ set(SOFTLET_MHW_VDBOX_MFX_HEADERS_
     ${TMP_SOFTLET_MHW_VDBOX_MFX_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( "MHW\\Vdbox" FILES ${TMP_SOFTLET_MHW_VDBOX_HUC_SOURCES_} 
 ${TMP_SOFTLET_MHW_VDBOX_AVP_SOURCES_}
 ${TMP_SOFTLET_MHW_VDBOX_MFX_SOURCES_}
@@ -120,4 +122,4 @@ set(TMP_SOFTLET_MHW_VDBOX_MFX_HEADERS_ "")
 set(SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/feature_manager/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/feature_manager/media_srcs.cmake
index 3be1fce98..fafad7386 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/feature_manager/media_srcs.cmake
@@ -37,10 +37,12 @@ set(SOFTLET_VP_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( VpHalNext\\Xe_LPM_plus\\FeatureManager FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet/media_srcs.cmake
index 74a12953a..a9ec3ebe8 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/packet/media_srcs.cmake
@@ -38,10 +38,12 @@ set(SOFTLET_VP_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( VpHalNext\\Xe_LPM_plus FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/pipeline/media_srcs.cmake
index dcfe54539..a7fb9c9b2 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/pipeline/media_srcs.cmake
@@ -36,10 +36,12 @@ set(SOFTLET_VP_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( VpHalNext\\Xe_LPM_plus FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/platform_interface/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/platform_interface/media_srcs.cmake
index e3dcbf9cc..54456d2da 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus/vp/hal/platform_interface/media_srcs.cmake
@@ -36,10 +36,12 @@ set(SOFTLET_VP_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( VpHalNext\\Xe_LPM_plus\\PlatformInterface FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features/media_srcs.cmake
index 88aa77529..9d70e3075 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/features/media_srcs.cmake
@@ -34,10 +34,12 @@ set(SOFTLET_DECODE_AV1_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/media_srcs.cmake
index 559cea98d..bbf27c8ad 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/packet/media_srcs.cmake
@@ -33,6 +33,7 @@ set(SOFTLET_DECODE_AV1_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_av1_tile_packet_xe_lpm_plus_base.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_})
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/media_srcs.cmake
index 2c9e24b11..ba0b02c25 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/av1/pipeline/media_srcs.cmake
@@ -33,6 +33,8 @@ set(SOFTLET_DECODE_AV1_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_av1_status_report_xe_lpm_plus_base.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_})
 
 endif()
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/media_srcs.cmake
index 8e44b9575..4c9d54ce1 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/packet/media_srcs.cmake
@@ -35,6 +35,8 @@ set(SOFTLET_DECODE_AVC_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_AVC_SOURCES_} ${SOFTLET_DECODE_AVC_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline/media_srcs.cmake
index 2fd0e3417..8688a2c2a 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/avc/pipeline/media_srcs.cmake
@@ -33,6 +33,8 @@ set(SOFTLET_DECODE_AVC_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_AVC_SOURCES_} ${SOFTLET_DECODE_AVC_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/mmc/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/mmc/media_srcs.cmake
index c56d30a06..57cbeb461 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/mmc/media_srcs.cmake
@@ -31,10 +31,12 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_HEVC_HEADERS_} ${SOFTLET_DECODE_HEVC_SOURCES_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/media_srcs.cmake
index 74527276e..82e2e9915 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/packet/media_srcs.cmake
@@ -43,6 +43,8 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_hevc_packet_real_tile_xe_lpm_plus_base.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_HEVC_HEADERS_} ${SOFTLET_DECODE_HEVC_SOURCES_})
 
 endif()
@@ -51,4 +53,4 @@ endif()
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline/media_srcs.cmake
index df29e8dc6..fd8565427 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/hevc/pipeline/media_srcs.cmake
@@ -31,6 +31,8 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_hevc_pipeline_adapter_xe_lpm_plus_base.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_HEVC_HEADERS_} ${SOFTLET_DECODE_HEVC_SOURCES_})
 
 endif()
@@ -39,4 +41,4 @@ endif()
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet/media_srcs.cmake
index 5d7a38417..a6b44b3f3 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/packet/media_srcs.cmake
@@ -33,6 +33,8 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline/media_srcs.cmake
index 5119f8a2b..5e96eeb09 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/jpeg/pipeline/media_srcs.cmake
@@ -34,6 +34,8 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/mmc/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/mmc/media_srcs.cmake
index 1f2bc79d8..f18d780dc 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/mmc/media_srcs.cmake
@@ -31,6 +31,8 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/media_srcs.cmake
index 9f48819fa..b42a2ef16 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/packet/media_srcs.cmake
@@ -37,6 +37,8 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake
index ea67db617..4dcfaf492 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake
@@ -33,6 +33,8 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/shared/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/shared/media_srcs.cmake
index aa8b3019f..611f26b88 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/shared/media_srcs.cmake
@@ -29,7 +29,9 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
 )
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_})
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/mmc/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/mmc/media_srcs.cmake
index 19f267d62..02be28eae 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/mmc/media_srcs.cmake
@@ -31,6 +31,8 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/media_srcs.cmake
index 85cc09474..089a552d6 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/packet/media_srcs.cmake
@@ -36,6 +36,8 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline/media_srcs.cmake
index f1bda272b..4968387a5 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp8/pipeline/media_srcs.cmake
@@ -33,6 +33,8 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/mmc/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/mmc/media_srcs.cmake
index 5b9d2bc0d..2321d508b 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/mmc/media_srcs.cmake
@@ -31,10 +31,12 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/media_srcs.cmake
index 361fefa2f..5cc58daaf 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/packet/media_srcs.cmake
@@ -43,10 +43,12 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline/media_srcs.cmake
index eeedb861f..c650acc70 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/dec/vp9/pipeline/media_srcs.cmake
@@ -33,10 +33,12 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/media_srcs.cmake
index 9a79a5efc..98ad379a5 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/media_srcs.cmake
@@ -50,6 +50,8 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc/media_srcs.cmake
index 76a15992f..14fc58a84 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/features/preenc/media_srcs.cmake
@@ -46,9 +46,11 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/packet/media_srcs.cmake
index 0105efef7..29a7cf207 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/packet/media_srcs.cmake
@@ -42,9 +42,11 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline/media_srcs.cmake
index 621eabf17..2d320f6b1 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/av1/pipeline/media_srcs.cmake
@@ -43,6 +43,8 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/media_srcs.cmake
index c1ad31949..4719cf4d0 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/features/media_srcs.cmake
@@ -46,9 +46,11 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline/media_srcs.cmake
index 8e36c538c..4fcb479fb 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/avc/pipeline/media_srcs.cmake
@@ -44,9 +44,11 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/media_srcs.cmake
index ec46201dd..a7d517626 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/media_srcs.cmake
@@ -48,6 +48,8 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc/media_srcs.cmake
index 0cc377f8e..a96fa4721 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/features/preenc/media_srcs.cmake
@@ -41,6 +41,8 @@ set(SOFTLET_ENCODE_HEVC_SOURCES_
     ${TMP_SOURCES_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 
 set(TMP_SOURCES_ "")
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline/media_srcs.cmake
index 4a03820b6..3471799de 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/hevc/pipeline/media_srcs.cmake
@@ -45,9 +45,11 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline/media_srcs.cmake
index 97f508717..eb47dfcbc 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/jpeg/pipeline/media_srcs.cmake
@@ -44,9 +44,11 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/shared/common/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/shared/common/media_srcs.cmake
index af54bfe69..75968831b 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/shared/common/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/shared/common/media_srcs.cmake
@@ -41,7 +41,9 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet/media_srcs.cmake
index 2f395ffc2..7712e3cdc 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/packet/media_srcs.cmake
@@ -42,7 +42,9 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline/media_srcs.cmake
index ab1d6d0f6..c6e59d209 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/enc/vp9/pipeline/media_srcs.cmake
@@ -43,7 +43,9 @@ source_group( CodecHalNext\\Xe_LPM_plus_base\\Encode FILES ${TMP_SOURCES_} ${TMP
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared/media_srcs.cmake
index ce4db0e96..1770c6c7d 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/codec/hal/shared/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_MMC_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/codec_mem_compression_xe_lpm_plus_base_next.cpp
 )
@@ -56,4 +58,4 @@ set(TMP_HW_HEADERS_ "")
 set(SOFTLET_CODEC_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_CODEC_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/media_srcs.cmake
index 9d35b1e2b..ea936912b 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/media_srcs.cmake
@@ -85,4 +85,4 @@ set(SOFTLET_MHW_BLT_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_BLT_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
-#media_add_curr_to_include_path()
\ No newline at end of file
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/vdbox/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/vdbox/media_srcs.cmake
index ad443a2e7..cd07d0bf4 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/vdbox/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/hw/vdbox/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOFTLET_MHW_VDBOX_AVP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/mhw_vdbox_avp_impl_xe_lpm_plus_base.cpp
 )
@@ -103,4 +105,4 @@ set(TMP_SOFTLET_MHW_VDBOX_MFX_HEADERS_ "")
 set(SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediaDecompress/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediaDecompress/media_srcs.cmake
index 5bfd5d7b5..82b5d863a 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediaDecompress/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediaDecompress/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/media_mem_decompress_xe_lpm_plus_base.cpp
 )
@@ -43,4 +45,4 @@ source_group( "SharedNext\\Xe_LPM_plus_base\\shared\\MediaMemDecompress" FILES $
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_srcs.cmake
index 93cf0b65d..09f65a8ee 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/shared/mediacopy/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/media_copy_xe_lpm_plus_base.cpp
     ${CMAKE_CURRENT_LIST_DIR}/media_blt_copy_xe_lpm_plus_base.cpp
@@ -48,4 +50,4 @@ source_group( "SharedNext\\Xe_LPM_plus_base\\shared\\MediaCopy" FILES ${TMP_SOUR
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/feature_manager/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/feature_manager/media_srcs.cmake
index 158bf289d..7bc92f75b 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/feature_manager/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/vp_feature_manager_xe_lpm_plus_base.cpp
 )
@@ -42,4 +44,4 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/media_srcs.cmake b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/media_srcs.cmake
index 2c0179e0c..97338dbcc 100644
--- a/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_M_plus/Xe_LPM_plus_base/vp/hal/packet/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/vp_vebox_cmd_packet_xe_lpm_plus_base.cpp
     ${CMAKE_CURRENT_LIST_DIR}/vp_render_sfc_xe_lpm_plus_base.cpp
@@ -46,4 +48,4 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
index 40e0c55f8..f4e6b3431 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/renderhal/media_srcs.cmake
@@ -41,4 +41,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake
new file mode 100644
index 000000000..24a981822
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Common/media_srcs.cmake
@@ -0,0 +1,21 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake
new file mode 100644
index 000000000..24a981822
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Components/media_srcs.cmake
@@ -0,0 +1,21 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
new file mode 100644
index 000000000..24a981822
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/Core_Kernels/media_srcs.cmake
@@ -0,0 +1,21 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake
new file mode 100644
index 000000000..91cac7cff
--- /dev/null
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG/vp/kernel_free/Source/media_srcs.cmake
@@ -0,0 +1,24 @@
+# Copyright (c) 2021-2022, Intel Corporation
+
+# Permission is hereby granted, free of charge, to any person obtaining a
+# copy of this software and associated documentation files (the "Software"),
+# to deal in the Software without restriction, including without limitation
+# the rights to use, copy, modify, merge, publish, distribute, sublicense,
+# and/or sell copies of the Software, and to permit persons to whom the
+# Software is furnished to do so, subject to the following conditions:
+
+# The above copyright notice and this permission notice shall be included
+# in all copies or substantial portions of the Software.
+
+# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
+# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
+# FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
+# THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR
+# OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
+# ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
+# OTHER DEALINGS IN THE SOFTWARE.
+
+media_include_subdirectory(Common)
+media_include_subdirectory(Components)
+media_include_subdirectory(Core_Kernels)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw/media_srcs.cmake
index f97b43e65..703536195 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/hw/media_srcs.cmake
@@ -50,4 +50,5 @@ source_group("MHW\\State Heap" FILES ${TMP_STATE_HEAP_SOURCES_} ${TMP_STATE_HEAP
 set(SOFTLET_MHW_RENDER_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_RENDER_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake
index d67416111..22d765332 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/renderhal/media_srcs.cmake
@@ -42,4 +42,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/cmfcpatch/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/cmfcpatch/media_srcs.cmake
index 47f03f549..0666fa119 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/cmfcpatch/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/cmfcpatch/media_srcs.cmake
@@ -58,4 +58,6 @@ set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/media_srcs.cmake
index c7ccc516a..58f0337ea 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel/media_srcs.cmake
@@ -64,4 +64,6 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/cmfcpatch/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/cmfcpatch/media_srcs.cmake
index 039768d2d..408abec45 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/cmfcpatch/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/cmfcpatch/media_srcs.cmake
@@ -45,4 +45,5 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/media_srcs.cmake b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/media_srcs.cmake
index 7a3a772d6..65b40ab92 100644
--- a/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/Xe_HPG_Base/vp/kernel_free/media_srcs.cmake
@@ -259,7 +259,7 @@ if(BUILD_KERNELS)
 endif()
 
 media_include_subdirectory(cmfcpatch)
-
+media_include_subdirectory(Source)
 
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/igvpkrn_xe_hpg.c
@@ -287,4 +287,5 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/Xe_R/media_srcs.cmake b/media_softlet/agnostic/Xe_R/media_srcs.cmake
index 1bba0f214..fecaead18 100644
--- a/media_softlet/agnostic/Xe_R/media_srcs.cmake
+++ b/media_softlet/agnostic/Xe_R/media_srcs.cmake
@@ -24,6 +24,7 @@
 if(XE_HPG OR XE_LPG)
     media_include_subdirectory(Xe_HPG_Base)
     media_include_subdirectory(Xe_HPG)
+    media_add_curr_to_include_path()
 endif()
 
 set(MEDIA_BIN_HEADERS_
diff --git a/media_softlet/agnostic/common/codec/hal/dec/av1/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/av1/features/media_srcs.cmake
index 86f9b87ec..2a6b7a3c4 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/av1/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/av1/features/media_srcs.cmake
@@ -39,6 +39,8 @@ set(SOFTLET_DECODE_AV1_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/dec/av1/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/av1/packet/media_srcs.cmake
index 7a439f5bc..8e3765428 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/av1/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/av1/packet/media_srcs.cmake
@@ -35,9 +35,11 @@ set(SOFTLET_DECODE_AV1_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/av1/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/av1/pipeline/media_srcs.cmake
index 293a6a331..bf670cd5b 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/av1/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/av1/pipeline/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_AV1_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_AV1_SOURCES_} ${SOFTLET_DECODE_AV1_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/avc/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/avc/features/media_srcs.cmake
index 578955752..92e30bde4 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/avc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/avc/features/media_srcs.cmake
@@ -39,9 +39,11 @@ set(SOFTLET_DECODE_AVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_AVC_SOURCES_} ${SOFTLET_DECODE_AVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/avc/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/avc/packet/media_srcs.cmake
index 704c5b8ef..b00cdaf44 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/avc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/avc/packet/media_srcs.cmake
@@ -37,9 +37,11 @@ set(SOFTLET_DECODE_AVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_AVC_SOURCES_} ${SOFTLET_DECODE_AVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/media_srcs.cmake
index 6c6804d24..bd07970c3 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/avc/pipeline/media_srcs.cmake
@@ -32,9 +32,11 @@ set(SOFTLET_DECODE_AVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_AVC_SOURCES_} ${SOFTLET_DECODE_AVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/hevc/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/hevc/features/media_srcs.cmake
index 28b13974f..23bdeb494 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/hevc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/hevc/features/media_srcs.cmake
@@ -41,9 +41,11 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_HEVC_SOURCES_} ${SOFTLET_DECODE_HEVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/hevc/mmc/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/hevc/mmc/media_srcs.cmake
index 63f23fbff..83c370ead 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/hevc/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/hevc/mmc/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_HEVC_SOURCES_} ${SOFTLET_DECODE_HEVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/hevc/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/hevc/packet/media_srcs.cmake
index ed49aeac7..1891d1e73 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/hevc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/hevc/packet/media_srcs.cmake
@@ -47,9 +47,11 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_HEVC_SOURCES_} ${SOFTLET_DECODE_HEVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/media_srcs.cmake
index 155de25a7..b89a9f550 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/hevc/pipeline/media_srcs.cmake
@@ -32,9 +32,11 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_HEVC_SOURCES_} ${SOFTLET_DECODE_HEVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/media_srcs.cmake
index e55c775a8..1daa2b7a1 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/hevc/scalability/media_srcs.cmake
@@ -43,9 +43,11 @@ set(SOFTLET_DECODE_HEVC_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_HEVC_SOURCES_} ${SOFTLET_DECODE_HEVC_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream/media_srcs.cmake
index b992f497d..7218e22df 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/jpeg/bitstream/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/jpeg/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/jpeg/features/media_srcs.cmake
index 9e917cf50..ba2a37ef1 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/jpeg/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/jpeg/features/media_srcs.cmake
@@ -35,9 +35,11 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/media_srcs.cmake
index 5d8711ed5..2054c1987 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/jpeg/packet/media_srcs.cmake
@@ -35,9 +35,11 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/media_srcs.cmake
index 2d2ad7be5..8f540e370 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/jpeg/pipeline/media_srcs.cmake
@@ -32,9 +32,11 @@ set(SOFTLET_DECODE_JPEG_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_JPEG_SOURCES_} ${SOFTLET_DECODE_JPEG_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/media_srcs.cmake
index 72ebf588c..e1fac38a5 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/features/media_srcs.cmake
@@ -35,9 +35,11 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc/media_srcs.cmake
index 515685cf3..8d4d427d1 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/mmc/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/media_srcs.cmake
index e8d939c71..17c56df88 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/packet/media_srcs.cmake
@@ -37,9 +37,11 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake
index a99d3f79e..3efb99d09 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/mpeg2/pipeline/media_srcs.cmake
@@ -32,9 +32,11 @@ set(SOFTLET_DECODE_MPEG2_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_MPEG2_SOURCES_} ${SOFTLET_DECODE_MPEG2_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_MPEG2_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr/media_srcs.cmake
index 2cea9ce6b..2c3e5bd32 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/bufferMgr/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_internal_target.h
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
 set(SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/features/media_srcs.cmake
index 428c41069..558b7079c 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/features/media_srcs.cmake
@@ -37,10 +37,11 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_downsampling_feature.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
 set(SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/hucItf/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/hucItf/media_srcs.cmake
index 2dae920b3..28f7cabee 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/hucItf/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/hucItf/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DECODE_COMMON_HEADERS_
     ${SOFTLET_DECODE_COMMON_HEADERS_}
     ${CMAKE_CURRENT_LIST_DIR}/decode_huc_packet_creator_base.h
@@ -43,4 +45,4 @@ source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES
 set(SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/media_srcs.cmake
index e0c830b96..df54d1386 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/media_srcs.cmake
@@ -41,6 +41,7 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_unique_id.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/mmc/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/mmc/media_srcs.cmake
index 9c21f6a3e..5fad6f6db 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/mmc/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DECODE_COMMON_SOURCES_
     ${SOFTLET_DECODE_COMMON_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/decode_mem_compression.cpp
@@ -34,4 +36,4 @@ source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES
 set(SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/packet/media_srcs.cmake
index ccb103b85..1b45ae68c 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/packet/media_srcs.cmake
@@ -40,6 +40,7 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_huc_copy_packet.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/media_srcs.cmake
index 85c081f9b..598ac24bf 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/pipeline/media_srcs.cmake
@@ -36,6 +36,7 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_sfc_histogram_postsubpipeline.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/scalability/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/scalability/media_srcs.cmake
index c32ce5490..83f3a97e9 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/scalability/media_srcs.cmake
@@ -36,6 +36,7 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
 )
 endif()
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
diff --git a/media_softlet/agnostic/common/codec/hal/dec/shared/statusreport/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/shared/statusreport/media_srcs.cmake
index 8f54cdcec..5a4794673 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/shared/statusreport/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/shared/statusreport/media_srcs.cmake
@@ -29,6 +29,7 @@ set(SOFTLET_DECODE_COMMON_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/decode_status_report_defs.h
 )
 
+media_add_curr_to_include_path()
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_COMMON_SOURCES_} ${SOFTLET_DECODE_COMMON_HEADERS_} )
 
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp8/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp8/features/media_srcs.cmake
index c6d8c02f8..0d4f77a60 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp8/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp8/features/media_srcs.cmake
@@ -37,9 +37,11 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp8/mmc/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp8/mmc/media_srcs.cmake
index fff300b33..984b12f14 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp8/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp8/mmc/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp8/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp8/packet/media_srcs.cmake
index cf69e6dd5..8f9f5640e 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp8/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp8/packet/media_srcs.cmake
@@ -35,9 +35,11 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline/media_srcs.cmake
index 04dbdba1a..0b120fa87 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp8/pipeline/media_srcs.cmake
@@ -31,9 +31,11 @@ set(SOFTLET_DECODE_VP8_HEADERS_
 )
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP8_SOURCES_} ${SOFTLET_DECODE_VP8_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP8_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp9/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp9/features/media_srcs.cmake
index b9eb744b1..0b34a2e69 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp9/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp9/features/media_srcs.cmake
@@ -36,9 +36,11 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 )
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp9/mmc/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp9/mmc/media_srcs.cmake
index 455572f48..942b3ec65 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp9/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp9/mmc/media_srcs.cmake
@@ -30,9 +30,11 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 )
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp9/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp9/packet/media_srcs.cmake
index 193d8b9a9..4133ee601 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp9/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp9/packet/media_srcs.cmake
@@ -44,9 +44,11 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 )
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/media_srcs.cmake
index 8c304faae..3e8a42bd2 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp9/pipeline/media_srcs.cmake
@@ -34,10 +34,12 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_})
 
+media_add_curr_to_include_path()
+
 endif()
 
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/media_srcs.cmake
index 4d412499e..1df8f47d8 100644
--- a/media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/dec/vp9/scalability/media_srcs.cmake
@@ -35,9 +35,11 @@ set(SOFTLET_DECODE_VP9_HEADERS_
 )
 source_group( CodecHalNext\\Shared\\Decode FILES ${SOFTLET_DECODE_VP9_SOURCES_} ${SOFTLET_DECODE_VP9_HEADERS_} )
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_DECODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/av1/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/av1/features/media_srcs.cmake
index 149e2bb16..e0b0ca5b3 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/av1/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/av1/features/media_srcs.cmake
@@ -57,9 +57,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/av1/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/av1/packet/media_srcs.cmake
index e6906854b..15ff451b4 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/av1/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/av1/packet/media_srcs.cmake
@@ -48,9 +48,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/media_srcs.cmake
index c8f9b8942..405265b98 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/av1/pipeline/media_srcs.cmake
@@ -47,6 +47,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AV1_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/avc/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/avc/features/media_srcs.cmake
index e83b3912b..bb0d8ab24 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/avc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/avc/features/media_srcs.cmake
@@ -65,9 +65,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/media_srcs.cmake
index 0520f77a7..8648dec17 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/avc/features/roi/media_srcs.cmake
@@ -48,6 +48,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/avc/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/avc/packet/media_srcs.cmake
index b4ff07b8a..ddd65217b 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/avc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/avc/packet/media_srcs.cmake
@@ -46,6 +46,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/media_srcs.cmake
index ecf63fd3a..6dbd09e18 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/avc/pipeline/media_srcs.cmake
@@ -46,6 +46,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_AVC_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/hevc/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/hevc/features/media_srcs.cmake
index 7d3b89c5a..3c4ff8dac 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/hevc/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/hevc/features/media_srcs.cmake
@@ -65,6 +65,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/media_srcs.cmake
index 9c8e34da2..545ed1187 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/hevc/features/roi/media_srcs.cmake
@@ -62,6 +62,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/hevc/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/hevc/packet/media_srcs.cmake
index 0ca0e943b..ba555276e 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/hevc/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/hevc/packet/media_srcs.cmake
@@ -54,9 +54,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/media_srcs.cmake
index df035676d..ec646f7a2 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/hevc/pipeline/media_srcs.cmake
@@ -48,9 +48,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_HEVC_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/jpeg/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/jpeg/features/media_srcs.cmake
index c8715f695..8968b29d0 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/jpeg/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/jpeg/features/media_srcs.cmake
@@ -47,9 +47,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/jpeg/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/jpeg/packet/media_srcs.cmake
index 5db85359b..87878c1e3 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/jpeg/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/jpeg/packet/media_srcs.cmake
@@ -42,6 +42,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/media_srcs.cmake
index 9b958e478..5fc490c1d 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/jpeg/pipeline/media_srcs.cmake
@@ -46,9 +46,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_JPEG_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter/media_srcs.cmake
index bf644c2c4..f78071a6c 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/bitstreamWriter/media_srcs.cmake
@@ -42,9 +42,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/media_srcs.cmake
index 41ff2844f..96aecc9a6 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/bufferMgr/media_srcs.cmake
@@ -52,9 +52,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/features/media_srcs.cmake
index 591f269ef..2352cdf44 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/features/media_srcs.cmake
@@ -54,9 +54,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/media_srcs.cmake
index f0d449023..d5e2a3b46 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/media_srcs.cmake
@@ -43,9 +43,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_HEADERS_} )
 
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/mmc/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/mmc/media_srcs.cmake
index 3ad2f687a..faa317fec 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/mmc/media_srcs.cmake
@@ -36,6 +36,8 @@ set(SOFTLET_ENCODE_COMMON_SOURCES_
     ${TMP_SOURCES_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 
 set(TMP_SOURCES_ "")
@@ -44,4 +46,4 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/packet/media_srcs.cmake
index f86a68d0c..62177c940 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/packet/media_srcs.cmake
@@ -46,9 +46,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/media_srcs.cmake
index 6bb45c997..c27e10c4b 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/pipeline/media_srcs.cmake
@@ -44,9 +44,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/scalability/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/scalability/media_srcs.cmake
index 31ef7cb7c..89a3fa893 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/scalability/media_srcs.cmake
@@ -47,9 +47,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake
index 0800891e6..fe01fc7c8 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/shared/statusreport/media_srcs.cmake
@@ -43,9 +43,12 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/codec/hal/enc/vp9/features/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/vp9/features/media_srcs.cmake
index be7e6e31e..02a7b610f 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/vp9/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/vp9/features/media_srcs.cmake
@@ -59,9 +59,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/vp9/packet/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/vp9/packet/media_srcs.cmake
index bec8c435f..b446d426b 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/vp9/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/vp9/packet/media_srcs.cmake
@@ -52,9 +52,11 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/media_srcs.cmake
index 17179bf07..b08b47f85 100644
--- a/media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/enc/vp9/pipeline/media_srcs.cmake
@@ -46,6 +46,8 @@ source_group( CodecHalNext\\Shared\\Encode FILES ${TMP_SOURCES_} ${TMP_HEADERS_}
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
 
+media_add_curr_to_include_path()
+
 endif()
 
 set(SOFTLET_ENCODE_VP9_PRIVATE_INCLUDE_DIRS_
diff --git a/media_softlet/agnostic/common/codec/hal/shared/media_srcs.cmake b/media_softlet/agnostic/common/codec/hal/shared/media_srcs.cmake
index 6e2f41acd..c4031c666 100644
--- a/media_softlet/agnostic/common/codec/hal/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/common/codec/hal/shared/media_srcs.cmake
@@ -43,6 +43,8 @@ set(SOFTLET_CODEC_COMMON_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 source_group( CodecHalNext\\Shared FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(TMP_SOURCES_ "")
 set(TMP_HEADERS_ "")
diff --git a/media_softlet/agnostic/common/cp/media_srcs.cmake b/media_softlet/agnostic/common/cp/media_srcs.cmake
index 32887f8db..65a106799 100644
--- a/media_softlet/agnostic/common/cp/media_srcs.cmake
+++ b/media_softlet/agnostic/common/cp/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/cp_copy_interface.cpp
 )
@@ -68,4 +70,4 @@ set(SOFTLET_COMMON_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/heap_manager/media_srcs.cmake b/media_softlet/agnostic/common/heap_manager/media_srcs.cmake
index 95d9875a1..16ecbe512 100644
--- a/media_softlet/agnostic/common/heap_manager/media_srcs.cmake
+++ b/media_softlet/agnostic/common/heap_manager/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/heap.cpp
     ${CMAKE_CURRENT_LIST_DIR}/heap_manager.cpp
@@ -36,4 +38,4 @@ source_group( "Common Files" FILES ${TMP_SOURCES_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/hw/media_srcs.cmake b/media_softlet/agnostic/common/hw/media_srcs.cmake
index 67d384c2a..bb6ac71a2 100644
--- a/media_softlet/agnostic/common/hw/media_srcs.cmake
+++ b/media_softlet/agnostic/common/hw/media_srcs.cmake
@@ -154,4 +154,5 @@ set(SOFTLET_MHW_BLT_PRIVATE_INCLUDE_DIRS_
 set(SOFTLET_MHW_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake b/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake
index 3df8104e4..b05d02898 100644
--- a/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake
+++ b/media_softlet/agnostic/common/hw/vdbox/media_srcs.cmake
@@ -94,4 +94,6 @@ set(TMP_SOFTLET_MHW_VDBOX_MFX_HEADERS_ "")
 set(SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_MHW_VDBOX_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/media_bin_mgr/media_srcs.cmake b/media_softlet/agnostic/common/media_bin_mgr/media_srcs.cmake
index d2dd4d270..4d8255cb3 100644
--- a/media_softlet/agnostic/common/media_bin_mgr/media_srcs.cmake
+++ b/media_softlet/agnostic/common/media_bin_mgr/media_srcs.cmake
@@ -27,6 +27,9 @@ set(SOFTLET_COMMON_HEADERS_
     ${TMP_HEADERS_}
 )
 
+source_group( "Common Files" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
+
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
@@ -39,4 +42,4 @@ set(MEDIA_BIN_HEADERS_
 set(MEDIA_BIN_INCLUDE_DIR
     ${MEDIA_BIN_INCLUDE_DIR}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake b/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake
index 25254a832..7a6261827 100644
--- a/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake
+++ b/media_softlet/agnostic/common/media_interfaces/media_srcs.cmake
@@ -48,4 +48,6 @@ source_group( "SharedNext\\shared" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/os/media_srcs.cmake b/media_softlet/agnostic/common/os/media_srcs.cmake
index 8cba88625..96a25c9de 100644
--- a/media_softlet/agnostic/common/os/media_srcs.cmake
+++ b/media_softlet/agnostic/common/os/media_srcs.cmake
@@ -106,3 +106,4 @@ set(SOFTLET_COMMON_DLL_PRIVATE_INCLUDE_DIRS_
 )
 
 source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} ${TMP_MOS_HAL_SHARED_SOURCES_} )
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/os/share/media_srcs.cmake b/media_softlet/agnostic/common/os/share/media_srcs.cmake
index 51d6a396e..994c597c2 100644
--- a/media_softlet/agnostic/common/os/share/media_srcs.cmake
+++ b/media_softlet/agnostic/common/os/share/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/mos_oca_util_debug.cpp
 )
diff --git a/media_softlet/agnostic/common/os/user_setting/media_srcs.cmake b/media_softlet/agnostic/common/os/user_setting/media_srcs.cmake
index 3e115031b..ff87df2ca 100644
--- a/media_softlet/agnostic/common/os/user_setting/media_srcs.cmake
+++ b/media_softlet/agnostic/common/os/user_setting/media_srcs.cmake
@@ -39,4 +39,5 @@ set(SOFTLET_COMMON_DLL_SOURCES_
     ${TMP_SHARED_SOURCES_}
 )
 
-source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_SHARED_SOURCES_})
\ No newline at end of file
+source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_SHARED_SOURCES_})
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/renderhal/media_srcs.cmake b/media_softlet/agnostic/common/renderhal/media_srcs.cmake
index 33eb9908d..0d59e6fd7 100644
--- a/media_softlet/agnostic/common/renderhal/media_srcs.cmake
+++ b/media_softlet/agnostic/common/renderhal/media_srcs.cmake
@@ -45,4 +45,5 @@ source_group( "MHW\\Render Hal" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/bufferMgr/media_srcs.cmake b/media_softlet/agnostic/common/shared/bufferMgr/media_srcs.cmake
index d29444c80..bd2417d55 100644
--- a/media_softlet/agnostic/common/shared/bufferMgr/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/bufferMgr/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_allocator.cpp
diff --git a/media_softlet/agnostic/common/shared/features/media_srcs.cmake b/media_softlet/agnostic/common/shared/features/media_srcs.cmake
index 61c017abd..ec4a19799 100644
--- a/media_softlet/agnostic/common/shared/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/features/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_feature.cpp
@@ -34,4 +36,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake b/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
index 2df90d4fa..cab44a445 100644
--- a/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/media_sfc_interface/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_sfc_interface.cpp
@@ -35,4 +37,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/shared/media_srcs.cmake b/media_softlet/agnostic/common/shared/media_srcs.cmake
index 4e585903e..8f07f9e4e 100644
--- a/media_softlet/agnostic/common/shared/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/media_srcs.cmake
@@ -78,4 +78,6 @@ source_group(SharedNext\\shared FILES ${TMP_HEADERS_} ${TMP_SOURCES_})
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake b/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake
index 62dbdaedc..08052b1b8 100644
--- a/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/mediacontext/media_srcs.cmake
@@ -41,4 +41,5 @@ set(SOFTLET_COMMON_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/mediacopy/media_srcs.cmake b/media_softlet/agnostic/common/shared/mediacopy/media_srcs.cmake
index cf6422371..884b598cf 100644
--- a/media_softlet/agnostic/common/shared/mediacopy/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/mediacopy/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_copy.cpp
@@ -40,4 +42,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/shared/mmc/media_srcs.cmake b/media_softlet/agnostic/common/shared/mmc/media_srcs.cmake
index afbadafbe..11d9367b8 100644
--- a/media_softlet/agnostic/common/shared/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/mmc/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_mem_compression.cpp
@@ -33,4 +35,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/shared/packet/media_srcs.cmake b/media_softlet/agnostic/common/shared/packet/media_srcs.cmake
index ef504496c..8aa2dcf23 100644
--- a/media_softlet/agnostic/common/shared/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/packet/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_cmd_packet.cpp
@@ -34,4 +36,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/shared/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/shared/pipeline/media_srcs.cmake
index ee778547c..3efff8db2 100644
--- a/media_softlet/agnostic/common/shared/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/pipeline/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_pipeline.cpp
@@ -32,4 +34,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/shared/profiler/media_srcs.cmake b/media_softlet/agnostic/common/shared/profiler/media_srcs.cmake
index dc5233b33..b0c0d7f68 100644
--- a/media_softlet/agnostic/common/shared/profiler/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/profiler/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_perf_profiler.cpp
diff --git a/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake b/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
index 9a990f3eb..67c7cf6b5 100644
--- a/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/scalability/media_srcs.cmake
@@ -52,3 +52,4 @@ set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/shared/statusreport/media_srcs.cmake b/media_softlet/agnostic/common/shared/statusreport/media_srcs.cmake
index 7b0ff3531..d4a4ee674 100644
--- a/media_softlet/agnostic/common/shared/statusreport/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/statusreport/media_srcs.cmake
@@ -18,6 +18,7 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
 
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
diff --git a/media_softlet/agnostic/common/shared/task/media_srcs.cmake b/media_softlet/agnostic/common/shared/task/media_srcs.cmake
index 37a5d9a57..87cc1cbfa 100644
--- a/media_softlet/agnostic/common/shared/task/media_srcs.cmake
+++ b/media_softlet/agnostic/common/shared/task/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${TMP_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/media_task.cpp
@@ -33,4 +35,4 @@ set(TMP_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake b/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake
index c4bb0a7dd..021313a6b 100644
--- a/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/cm_fc_ld/media_srcs.cmake
@@ -52,3 +52,5 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake
index 5ac1ca5ae..a1e4b5488 100644
--- a/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/bufferMgr/media_srcs.cmake
@@ -47,4 +47,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp b/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp
index 2273915bf..4902c78a5 100644
--- a/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp
+++ b/media_softlet/agnostic/common/vp/hal/bufferMgr/vp_allocator.cpp
@@ -710,7 +710,7 @@ MOS_STATUS VpAllocator::AllocParamsInitType(
     VP_FUNC_CALL();
     VP_PUBLIC_CHK_NULL_RETURN(surface);
 
-#if !EMUL && !LINUX
+#if !EMUL && !LINUX && !ANDROID
     //  Need to reallocate surface according to expected tiletype instead of tiletype of the surface what we have
     if ( surface                           != nullptr &&
          surface->OsResource.pGmmResInfo   != nullptr &&
diff --git a/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake
index e2b60d58d..9849de677 100644
--- a/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/feature_manager/media_srcs.cmake
@@ -59,4 +59,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake
index ddc05dbbb..c16bf1765 100644
--- a/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/features/media_srcs.cmake
@@ -66,4 +66,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake
index 1ec208dba..a29cb735d 100644
--- a/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/mmc/media_srcs.cmake
@@ -42,4 +42,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
index 34139ed46..7e62f3b81 100644
--- a/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/packet/media_srcs.cmake
@@ -71,4 +71,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
index 0464e1a49..0c5447b80 100644
--- a/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/pipeline/media_srcs.cmake
@@ -53,4 +53,6 @@ set(TMP_HEADERS_ "")
 set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake
index ad5aecfd1..cea3ae0ac 100644
--- a/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/platform_interface/media_srcs.cmake
@@ -41,4 +41,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake
index f5c0d6976..018d04954 100644
--- a/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/scalability/media_srcs.cmake
@@ -49,4 +49,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
index 816be9790..259ae50bf 100644
--- a/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/shared/scalability/media_srcs.cmake
@@ -54,3 +54,5 @@ set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake
index e03c24c2f..fc626cd71 100644
--- a/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/statusreport/media_srcs.cmake
@@ -42,4 +42,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share/media_srcs.cmake
index 478d8355c..ad5b13d39 100644
--- a/media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/utils/hal_ddi_share/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/vp_hal_ddi_utils.cpp
     ${CMAKE_CURRENT_LIST_DIR}/vp_user_setting.cpp
@@ -60,4 +62,4 @@ set(SOFTLET_VP_HAL_DDI_SHARED_INCLUDE_DIRS_
 
 source_group( VpHalNext\\Shared FILES ${TMP_SOURCES_} ${TMP_HEADERS_})
 set(TMP_SOURCES_ "")
-set(TMP_HEADERS_ "")
\ No newline at end of file
+set(TMP_HEADERS_ "")
diff --git a/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake b/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake
index ae20dcc2f..659553be8 100644
--- a/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/hal/utils/media_srcs.cmake
@@ -57,4 +57,6 @@ set(TMP_HEADERS_ "")
 set (SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake b/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake
index 7b43fec5c..1a7b12198 100644
--- a/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake
+++ b/media_softlet/agnostic/common/vp/kdll/media_srcs.cmake
@@ -35,3 +35,5 @@ set(SOFTLET_VP_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_VP_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/codec/ddi/dec/media_srcs.cmake b/media_softlet/linux/common/codec/ddi/dec/media_srcs.cmake
index e693d6d53..99e1dc76b 100644
--- a/media_softlet/linux/common/codec/ddi/dec/media_srcs.cmake
+++ b/media_softlet/linux/common/codec/ddi/dec/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/ddi_decode_functions.cpp
     ${CMAKE_CURRENT_LIST_DIR}/ddi_decode_base_specific.cpp
@@ -120,4 +122,4 @@ set(SOFTLET_DDI_HEADERS_
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/linux/common/codec/ddi/enc/media_srcs.cmake b/media_softlet/linux/common/codec/ddi/enc/media_srcs.cmake
index 532b1125a..7d05414da 100644
--- a/media_softlet/linux/common/codec/ddi/enc/media_srcs.cmake
+++ b/media_softlet/linux/common/codec/ddi/enc/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/ddi_encode_functions.cpp
     ${CMAKE_CURRENT_LIST_DIR}/ddi_encode_base_specific.cpp
diff --git a/media_softlet/linux/common/codec/ddi/shared/media_srcs.cmake b/media_softlet/linux/common/codec/ddi/shared/media_srcs.cmake
index ab1b9707a..9069ec576 100644
--- a/media_softlet/linux/common/codec/ddi/shared/media_srcs.cmake
+++ b/media_softlet/linux/common/codec/ddi/shared/media_srcs.cmake
@@ -27,6 +27,8 @@ set(TMP_HEADERS_
     ${CMAKE_CURRENT_LIST_DIR}/ddi_codec_base_specific.h
 )
 
+media_add_curr_to_include_path()
+
 if(NOT "${Media_Reserved}" STREQUAL "yes")
     set(TMP_SOURCES_
             ${TMP_SOURCES_}
@@ -48,4 +50,4 @@ set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
 )
-endif()
\ No newline at end of file
+endif()
diff --git a/media_softlet/linux/common/cp/ddi/media_srcs.cmake b/media_softlet/linux/common/cp/ddi/media_srcs.cmake
index b3fb45fad..07a4cd64f 100644
--- a/media_softlet/linux/common/cp/ddi/media_srcs.cmake
+++ b/media_softlet/linux/common/cp/ddi/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/ddi_cp_caps_interface.cpp
     ${CMAKE_CURRENT_LIST_DIR}/ddi_cp_interface_next.cpp
diff --git a/media_softlet/linux/common/cp/media_srcs.cmake b/media_softlet/linux/common/cp/media_srcs.cmake
index 6ea27109b..dd34d2c98 100644
--- a/media_softlet/linux/common/cp/media_srcs.cmake
+++ b/media_softlet/linux/common/cp/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(CP_COMMON_SHARED_SOURCES_
     ${CP_COMMON_SHARED_SOURCES_}
     ${CMAKE_CURRENT_LIST_DIR}/decodecp_interface.cpp
diff --git a/media_softlet/linux/common/ddi/media_srcs.cmake b/media_softlet/linux/common/ddi/media_srcs.cmake
index 5c488766f..dc87b9d78 100644
--- a/media_softlet/linux/common/ddi/media_srcs.cmake
+++ b/media_softlet/linux/common/ddi/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/media_libva_util_next.cpp
     ${CMAKE_CURRENT_LIST_DIR}/ddi_media_functions.cpp
@@ -54,4 +56,4 @@ set(SOFTLET_DDI_HEADERS_
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/linux/common/os/i915/include/media_srcs.cmake b/media_softlet/linux/common/os/i915/include/media_srcs.cmake
index 6b5cb8efd..0b6dd3536 100644
--- a/media_softlet/linux/common/os/i915/include/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915/include/media_srcs.cmake
@@ -43,3 +43,5 @@ set (SOFTLET_MOS_PREPEND_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
     ${SOFTLET_MOS_PREPEND_INCLUDE_DIRS_}
 )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake b/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake
index 7f2dbc2f0..95c948c13 100644
--- a/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915/include/uapi/media_srcs.cmake
@@ -39,3 +39,4 @@ set (SOFTLET_MOS_PREPEND_INCLUDE_DIRS_
     ${SOFTLET_MOS_PREPEND_INCLUDE_DIRS_}
 )
 
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915/media_srcs.cmake b/media_softlet/linux/common/os/i915/media_srcs.cmake
index dee0817ef..4781ffcc1 100644
--- a/media_softlet/linux/common/os/i915/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915/media_srcs.cmake
@@ -38,3 +38,5 @@ set(SOFTLET_MOS_COMMON_SOURCES_
     ${SOFTLET_MOS_COMMON_SOURCES_}
     ${TMP_SOURCES_}
  )
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake b/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake
index e1870dafc..a1decc9db 100644
--- a/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915_production/include/media_srcs.cmake
@@ -31,4 +31,6 @@ set(SOFTLET_MOS_COMMON_HEADERS_
 set (SOFTLET_MOS_PREPEND_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
     ${SOFTLET_MOS_PREPEND_INCLUDE_DIRS_}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/i915_production/media_srcs.cmake b/media_softlet/linux/common/os/i915_production/media_srcs.cmake
index a610f569f..3aa448a80 100644
--- a/media_softlet/linux/common/os/i915_production/media_srcs.cmake
+++ b/media_softlet/linux/common/os/i915_production/media_srcs.cmake
@@ -40,4 +40,5 @@ set(SOFTLET_MOS_COMMON_SOURCES_
     ${TMP_SOURCES_}
  )
 
+media_add_curr_to_include_path()
 #Do not add this dir to include dir
diff --git a/media_softlet/linux/common/os/media_srcs.cmake b/media_softlet/linux/common/os/media_srcs.cmake
index 3d0858ea4..489998ea5 100644
--- a/media_softlet/linux/common/os/media_srcs.cmake
+++ b/media_softlet/linux/common/os/media_srcs.cmake
@@ -104,5 +104,5 @@ ${MEDIA_SOFTLET}/agnostic/common/shared/classtrace
 )
 endif()
 source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
-
+media_add_curr_to_include_path()
 endif() # CMAKE_WDDM_LINUX
diff --git a/media_softlet/linux/common/os/osservice/media_srcs.cmake b/media_softlet/linux/common/os/osservice/media_srcs.cmake
index 4e8aad1d8..c1fa6e626 100644
--- a/media_softlet/linux/common/os/osservice/media_srcs.cmake
+++ b/media_softlet/linux/common/os/osservice/media_srcs.cmake
@@ -46,3 +46,4 @@ set(SOFTLET_MOS_PUBLIC_INCLUDE_DIRS_
     ${CMAKE_CURRENT_LIST_DIR}
 )
 source_group( "mos_softlet" FILES ${TMP_SOURCES_} ${TMP_HEADERS_} )
+media_add_curr_to_include_path()
diff --git a/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp b/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp
index 369c13c8b..97ad15c62 100644
--- a/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp
+++ b/media_softlet/linux/common/os/osservice/mos_utilities_specific.cpp
@@ -34,13 +34,13 @@
 #include <signal.h>
 #include <unistd.h>  // fork
 #include <algorithm>
-#include <sys/types.h>
+#if !defined(ANDROID)
+#include <execinfo.h> // backtrace
+#endif
 #include <sys/stat.h>  // fstat
 #include <sys/ipc.h>  // System V IPC
-#include <sys/types.h>
 #include <sys/sem.h>
 #include <sys/mman.h>
-#include "mos_compat.h" // libc variative definitions: backtrace
 #include "mos_user_setting.h"
 #include "mos_utilities_specific.h"
 #include "mos_utilities.h"
diff --git a/media_softlet/linux/common/os/osservice/mos_utilities_specific.h b/media_softlet/linux/common/os/osservice/mos_utilities_specific.h
index 946fc178b..1fbaeaab1 100644
--- a/media_softlet/linux/common/os/osservice/mos_utilities_specific.h
+++ b/media_softlet/linux/common/os/osservice/mos_utilities_specific.h
@@ -48,6 +48,7 @@ class MosMutex;
 //user feature
 #if ANDROID_VERSION >= 800
 #define USER_FEATURE_FILE                   "/data/igfx_user_feature.txt"
+#define USER_FEATURE_FILE_NEXT              "/data/igfx_user_feature_next.txt"
 #else
 #define USER_FEATURE_FILE                   "/etc/igfx_user_feature.txt"
 #define USER_FEATURE_FILE_NEXT              "/etc/igfx_user_feature_next.txt"
diff --git a/media_softlet/linux/common/vp/ddi/media_srcs.cmake b/media_softlet/linux/common/vp/ddi/media_srcs.cmake
index bf57d3277..271e0be8d 100644
--- a/media_softlet/linux/common/vp/ddi/media_srcs.cmake
+++ b/media_softlet/linux/common/vp/ddi/media_srcs.cmake
@@ -18,6 +18,8 @@
 # ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 # OTHER DEALINGS IN THE SOFTWARE.
 
+media_add_curr_to_include_path()
+
 set(TMP_SOURCES_
     ${CMAKE_CURRENT_LIST_DIR}/ddi_vp_functions.cpp
     ${CMAKE_CURRENT_LIST_DIR}/ddi_vp_tools.cpp
diff --git a/media_softlet/linux/xe_lpm_plus_r0/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/ddi/media_srcs.cmake
index 996feb4c3..e5b26595a 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/ddi/media_srcs.cmake
@@ -27,7 +27,9 @@ set(SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/linux/xe_lpm_plus_r0/encode/av1/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/encode/av1/ddi/media_srcs.cmake
index a4de5a6e0..6a0ecc52b 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/encode/av1/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/encode/av1/ddi/media_srcs.cmake
@@ -27,6 +27,8 @@ set (SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_softlet/linux/xe_lpm_plus_r0/encode/avc/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/encode/avc/ddi/media_srcs.cmake
index cde7f976a..a95bf9eda 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/encode/avc/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/encode/avc/ddi/media_srcs.cmake
@@ -27,7 +27,9 @@ set (SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/linux/xe_lpm_plus_r0/encode/hevc/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/encode/hevc/ddi/media_srcs.cmake
index 474f57d53..6b2befd53 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/encode/hevc/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/encode/hevc/ddi/media_srcs.cmake
@@ -27,7 +27,9 @@ set (SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/linux/xe_lpm_plus_r0/encode/jpeg/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/encode/jpeg/ddi/media_srcs.cmake
index bdf7b50b1..bf7cf972d 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/encode/jpeg/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/encode/jpeg/ddi/media_srcs.cmake
@@ -27,6 +27,8 @@ set (SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
diff --git a/media_softlet/linux/xe_lpm_plus_r0/encode/vp9/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/encode/vp9/ddi/media_srcs.cmake
index cd3c3530b..58b160323 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/encode/vp9/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/encode/vp9/ddi/media_srcs.cmake
@@ -27,7 +27,9 @@ set (SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/linux/xe_lpm_plus_r0/vp/ddi/media_srcs.cmake b/media_softlet/linux/xe_lpm_plus_r0/vp/ddi/media_srcs.cmake
index 60d8dd454..5783faad4 100644
--- a/media_softlet/linux/xe_lpm_plus_r0/vp/ddi/media_srcs.cmake
+++ b/media_softlet/linux/xe_lpm_plus_r0/vp/ddi/media_srcs.cmake
@@ -27,7 +27,9 @@ set(SOFTLET_DDI_HEADERS_
     ${TMP_HEADERS_}
 )
 
+media_add_curr_to_include_path()
+
 set(SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_
     ${SOFTLET_DDI_PUBLIC_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
diff --git a/media_softlet/media_interface/media_interfaces_mtl/media_srcs.cmake b/media_softlet/media_interface/media_interfaces_mtl/media_srcs.cmake
index 15c3d1e36..5ff007de8 100644
--- a/media_softlet/media_interface/media_interfaces_mtl/media_srcs.cmake
+++ b/media_softlet/media_interface/media_interfaces_mtl/media_srcs.cmake
@@ -39,4 +39,7 @@ set(SOFTLET_COMMON_HEADERS_
 set(SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_
     ${SOFTLET_COMMON_PRIVATE_INCLUDE_DIRS_}
     ${CMAKE_CURRENT_LIST_DIR}
-)
\ No newline at end of file
+)
+
+media_add_curr_to_include_path()
+
-- 
2.40.1

