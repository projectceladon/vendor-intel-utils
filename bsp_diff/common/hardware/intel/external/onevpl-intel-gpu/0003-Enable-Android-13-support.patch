From 75dfb028c58519f69cf1f0b461434b5cdac0e38d Mon Sep 17 00:00:00 2001
From: Jeevaka Prabu Badrappan <jeevaka.badrappan@intel.com>
Date: Tue, 13 Jun 2023 09:24:41 +0530
Subject: [PATCH] Enable Android 13 support

Change-Id: I15a983dbbb9e74a8b8997b0c0ac1937b3463c215
Tracked-On: OAM-110710
Signed-off-by: Jeevaka Prabu Badrappan <jeevaka.badrappan@intel.com>
---
 android/include/mfx_android_config.h | 3 ++-
 android/mfx_defs.mk                  | 3 +++
 2 files changed, 5 insertions(+), 1 deletion(-)

diff --git a/android/include/mfx_android_config.h b/android/include/mfx_android_config.h
index 9e799b3b..83250777 100644
--- a/android/include/mfx_android_config.h
+++ b/android/include/mfx_android_config.h
@@ -18,5 +18,6 @@ Copyright(c) 2011-2018 Intel Corporation. All Rights Reserved.
 #define MFX_Q     0x09
 #define MFX_R     0x0b
 #define MFX_S     0x0c
+#define MFX_T     0x0d
 
-#endif // #ifndef __MFX_CONFIG_H__
\ No newline at end of file
+#endif // #ifndef __MFX_CONFIG_H__
diff --git a/android/mfx_defs.mk b/android/mfx_defs.mk
index 6cd24900..5e1ea544 100644
--- a/android/mfx_defs.mk
+++ b/android/mfx_defs.mk
@@ -22,6 +22,9 @@ MFX_CFLAGS += -DMEDIA_VERSION_STR=\"\\\"${MEDIA_VERSION}\\\"\"
 MFX_CFLAGS += -DONEVPL_EXPERIMENTAL
 
 # Android version preference:
+ifneq ($(filter 13 13.% S ,$(PLATFORM_VERSION)),)
+  MFX_ANDROID_VERSION:= MFX_T
+endif
 ifneq ($(filter 12 12.% S ,$(PLATFORM_VERSION)),)
   MFX_ANDROID_VERSION:= MFX_S
 endif
-- 
2.40.1

