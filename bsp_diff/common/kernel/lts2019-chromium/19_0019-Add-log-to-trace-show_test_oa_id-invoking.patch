From 1741fa6051cf21cb3c1bbf2a77a2b5fbdbf123dc Mon Sep 17 00:00:00 2001
From: Shaofeng Tang <shaofeng.tang@intel.com>
Date: Fri, 9 Apr 2021 15:18:53 +0800
Subject: [PATCH] Add log to trace show_test_oa_id invoking

Signed-off-by: Shaofeng Tang <shaofeng.tang@intel.com>
---
 drivers/gpu/drm/i915/oa/i915_oa_bxt.c    | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_cflgt2.c | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_cflgt3.c | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_cnl.c    | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_icl.c    | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_kblgt2.c | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_kblgt3.c | 1 +
 drivers/gpu/drm/i915/oa/i915_oa_tgl.c    | 1 +
 8 files changed, 8 insertions(+)

diff --git a/drivers/gpu/drm/i915/oa/i915_oa_bxt.c b/drivers/gpu/drm/i915/oa/i915_oa_bxt.c
index 3e785bafcf99..fe05fda7a553 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_bxt.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_bxt.c
@@ -57,6 +57,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_bxt.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_cflgt2.c b/drivers/gpu/drm/i915/oa/i915_oa_cflgt2.c
index 0ea86f70a06c..21efb4fd0d3d 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_cflgt2.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_cflgt2.c
@@ -58,6 +58,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_cflgt2.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_cflgt3.c b/drivers/gpu/drm/i915/oa/i915_oa_cflgt3.c
index fc632dd890bf..6ba58e8862ea 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_cflgt3.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_cflgt3.c
@@ -58,6 +58,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_cflgt3.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_cnl.c b/drivers/gpu/drm/i915/oa/i915_oa_cnl.c
index 1041e8914993..150e5e5b39a1 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_cnl.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_cnl.c
@@ -70,6 +70,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_cnl.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_icl.c b/drivers/gpu/drm/i915/oa/i915_oa_icl.c
index 2d92041b754f..151dd6987959 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_icl.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_icl.c
@@ -67,6 +67,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_icl.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_kblgt2.c b/drivers/gpu/drm/i915/oa/i915_oa_kblgt2.c
index 1c3a67c9cfe0..8511ce7b1847 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_kblgt2.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_kblgt2.c
@@ -58,6 +58,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_kblgt2.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_kblgt3.c b/drivers/gpu/drm/i915/oa/i915_oa_kblgt3.c
index ebbe5a9c9fdc..1fc6ba533f20 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_kblgt3.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_kblgt3.c
@@ -58,6 +58,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_kblgt3.c");
 	return sprintf(buf, "1\n");
 }
 
diff --git a/drivers/gpu/drm/i915/oa/i915_oa_tgl.c b/drivers/gpu/drm/i915/oa/i915_oa_tgl.c
index a29d93707345..33826017a8ba 100644
--- a/drivers/gpu/drm/i915/oa/i915_oa_tgl.c
+++ b/drivers/gpu/drm/i915/oa/i915_oa_tgl.c
@@ -90,6 +90,7 @@ static const struct i915_oa_reg mux_config_test_oa[] = {
 static ssize_t
 show_test_oa_id(struct device *kdev, struct device_attribute *attr, char *buf)
 {
+	DRM_ERROR("####### show_test_oa_id is invoked from i915_oa_tgl.c");
 	return sprintf(buf, "1\n");
 }
 
-- 
2.29.2

