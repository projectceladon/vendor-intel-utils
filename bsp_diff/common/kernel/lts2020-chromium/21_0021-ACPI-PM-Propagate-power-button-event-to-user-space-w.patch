From d9706c435b9538e1c195bc1102ec825ec6785268 Mon Sep 17 00:00:00 2001
From: pmandri <padmashree.mandri@intel.com>
Date: Wed, 4 May 2022 21:26:00 +0530
Subject: [PATCH] Enable LOGS

Tracked-On:
Signed-off-by: pmandri <padmashree.mandri@intel.com>
---
 drivers/gpu/drm/i915/display/intel_audio.c | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

diff --git a/drivers/gpu/drm/i915/display/intel_audio.c b/drivers/gpu/drm/i915/display/intel_audio.c
index 5f4f316b3ab5..8e13640b3ef0 100644
--- a/drivers/gpu/drm/i915/display/intel_audio.c
+++ b/drivers/gpu/drm/i915/display/intel_audio.c
@@ -1289,11 +1289,13 @@ static void i915_audio_component_init(struct drm_i915_private *dev_priv)
 {
 	u32 aud_freq, aud_freq_init;
 	int ret;
+	printk("AUDIO Entered func %s", __func__);
 
 	ret = component_add_typed(dev_priv->drm.dev,
 				  &i915_audio_component_bind_ops,
 				  I915_COMPONENT_AUDIO);
 	if (ret < 0) {
+	        printk("AUDIO Entered func %s and ret < 0", __func__);
 		drm_err(&dev_priv->drm,
 			"failed to add audio component (%d)\n", ret);
 		/* continue with reduced functionality */
@@ -1301,24 +1303,33 @@ static void i915_audio_component_init(struct drm_i915_private *dev_priv)
 	}
 
 	if (DISPLAY_VER(dev_priv) >= 9) {
+	        printk("AUDIO Entered func %s dev_priv >= 9", __func__);
 		aud_freq_init = intel_de_read(dev_priv, AUD_FREQ_CNTRL);
 
-		if (DISPLAY_VER(dev_priv) >= 12)
+		if (DISPLAY_VER(dev_priv) >= 12) {
+	                printk("AUDIO Entered func %s dev_piv >= 12", __func__);
 			aud_freq = AUD_FREQ_GEN12;
-		else
+		}
+		else {
 			aud_freq = aud_freq_init;
+	                printk("AUDIO Entered func %s dev_piv >= 12 else case ", __func__);
+		}
 
 		/* use BIOS provided value for TGL unless it is a known bad value */
-		if (IS_TIGERLAKE(dev_priv) && aud_freq_init != AUD_FREQ_TGL_BROKEN)
+		if (IS_TIGERLAKE(dev_priv) && aud_freq_init != AUD_FREQ_TGL_BROKEN) {
+	                printk("AUDIO Entered func %s is_tigerlake and audio_freq_init ", __func__);
 			aud_freq = aud_freq_init;
+		}
 
 		drm_dbg_kms(&dev_priv->drm, "use AUD_FREQ_CNTRL of 0x%x (init value 0x%x)\n",
 			    aud_freq, aud_freq_init);
 
 		dev_priv->audio_freq_cntrl = aud_freq;
+	        printk("AUDIO Entered func %s after dev_priv->audio_freq_cntrl = aud_freq ", __func__);
 	}
 
 	dev_priv->audio_component_registered = true;
+	printk("AUDIO Entered func %s dev_priv->audio_component_registered = true ", __func__);
 }
 
 /**
-- 
2.17.1

