From eca92a082e66190c09d4fb20821ad141ea489764 Mon Sep 17 00:00:00 2001
From: renchenglei <chenglei.ren@intel.com>
Date: Fri, 12 Mar 2021 17:58:22 +0800
Subject: [PATCH 1/3] enable hwc remote in Andoid R

Tracked-On:
---
 groups/graphics/auto/auto_hal.in | 8 ++++----
 groups/graphics/auto/product.mk  | 3 +++
 2 files changed, 7 insertions(+), 4 deletions(-)

diff --git a/groups/graphics/auto/auto_hal.in b/groups/graphics/auto/auto_hal.in
index c0fafa95e670..b784aca7da80 100644
--- a/groups/graphics/auto/auto_hal.in
+++ b/groups/graphics/auto/auto_hal.in
@@ -14,13 +14,13 @@ case "$(cat /proc/fb)" in
                 ;;
         *virtiodrmfb)
                 echo "virtio-gpu"
-                setprop vendor.hwcomposer.set drm_minigbm
-                setprop vendor.gralloc.set minigbm
+                setprop vendor.hwcomposer.set remote
+                setprop vendor.gralloc.set intel
                 ;;
 	*virtio_gpudrmfb)
                 echo "virtio-gpu"
-                setprop vendor.hwcomposer.set drm_minigbm
-                setprop vendor.gralloc.set minigbm
+                setprop vendor.hwcomposer.set remote
+                setprop vendor.gralloc.set intel
                 ;;
         *)
                 echo "sw rendering"
diff --git a/groups/graphics/auto/product.mk b/groups/graphics/auto/product.mk
index eec316691701..b3ae0a867dd9 100644
--- a/groups/graphics/auto/product.mk
+++ b/groups/graphics/auto/product.mk
@@ -44,6 +44,9 @@ PRODUCT_PACKAGES += \
 PRODUCT_PACKAGES += \
     hwcomposer.$(TARGET_GFX_INTEL)
 
+PRODUCT_PACKAGES += \
+    hwcomposer.remote
+
 INTEL_HWC_CONFIG := $(INTEL_PATH_VENDOR)/external/hwcomposer-intel
 
 ifeq ($(findstring _acrn,$(TARGET_PRODUCT)),_acrn)
-- 
2.17.1

