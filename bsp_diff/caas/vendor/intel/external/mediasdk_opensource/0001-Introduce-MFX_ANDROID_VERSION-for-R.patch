From 17d5a9dec33a967f3a356ca234acf7b69c1cad49 Mon Sep 17 00:00:00 2001
From: ahs <amrita.h.s@intel.com>
Date: Tue, 17 Mar 2020 17:45:14 +0530
Subject: Introduce MFX_ANDROID_VERSION for R

Tracked-On:
Signed-off-by: ahs <amrita.h.s@intel.com>
---
 android/include/mfx_android_config.h | 1 +
 android/mfx_defs.mk                  | 7 +++++++
 2 files changed, 8 insertions(+)

diff --git a/android/include/mfx_android_config.h b/android/include/mfx_android_config.h
index 4faab28c..3a4e6d9b 100644
--- a/android/include/mfx_android_config.h
+++ b/android/include/mfx_android_config.h
@@ -16,5 +16,6 @@ Copyright(c) 2011-2018 Intel Corporation. All Rights Reserved.
 #define MFX_O_MR1 0x07
 #define MFX_P     0x08
 #define MFX_Q     0x09
+#define MFX_R     0x0a
 
 #endif // #ifndef __MFX_CONFIG_H__
diff --git a/android/mfx_defs.mk b/android/mfx_defs.mk
index 29d99bb7..3703212b 100644
--- a/android/mfx_defs.mk
+++ b/android/mfx_defs.mk
@@ -14,6 +14,9 @@
 MFX_CFLAGS := -DANDROID
 
 # Android version preference:
+ifneq ($(filter 11 11.% R ,$(PLATFORM_VERSION)),)
+  MFX_ANDROID_VERSION:= MFX_R
+endif
 ifneq ($(filter 10 10.% Q ,$(PLATFORM_VERSION)),)
   MFX_ANDROID_VERSION:= MFX_Q
 endif
@@ -28,6 +31,10 @@ ifneq ($(filter 8.% O ,$(PLATFORM_VERSION)),)
   endif
 endif
 
+ifeq ($(filter MFX,$(MFX_ANDROID_VERSION)),)
+  $(error, Invalid MFX_ANDROID_VERSION '$(MFX_ANDROID_VERSION)')
+endif
+
 # Passing Android-dependency information to the code
 MFX_CFLAGS += \
   -DMFX_ANDROID_VERSION=$(MFX_ANDROID_VERSION) \
-- 
2.24.0

