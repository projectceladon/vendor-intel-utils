From 22f1e245b76ee0671fb4386fa286a70d1d820448 Mon Sep 17 00:00:00 2001
From: Jaikrishna Nemallapudi <nemallapudi.jaikrishna@intel.com>
Date: Mon, 11 Oct 2021 18:51:59 +0530
Subject: [PATCH] Add fix for sensor meta data events.

This patch is added for gettign accelerometer data.

Tracked-On: OAM-99680
Change-Id: I3349b679a78164e7064949f87d6d88d42bc69122
Signed-off-by: Jaikrishna Nemallapudi <nemallapudi.jaikrishna@intel.com>
---
 services/sensorservice/SensorEventConnection.cpp | 1 +
 1 file changed, 1 insertion(+)

diff --git a/services/sensorservice/SensorEventConnection.cpp b/services/sensorservice/SensorEventConnection.cpp
index 3cccaf932..32a5d1a8d 100644
--- a/services/sensorservice/SensorEventConnection.cpp
+++ b/services/sensorservice/SensorEventConnection.cpp
@@ -329,6 +329,7 @@ status_t SensorService::SensorEventConnection::sendEvents(
             // If there is a pending flush complete event for this sensor on this connection,
             // ignore the event and proceed to the next.
             if (flushInfo.mFirstFlushPending) {
+                flushInfo.mFirstFlushPending = false;
                 ++i;
                 continue;
             }
-- 
2.33.0

