From 30c8028e986afda3fa37b4be98cb1a412aab1f0f Mon Sep 17 00:00:00 2001
From: svenate <salini.venate@intel.com>
Date: Tue, 23 Mar 2021 18:30:28 +0530
Subject: [PATCH] WA: Fix for testPinnedStackInBoundsAfterRotation

Signed-off-by: svenate <salini.venate@intel.com>
---
 .../src/com/android/systemui/pip/PipBoundsHandler.java        | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/packages/SystemUI/src/com/android/systemui/pip/PipBoundsHandler.java b/packages/SystemUI/src/com/android/systemui/pip/PipBoundsHandler.java
index 583953ce34a..076a949a526 100644
--- a/packages/SystemUI/src/com/android/systemui/pip/PipBoundsHandler.java
+++ b/packages/SystemUI/src/com/android/systemui/pip/PipBoundsHandler.java
@@ -362,9 +362,9 @@ public class PipBoundsHandler {
     private void updateDisplayInfoIfNeeded() {
         final boolean updateNeeded;
         if ((mDisplayInfo.rotation == ROTATION_0) || (mDisplayInfo.rotation == ROTATION_180)) {
-            updateNeeded = (mDisplayInfo.logicalWidth > mDisplayInfo.logicalHeight);
-        } else {
             updateNeeded = (mDisplayInfo.logicalWidth < mDisplayInfo.logicalHeight);
+        } else {
+            updateNeeded = (mDisplayInfo.logicalWidth > mDisplayInfo.logicalHeight);
         }
         if (updateNeeded) {
             final int newLogicalHeight = mDisplayInfo.logicalWidth;
-- 
2.17.1

