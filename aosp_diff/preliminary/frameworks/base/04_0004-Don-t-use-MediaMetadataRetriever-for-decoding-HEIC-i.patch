From 85789aa5db957e2bf8d0f41de2d27350cda8b44c Mon Sep 17 00:00:00 2001
From: ahs <amrita.h.s@intel.com>
Date: Thu, 24 Dec 2020 10:49:00 +0530
Subject: [PATCH] Don't use MediaMetadataRetriever for decoding HEIC images

Tracked-On: OAM-95490
Signed-off-by: ahs <amrita.h.s@intel.com>
---
 media/java/android/media/ThumbnailUtils.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/media/java/android/media/ThumbnailUtils.java b/media/java/android/media/ThumbnailUtils.java
index fbf38dc..8ca0b7f 100644
--- a/media/java/android/media/ThumbnailUtils.java
+++ b/media/java/android/media/ThumbnailUtils.java
@@ -269,7 +269,7 @@ public class ThumbnailUtils {
             }
         }
 
-        if (mimeType.equals("image/heif")
+        /*if (mimeType.equals("image/heif")
                 || mimeType.equals("image/heif-sequence")
                 || mimeType.equals("image/heic")
                 || mimeType.equals("image/heic-sequence")) {
@@ -281,7 +281,7 @@ public class ThumbnailUtils {
             } catch (RuntimeException e) {
                 throw new IOException("Failed to create thumbnail", e);
             }
-        }
+        }*/
 
         if (bitmap == null && exif != null) {
             final byte[] raw = exif.getThumbnailBytes();
-- 
2.7.4

