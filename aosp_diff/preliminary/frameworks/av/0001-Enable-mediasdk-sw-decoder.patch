From a4d16a0ac0d5fa47ed3d9ad7ed3e06a9f86b3881 Mon Sep 17 00:00:00 2001
From: "Chen, Tianmi" <tianmi.chen@intel.com>
Date: Tue, 25 May 2021 20:24:41 +0800
Subject: [PATCH] Enable mediasdk sw decoder

Tracked-On:
Signed-off-by: Chen, Tianmi <tianmi.chen@intel.com>
---
 media/libstagefright/ACodec.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/media/libstagefright/ACodec.cpp b/media/libstagefright/ACodec.cpp
index 3163316403..235dbedce0 100644
--- a/media/libstagefright/ACodec.cpp
+++ b/media/libstagefright/ACodec.cpp
@@ -2067,7 +2067,7 @@ status_t ACodec::configureCodec(
                 requiresSwRenderer = true;
             }
 
-            if (mComponentName.startsWith("OMX.google.") || requiresSwRenderer) {
+            if (mComponentName.startsWith("OMX.google.") || mComponentName.startsWith("OMX.Intel.sw_") || requiresSwRenderer) {
                 usingSwRenderer = true;
                 haveNativeWindow = false;
                 (void)setPortMode(kPortIndexOutput, IOMX::kPortModePresetByteBuffer);
-- 
2.17.1

