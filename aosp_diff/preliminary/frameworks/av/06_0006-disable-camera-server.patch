From c735ec20998042a244992c495cb79f3e8979ad73 Mon Sep 17 00:00:00 2001
From: shivasku82 <shiva.kumara.rudrappa@intel.com>
Date: Fri, 19 Nov 2021 21:04:11 +0530
Subject: [PATCH] :qdisable_camera_server

Signed-off-by: shivasku82 <shiva.kumara.rudrappa@intel.com>
---
 camera/Camera.cpp                         | 2 +-
 camera/CameraBase.cpp                     | 2 +-
 camera/ICamera.cpp                        | 2 +-
 camera/ICameraClient.cpp                  | 2 +-
 camera/cameraserver/main_cameraserver.cpp | 6 +++---
 media/mediaserver/main_mediaserver.cpp    | 4 ++--
 media/mediaserver/mediaserver.rc          | 2 +-
 media/mediaserver/register.cpp            | 1 +
 8 files changed, 11 insertions(+), 10 deletions(-)

diff --git a/camera/Camera.cpp b/camera/Camera.cpp
index 604dbb8b17..7eb052dd0e 100644
--- a/camera/Camera.cpp
+++ b/camera/Camera.cpp
@@ -15,7 +15,7 @@
 ** limitations under the License.
 */
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "Camera"
 #include <utils/Log.h>
 #include <utils/threads.h>
diff --git a/camera/CameraBase.cpp b/camera/CameraBase.cpp
index 03439fdf72..91e65327bb 100644
--- a/camera/CameraBase.cpp
+++ b/camera/CameraBase.cpp
@@ -15,7 +15,7 @@
 ** limitations under the License.
 */
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "CameraBase"
 #include <utils/Log.h>
 #include <utils/threads.h>
diff --git a/camera/ICamera.cpp b/camera/ICamera.cpp
index b83edf7060..f11d85b99b 100644
--- a/camera/ICamera.cpp
+++ b/camera/ICamera.cpp
@@ -15,7 +15,7 @@
 ** limitations under the License.
 */
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "ICamera"
 #include <utils/Log.h>
 #include <stdint.h>
diff --git a/camera/ICameraClient.cpp b/camera/ICameraClient.cpp
index bef2ea0acd..4ef08f4839 100644
--- a/camera/ICameraClient.cpp
+++ b/camera/ICameraClient.cpp
@@ -15,7 +15,7 @@
 ** limitations under the License.
 */
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "ICameraClient"
 #include <utils/Log.h>
 #include <stdint.h>
diff --git a/camera/cameraserver/main_cameraserver.cpp b/camera/cameraserver/main_cameraserver.cpp
index cef8ef5456..29a4989e9f 100644
--- a/camera/cameraserver/main_cameraserver.cpp
+++ b/camera/cameraserver/main_cameraserver.cpp
@@ -15,7 +15,7 @@
  */
 
 #define LOG_TAG "cameraserver"
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 
 #include "CameraService.h"
 #include <hidl/HidlTransportSupport.h>
@@ -32,9 +32,9 @@ int main(int argc __unused, char** argv __unused)
 
     sp<ProcessState> proc(ProcessState::self());
     sp<IServiceManager> sm = defaultServiceManager();
-    ALOGI("ServiceManager: %p", sm.get());
+    ALOGE("ServiceManager: %p", sm.get());
     CameraService::instantiate();
-    ALOGI("ServiceManager: %p done instantiate", sm.get());
+    ALOGE("ServiceManager: %p done instantiate", sm.get());
     ProcessState::self()->startThreadPool();
     IPCThreadState::self()->joinThreadPool();
 }
diff --git a/media/mediaserver/main_mediaserver.cpp b/media/mediaserver/main_mediaserver.cpp
index 58e2d2aa9f..9639fa40b7 100644
--- a/media/mediaserver/main_mediaserver.cpp
+++ b/media/mediaserver/main_mediaserver.cpp
@@ -16,7 +16,7 @@
 */
 
 #define LOG_TAG "mediaserver"
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 
 #include <binder/IPCThreadState.h>
 #include <binder/ProcessState.h>
@@ -37,7 +37,7 @@ int main(int argc __unused, char **argv __unused)
 
     sp<ProcessState> proc(ProcessState::self());
     sp<IServiceManager> sm(defaultServiceManager());
-    ALOGI("ServiceManager: %p", sm.get());
+    ALOGE("ServiceManager: %p", sm.get());
     MediaPlayerService::instantiate();
     ResourceManagerService::instantiate();
     registerExtensions();
diff --git a/media/mediaserver/mediaserver.rc b/media/mediaserver/mediaserver.rc
index 05373c9c3f..49bd8fcead 100644
--- a/media/mediaserver/mediaserver.rc
+++ b/media/mediaserver/mediaserver.rc
@@ -4,6 +4,6 @@ on property:init.svc.media=*
 service media /system/bin/mediaserver
     class main
     user media
-    group audio camera inet net_bt net_bt_admin net_bw_acct drmrpc mediadrm
+    group audio inet net_bt net_bt_admin net_bw_acct drmrpc mediadrm
     ioprio rt 4
     task_profiles ProcessCapacityHigh HighPerformance
diff --git a/media/mediaserver/register.cpp b/media/mediaserver/register.cpp
index 4ffb2ba3ac..54a38e86a3 100644
--- a/media/mediaserver/register.cpp
+++ b/media/mediaserver/register.cpp
@@ -18,4 +18,5 @@
 
 void registerExtensions()
 {
+	
 }
-- 
2.32.0

