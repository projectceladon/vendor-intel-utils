From 43ab9c15c9f667a3f859b2314557c835749417b0 Mon Sep 17 00:00:00 2001
From: "Liu, Kai1" <kai1.liu@intel.com>
Date: Wed, 12 Jul 2023 09:52:25 +0800
Subject: [PATCH] scudo: support secondary 4MB cache size and
 release_to_os_ms=5000

---
 standalone/allocator_config.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/standalone/allocator_config.h b/standalone/allocator_config.h
index 8e103f2..5c0938e 100644
--- a/standalone/allocator_config.h
+++ b/standalone/allocator_config.h
@@ -100,10 +100,10 @@ struct AndroidConfig {
   typedef MapAllocatorCache<AndroidConfig> SecondaryCache;
   static const u32 SecondaryCacheEntriesArraySize = 256U;
   static const u32 SecondaryCacheQuarantineSize = 32U;
-  static const u32 SecondaryCacheDefaultMaxEntriesCount = 32U;
-  static const uptr SecondaryCacheDefaultMaxEntrySize = 2UL << 20;
-  static const s32 SecondaryCacheMinReleaseToOsIntervalMs = 0;
-  static const s32 SecondaryCacheMaxReleaseToOsIntervalMs = 1000;
+  static const u32 SecondaryCacheDefaultMaxEntriesCount = 64U;
+  static const uptr SecondaryCacheDefaultMaxEntrySize = 4UL << 20;
+  static const s32 SecondaryCacheMinReleaseToOsIntervalMs = 5000;
+  static const s32 SecondaryCacheMaxReleaseToOsIntervalMs = 5000;
 
   template <class A>
   using TSDRegistryT = TSDRegistrySharedT<A, 8U, 2U>; // Shared, max 8 TSDs.
-- 
2.33.1

