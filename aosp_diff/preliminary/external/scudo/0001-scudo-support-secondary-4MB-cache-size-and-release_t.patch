From 64849c13f232049fb4b1a36526e1794ca2ca6a5b Mon Sep 17 00:00:00 2001
From: "Liu, Kai1" <kai1.liu@intel.com>
Date: Wed, 12 Jul 2023 08:52:57 +0800
Subject: [PATCH] scudo: support secondary 4MB cache size and
 release_to_os_ms=5000

---
 standalone/allocator_config.h | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/standalone/allocator_config.h b/standalone/allocator_config.h
index 7749449..365b5d0 100644
--- a/standalone/allocator_config.h
+++ b/standalone/allocator_config.h
@@ -101,9 +101,9 @@ struct AndroidConfig {
   static const u32 SecondaryCacheEntriesArraySize = 256U;
   static const u32 SecondaryCacheQuarantineSize = 32U;
   static const u32 SecondaryCacheDefaultMaxEntriesCount = 32U;
-  static const uptr SecondaryCacheDefaultMaxEntrySize = 2UL << 20;
-  static const s32 SecondaryCacheMinReleaseToOsIntervalMs = 0;
-  static const s32 SecondaryCacheMaxReleaseToOsIntervalMs = 1000;
+  static const uptr SecondaryCacheDefaultMaxEntrySize = 4UL << 20;
+  static const s32 SecondaryCacheMinReleaseToOsIntervalMs = 5000;
+  static const s32 SecondaryCacheMaxReleaseToOsIntervalMs = 5000;
 
 #ifdef SCUDO_ANDROID_USE_EXCLUSIVETSD
   template <class A>
-- 
2.33.1

