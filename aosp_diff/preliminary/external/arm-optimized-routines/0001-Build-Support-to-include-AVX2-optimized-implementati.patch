From 46a2b7e187bc7934c6c6d6437e746737ad76a5bb Mon Sep 17 00:00:00 2001
From: jaishank <jaishankar.rajendran@intel.com>
Date: Mon, 21 Oct 2019 09:13:32 +0530
Subject: [PATCH] Build Support to include AVX2 optimized implementations and
 exclude cosf expf sinf implementations

Tracked-On:
Signed-off-by: jaishank <jaishankar.rajendran@intel.com>
---
 Android.bp | 10 ++++++++++
 1 file changed, 10 insertions(+)

diff --git a/Android.bp b/Android.bp
index 2276161..0d23c41 100755
--- a/Android.bp
+++ b/Android.bp
@@ -44,6 +44,16 @@ cc_library {
                 "-DHAVE_FAST_FMA=1",
             ],
         },
+        x86_64: {
+            avx2: {
+                exclude_srcs: [
+                    "math/cosf.c", // x86_64 has an optimized avx2 implementation
+                    "math/expf.c",
+                    "math/sinf.c",
+                ],
+            },
+        },
+
     },
 
     target: {
-- 
2.7.4

