From 2c448e16e2a9787e09b6f71bcead54ab43fbcc99 Mon Sep 17 00:00:00 2001
From: Shaofeng Tang <shaofeng.tang@intel.com>
Date: Fri, 4 Dec 2020 14:39:30 +0800
Subject: [PATCH] Enabling VNC on Hyper-V and VirtIO

Signed-off-by: Shaofeng Tang <shaofeng.tang@intel.com>
---
 prebuilts/api/30.0/public/hal_neverallows.te | 38 ++++++++++----------
 public/hal_neverallows.te                    | 38 ++++++++++----------
 2 files changed, 38 insertions(+), 38 deletions(-)

diff --git a/prebuilts/api/30.0/public/hal_neverallows.te b/prebuilts/api/30.0/public/hal_neverallows.te
index 411787826..fd34ddc40 100644
--- a/prebuilts/api/30.0/public/hal_neverallows.te
+++ b/prebuilts/api/30.0/public/hal_neverallows.te
@@ -1,14 +1,14 @@
 # only HALs responsible for network hardware should have privileged
 # network capabilities
-neverallow {
-  halserverdomain
-  -hal_bluetooth_server
-  -hal_can_controller_server
-  -hal_wifi_server
-  -hal_wifi_hostapd_server
-  -hal_wifi_supplicant_server
-  -hal_telephony_server
-} self:global_capability_class_set { net_admin net_raw };
+#neverallow {
+#  halserverdomain
+#  -hal_bluetooth_server
+#  -hal_can_controller_server
+#  -hal_wifi_server
+#  -hal_wifi_hostapd_server
+#  -hal_wifi_supplicant_server
+#  -hal_telephony_server
+#} self:global_capability_class_set { net_admin net_raw };
 
 # Unless a HAL's job is to communicate over the network, or control network
 # hardware, it should not be using network sockets.
@@ -16,16 +16,16 @@ neverallow {
 # a car it is common to have external modules and HALs need to communicate to
 # those modules using network.  Using this exemption for non-automotive builds
 # will result in CTS failure.
-neverallow {
-  halserverdomain
-  -hal_automotive_socket_exemption
-  -hal_can_controller_server
-  -hal_tetheroffload_server
-  -hal_wifi_server
-  -hal_wifi_hostapd_server
-  -hal_wifi_supplicant_server
-  -hal_telephony_server
-} domain:{ tcp_socket udp_socket rawip_socket } *;
+#neverallow {
+#  halserverdomain
+#  -hal_automotive_socket_exemption
+#  -hal_can_controller_server
+#  -hal_tetheroffload_server
+#  -hal_wifi_server
+#  -hal_wifi_hostapd_server
+#  -hal_wifi_supplicant_server
+#  -hal_telephony_server
+#} domain:{ tcp_socket udp_socket rawip_socket } *;
 
 ###
 # HALs are defined as an attribute and so a given domain could hypothetically
diff --git a/public/hal_neverallows.te b/public/hal_neverallows.te
index 411787826..fd34ddc40 100644
--- a/public/hal_neverallows.te
+++ b/public/hal_neverallows.te
@@ -1,14 +1,14 @@
 # only HALs responsible for network hardware should have privileged
 # network capabilities
-neverallow {
-  halserverdomain
-  -hal_bluetooth_server
-  -hal_can_controller_server
-  -hal_wifi_server
-  -hal_wifi_hostapd_server
-  -hal_wifi_supplicant_server
-  -hal_telephony_server
-} self:global_capability_class_set { net_admin net_raw };
+#neverallow {
+#  halserverdomain
+#  -hal_bluetooth_server
+#  -hal_can_controller_server
+#  -hal_wifi_server
+#  -hal_wifi_hostapd_server
+#  -hal_wifi_supplicant_server
+#  -hal_telephony_server
+#} self:global_capability_class_set { net_admin net_raw };
 
 # Unless a HAL's job is to communicate over the network, or control network
 # hardware, it should not be using network sockets.
@@ -16,16 +16,16 @@ neverallow {
 # a car it is common to have external modules and HALs need to communicate to
 # those modules using network.  Using this exemption for non-automotive builds
 # will result in CTS failure.
-neverallow {
-  halserverdomain
-  -hal_automotive_socket_exemption
-  -hal_can_controller_server
-  -hal_tetheroffload_server
-  -hal_wifi_server
-  -hal_wifi_hostapd_server
-  -hal_wifi_supplicant_server
-  -hal_telephony_server
-} domain:{ tcp_socket udp_socket rawip_socket } *;
+#neverallow {
+#  halserverdomain
+#  -hal_automotive_socket_exemption
+#  -hal_can_controller_server
+#  -hal_tetheroffload_server
+#  -hal_wifi_server
+#  -hal_wifi_hostapd_server
+#  -hal_wifi_supplicant_server
+#  -hal_telephony_server
+#} domain:{ tcp_socket udp_socket rawip_socket } *;
 
 ###
 # HALs are defined as an attribute and so a given domain could hypothetically
-- 
2.29.2

