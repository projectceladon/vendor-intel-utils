From 0a8ca66e39022d6223991c1adfda1a1ce12b74cb Mon Sep 17 00:00:00 2001
From: Xihua Chen <xihua.chen@intel.com>
Date: Wed, 10 Mar 2021 13:52:40 +0800
Subject: [PATCH] dbg: add houdini lib into BuildSystemDefaultNamespace

Change-Id: I2f790d1ae7566d5273d7a4ff0a76562ef703839b
Tracked-On:
Signed-off-by: Xihua Chen <xihua.chen@intel.com>
---
 contents/namespace/sphal.cc         | 5 +++++
 contents/namespace/systemdefault.cc | 2 ++
 2 files changed, 7 insertions(+)

diff --git a/contents/namespace/sphal.cc b/contents/namespace/sphal.cc
index e1f83dd..c1e94b5 100644
--- a/contents/namespace/sphal.cc
+++ b/contents/namespace/sphal.cc
@@ -53,6 +53,11 @@ Namespace BuildSphalNamespace([[maybe_unused]] const Context& ctx) {
     ns.AddPermittedPath("/system/${LIB}", AsanPath::WITH_DATA_ASAN);
   }
 
+  ns.AddSearchPath("/system/${LIB}/arm", AsanPath::WITH_DATA_ASAN);
+  ns.AddPermittedPath("/system/${LIB}/arm", AsanPath::WITH_DATA_ASAN);
+  ns.AddSearchPath("/system/${LIB}/arm/nb", AsanPath::WITH_DATA_ASAN);
+  ns.AddSearchPath("/system/${LIB}/arm/nb", AsanPath::WITH_DATA_ASAN);
+
   if (ctx.IsApexBinaryConfig()) {
     if (ctx.IsVndkAvailable()) {
       ns.GetLink("vndk").AddSharedLib(
diff --git a/contents/namespace/systemdefault.cc b/contents/namespace/systemdefault.cc
index a9bfdb1..afc0b37 100644
--- a/contents/namespace/systemdefault.cc
+++ b/contents/namespace/systemdefault.cc
@@ -64,6 +64,8 @@ Namespace BuildSystemDefaultNamespace([[maybe_unused]] const Context& ctx) {
         "/system/${LIB}/drm",
         "/system/${LIB}/extractors",
         "/system/${LIB}/hw",
+        "/system/${LIB}/arm",
+        "/system/${LIB}/arm/nb",
         system_ext + "/${LIB}",
 
         // These are where odex files are located. libart has to be able to
-- 
2.20.1

