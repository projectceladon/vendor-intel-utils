From ad2f6bf6fa8416c432683f35fbf04f3d5306c2a6 Mon Sep 17 00:00:00 2001
From: kexx <xiaox.ke@intel.com>
Date: Thu, 3 Jun 2021 15:07:53 +0800
Subject: [PATCH] add houdini lib default namespace

Signed-off-by: kexx <xiaox.ke@intel.com>
---
 contents/namespace/sphal.cc         | 3 +++
 contents/namespace/systemdefault.cc | 3 +++
 2 files changed, 6 insertions(+)

diff --git a/contents/namespace/sphal.cc b/contents/namespace/sphal.cc
index e97197f..08efb14 100644
--- a/contents/namespace/sphal.cc
+++ b/contents/namespace/sphal.cc
@@ -42,6 +42,9 @@ Namespace BuildSphalNamespace([[maybe_unused]] const Context& ctx) {
   ns.AddSearchPath("/vendor/${LIB}", AsanPath::WITH_DATA_ASAN);
   ns.AddSearchPath("/vendor/${LIB}/egl", AsanPath::WITH_DATA_ASAN);
   ns.AddSearchPath("/vendor/${LIB}/hw", AsanPath::NONE);
+  ns.AddSearchPath("/vendor/${LIB}/arm", AsanPath::WITH_DATA_ASAN);
+  ns.AddPermittedPath("/vendor/${LIB}/arm", AsanPath::WITH_DATA_ASAN);
+  ns.AddSearchPath("/vendor/${LIB}/arm/nb", AsanPath::WITH_DATA_ASAN);
 
   ns.AddPermittedPath("/odm/${LIB}", AsanPath::WITH_DATA_ASAN);
   ns.AddPermittedPath("/vendor/${LIB}", AsanPath::WITH_DATA_ASAN);
diff --git a/contents/namespace/systemdefault.cc b/contents/namespace/systemdefault.cc
index a9bfdb1..5ea46d7 100644
--- a/contents/namespace/systemdefault.cc
+++ b/contents/namespace/systemdefault.cc
@@ -64,6 +64,9 @@ Namespace BuildSystemDefaultNamespace([[maybe_unused]] const Context& ctx) {
         "/system/${LIB}/drm",
         "/system/${LIB}/extractors",
         "/system/${LIB}/hw",
+        "/vendor/${LIB}",
+        "/vendor/${LIB}/arm",
+        "/vendor/${LIB}/arm/nb",
         system_ext + "/${LIB}",
 
         // These are where odex files are located. libart has to be able to
-- 
2.17.1

