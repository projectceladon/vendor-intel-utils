From 76d805a0a3399051b76b5f4720164cf49f115bd2 Mon Sep 17 00:00:00 2001
From: "Chen, Gang G" <gang.g.chen@intel.com>
Date: Sun, 29 Oct 2023 16:55:25 +0800
Subject: [PATCH] Change OTA resigning key to releasekey

Add release key for OTA

Signed-off-by: Chen, Gang G <gang.g.chen@intel.com>
---
 core/config.mk                              |   2 +-
 target/product/security/releasekey.pk8      | Bin 0 -> 1216 bytes
 target/product/security/releasekey.x509.pem |  24 ++++++++++++++++++++
 3 files changed, 25 insertions(+), 1 deletion(-)
 create mode 100644 target/product/security/releasekey.pk8
 create mode 100644 target/product/security/releasekey.x509.pem

diff --git a/core/config.mk b/core/config.mk
index e7fd1b0251..e26f6ebd7a 100644
--- a/core/config.mk
+++ b/core/config.mk
@@ -743,7 +743,7 @@ endif
 ifdef PRODUCT_DEFAULT_DEV_CERTIFICATE
   DEFAULT_SYSTEM_DEV_CERTIFICATE := $(PRODUCT_DEFAULT_DEV_CERTIFICATE)
 else
-  DEFAULT_SYSTEM_DEV_CERTIFICATE := build/make/target/product/security/testkey
+  DEFAULT_SYSTEM_DEV_CERTIFICATE := build/make/target/product/security/releasekey
 endif
 .KATI_READONLY := DEFAULT_SYSTEM_DEV_CERTIFICATE
 
diff --git a/target/product/security/releasekey.pk8 b/target/product/security/releasekey.pk8
new file mode 100644
index 0000000000000000000000000000000000000000..272c9a0f321a1d957b8d1fc0d4216b9539d076c9
GIT binary patch
literal 1216
zcmV;x1V8&Qf&{z*0RS)!1_>&LNQU<f0RaI800e>rrZ9p8q5=T`0)hbn0IXVKOSfCa
z6EjOGGzzIWzyP2yG(N<#^zZ*g_L3EO&ZIDLOxT7#;)lQ*0x>Ml7M@q!XTPWkqbi(s
zf&jQl!Ivz^GqdN*zj%Yc;4g02YS)&#*Ap~)-~wUDuNGR6L<=7X?AF#FsTtjwwBZ<<
zOM&tsm8Y3Jl{vmRT113|-iR7T*fje#f;^8H#sdt*uAG$s`a^NKIbKjF8qP{mIea<G
z22-_&Nqb|;u^gBL#u($E=%IU@u=vvhyU`^WShCi*#t`H1Di#8x{S{DM^Lrq>z*tj3
zfTY=SjyDB@G%?ew4^e>Q3ha<Z&o|pbf(85S#PVuTF!~Aib;D~HD*^)n009Dm0RU=i
ze3~cYU@}zCspnc%)|RJCLAPMCZ<SHQ8(sb(h>np?;0A>Qk36h-Zxz35U5h8iG;dQS
z+?|Ce3jBtdL*Zu#-K`$}mksF2;N|)w#W`bG%`YX&m%L4UH$U{-f{dXVPM3bC!|>DT
z!icXNQ`sM>bQeY67E49eFj0I_9{`NYRy;uapC--C8A<ZY)A!h&lL~7PiZ^XT1Ae_V
zM)pAqN#3zW|7jG1+U2klF{9x|RJ|q!A^uK{EWkn41ZS;_8%wV|R)zLBUu>>i?;A*C
zR^e;!b3i0m#MM}y1s*%gb2~aL&(HE87u56dun;O`WznzJ0!9`YUn|3CbddsqfdJmn
zYuB&PO|O{+pPpy@_qZ?*;{|axe##jyJsAw^%GnoYe`-I`*Lt|OqqjqhXHgkdySsD#
zBY|{h;8~T$o60eX&sPpiXzE6mDtV;ovxXly6Z5z=$NQp1YnYc~nbLwY`msyL_#lve
zeX8moKv$O9?R>=SPJsF&xj!eT_>BUAfdIw@^n)Wz@vw-t&@!zVb07Gr@G&B;<K!N^
z;JfS8&EYutZ|M9^lTcsA8$bD*ibxY=XhOT64WhvCY|^hh$7<~&F#X{`j!wA~zJ}D$
zf)HdB6?9%u?BF@3GnJlyYaWPglmaeK#!iHrug8W6&qpT@{-IaBysi95zk~y9Y?lIo
zfIs2&>4PZm{T7^jB}ku0&hSXR$V01QGQ)wryuR(D-4;%E-I=PYV=peptF@dx%M8AK
z^1{&Uks~zSC=x#N>Bh!FLM?$#+f1FMQ}-%jBxExQ)o9I9rySu{b_;>63ZwQ9JYoaY
zYEZ*dcza{EXy$>Uagl6C9mkpybiV`h$pV3Z5*b}R*DfP51#RFRp`f4J9yvM?<DjI6
zryr0~+`TxA3r`UtbY3DX$aF02ZT$aelMO6VT_3J_U$q(CFVh%K_nDS#z4y+E_jHVh
zdQc2=KN4=+k^4uBKKZBNR{26}Dgg=fArpOuldL}`w_|#~fE|D$a|n)vKzPl#T`#@G
z0)c>D|9E3ZB_(@BHVbg+Yfj|s)=2T6bb6Epbp!WB?(wr6Azgf}iO6krCg81v-FgW-
zsZ^t$a@P_eNneg_UG=!ZN3*K;Lz0<{KU=Ch2X3Y%NQPI}0Fm4P7JCZ?v9Mqc&pcu-
eS@HJb9NN?@dy>q+Ce-p<HxA21EU+YDVQV45=0WKI

literal 0
HcmV?d00001

diff --git a/target/product/security/releasekey.x509.pem b/target/product/security/releasekey.x509.pem
new file mode 100644
index 0000000000..ab042ab97a
--- /dev/null
+++ b/target/product/security/releasekey.x509.pem
@@ -0,0 +1,24 @@
+-----BEGIN CERTIFICATE-----
+MIIEDTCCAvWgAwIBAgIUJsKJb+bAAsbP5RmOg9CN9YTADswwDQYJKoZIhvcNAQEL
+BQAwgZQxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYwFAYDVQQH
+DA1Nb3VudGFpbiBWaWV3MRAwDgYDVQQKDAdBbmRyb2lkMRAwDgYDVQQLDAdBbmRy
+b2lkMRAwDgYDVQQDDAdBbmRyb2lkMSIwIAYJKoZIhvcNAQkBFhNhbmRyb2lkQGFu
+ZHJvaWQuY29tMCAXDTIzMTAyMjA2MzkyMVoYDzIwNTEwMzA5MDYzOTIxWjCBlDEL
+MAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWExFjAUBgNVBAcMDU1vdW50
+YWluIFZpZXcxEDAOBgNVBAoMB0FuZHJvaWQxEDAOBgNVBAsMB0FuZHJvaWQxEDAO
+BgNVBAMMB0FuZHJvaWQxIjAgBgkqhkiG9w0BCQEWE2FuZHJvaWRAYW5kcm9pZC5j
+b20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCsWmJLt1vFEzNLKTQK
+qTjAAKAwND7EsvTv/0X2khV5zqQwcUzYhj7ih8AaAjEszxaeV9xnv6gJoyqcdoIA
+uEnBlyzIM7Pny794g7/gL27YateWu9cTNHrgAmHIrxZakEQLHwjs1tYfqRndmbTh
+GJpLgfIhlaeZPJU5vjhaRISE3ogaRtg0+zaCPI8YxgMMxK6clQD6Q3G5OV5QJxrO
+SlI5fDnLBlO1iEl7Y8qxHJgExhjjoOihe5yw+NMDu9ElGFiy1rjGEOPwKhYCo/0V
+UF3zeyC7wFhTQYCk2XKONwWCNDHTqw9RgOMK7JBGzzfbQoIF++3E8mpQMPoJ93XD
+axcrAgMBAAGjUzBRMB0GA1UdDgQWBBT4BOgmx0X3aXjxT/ijOHDFymGGkzAfBgNV
+HSMEGDAWgBT4BOgmx0X3aXjxT/ijOHDFymGGkzAPBgNVHRMBAf8EBTADAQH/MA0G
+CSqGSIb3DQEBCwUAA4IBAQAnUrThclT/NRn+sdllHzU+hPMs71cX2QLDF9RgZygi
+wQqXjpIOGfon+1lA3dwxuBAnJv2PMyWFzzyomMzJo8R5G2QMrR3EpkuXceFwKede
+nsKVhwRL/iVE6XXAs0vvmIJYa0myaonUwcn3hKDO7KTlLqdKcpNI/ANRaOETXUn7
+1z1mLejMy8IHuYn4pQ9dOofgLbt1z0zIyjaOX8WfiI0/eb4K3UHA8BYctn33iWbd
+51cUcceuTuPvONgkeZF6ZDpYuy68N0Qb8fGUu/kslNMHKHqRu64YNjOneYgE/0th
+lDEvtESNxhMpR+Y81iPYE2JrJo0txh+pnEGSCbW2+3Kh
+-----END CERTIFICATE-----
-- 
2.42.0

