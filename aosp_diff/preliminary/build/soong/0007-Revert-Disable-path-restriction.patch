From d2369df23843bc16bba26bcef2dd82ec5f330732 Mon Sep 17 00:00:00 2001
From: ahs <amrita.h.s@intel.com>
Date: Thu, 21 Jan 2021 12:57:04 +0530
Subject: [PATCH] Revert "Disable path restriction"

Tracked-On:
Signed-off-by: ahs <amrita.h.s@intel.com>
---
 ui/build/build.go | 2 +-
 ui/build/path.go  | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/ui/build/build.go b/ui/build/build.go
index ca8206f..349a7de 100644
--- a/ui/build/build.go
+++ b/ui/build/build.go
@@ -191,7 +191,7 @@ func Build(ctx Context, config Config, what int) {
 
 	ensureEmptyDirectoriesExist(ctx, config.TempDir())
 
-	//SetupPath(ctx, config)
+	SetupPath(ctx, config)
 
 	if config.StartGoma() {
 		// Ensure start Goma compiler_proxy
diff --git a/ui/build/path.go b/ui/build/path.go
index b97c692..c34ba1b 100644
--- a/ui/build/path.go
+++ b/ui/build/path.go
@@ -95,7 +95,7 @@ func SetupLitePath(ctx Context, config Config) {
 	prebuiltsPath, _ := filepath.Abs("prebuilts/build-tools/path/" + runtime.GOOS + "-x86")
 	myPath = prebuiltsPath + string(os.PathListSeparator) + myPath
 
-	//config.Environment().Set("PATH", myPath)
+	config.Environment().Set("PATH", myPath)
 	config.pathReplaced = true
 }
 
@@ -198,6 +198,6 @@ func SetupPath(ctx Context, config Config) {
 	prebuiltsPath, _ := filepath.Abs("prebuilts/build-tools/path/" + runtime.GOOS + "-x86")
 	myPath = prebuiltsPath + string(os.PathListSeparator) + myPath
 
-//	config.Environment().Set("PATH", myPath)
+	config.Environment().Set("PATH", myPath)
 	config.pathReplaced = true
 }
-- 
2.7.4

