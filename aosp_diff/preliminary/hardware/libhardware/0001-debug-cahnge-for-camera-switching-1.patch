From 20a49fc5c485be82875567805c2ca882688e5a5e Mon Sep 17 00:00:00 2001
From: shivasku82 <shiva.kumara.rudrappa@intel.com>
Date: Fri, 18 Jun 2021 16:22:18 +0530
Subject: [PATCH] debug cahnge for camera switching 1

---
 modules/camera/3_0/Camera.cpp          | 6 +++---
 modules/camera/3_4/camera.cpp          | 7 ++++---
 modules/camera/3_4/v4l2_camera.cpp     | 2 +-
 modules/camera/3_4/v4l2_camera_hal.cpp | 2 +-
 4 files changed, 9 insertions(+), 8 deletions(-)

diff --git a/modules/camera/3_0/Camera.cpp b/modules/camera/3_0/Camera.cpp
index dc7ffa57..93fca298 100644
--- a/modules/camera/3_0/Camera.cpp
+++ b/modules/camera/3_0/Camera.cpp
@@ -13,7 +13,7 @@
  * See the License for the specific language governing permissions and
  * limitations under the License.
  */
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "Camera"
 
 #include <errno.h>
@@ -80,7 +80,7 @@ Camera::~Camera()
 
 int Camera::open(const hw_module_t *module, hw_device_t **device)
 {
-    ALOGI("%s:%d: Opening camera device", __func__, mId);
+    ALOGE("%s:%d: Opening camera device", __func__, mId);
     ATRACE_CALL();
     android::Mutex::Autolock al(mDeviceLock);
 
@@ -112,7 +112,7 @@ int Camera::getInfo(struct camera_info *info)
 
 int Camera::close()
 {
-    ALOGI("%s:%d: Closing camera device", __func__, mId);
+    ALOGE("%s:%d: Closing camera device", __func__, mId);
     ATRACE_CALL();
     android::Mutex::Autolock al(mDeviceLock);
 
diff --git a/modules/camera/3_4/camera.cpp b/modules/camera/3_4/camera.cpp
index 7636cbab..8670e0cd 100644
--- a/modules/camera/3_4/camera.cpp
+++ b/modules/camera/3_4/camera.cpp
@@ -16,7 +16,7 @@
 
 // Modified from hardware/libhardware/modules/camera/Camera.cpp
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "Camera"
 
 #include "camera.h"
@@ -42,6 +42,7 @@ extern "C" {
 // Shim passed to the framework to close an opened device.
 static int close_device(hw_device_t* dev)
 {
+	ALOGE("shiva close_device");
     camera3_device_t* cam_dev = reinterpret_cast<camera3_device_t*>(dev);
     Camera* cam = static_cast<Camera*>(cam_dev->priv);
     return cam->close();
@@ -70,7 +71,7 @@ Camera::~Camera()
 
 int Camera::openDevice(const hw_module_t *module, hw_device_t **device)
 {
-    ALOGI("%s:%d: Opening camera device", __func__, mId);
+    ALOGE("%s:%d: Opening camera device", __func__, mId);
     ATRACE_CALL();
     android::Mutex::Autolock dl(mDeviceLock);
 
@@ -137,7 +138,7 @@ int Camera::loadStaticInfo() {
 
 int Camera::close()
 {
-    ALOGI("%s:%d: Closing camera device", __func__, mId);
+    ALOGE("%s:%d: Closing camera device", __func__, mId);
     ATRACE_CALL();
     android::Mutex::Autolock dl(mDeviceLock);
 
diff --git a/modules/camera/3_4/v4l2_camera.cpp b/modules/camera/3_4/v4l2_camera.cpp
index 99b7a935..2df302b2 100644
--- a/modules/camera/3_4/v4l2_camera.cpp
+++ b/modules/camera/3_4/v4l2_camera.cpp
@@ -14,7 +14,7 @@
  * limitations under the License.
  */
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "V4L2Camera"
 
 #include "v4l2_camera.h"
diff --git a/modules/camera/3_4/v4l2_camera_hal.cpp b/modules/camera/3_4/v4l2_camera_hal.cpp
index 17fac1a8..01fea892 100644
--- a/modules/camera/3_4/v4l2_camera_hal.cpp
+++ b/modules/camera/3_4/v4l2_camera_hal.cpp
@@ -16,7 +16,7 @@
 
 // Modified from hardware/libhardware/modules/camera/CameraHAL.cpp
 
-//#define LOG_NDEBUG 0
+#define LOG_NDEBUG 0
 #define LOG_TAG "V4L2CameraHAL"
 
 #include "v4l2_camera_hal.h"
-- 
2.32.0

