From acf1c511b0912b34ef2c3cc7c59ae71d2ab3e304 Mon Sep 17 00:00:00 2001
From: rnaidu <ramya.v.naidu@intel.com>
Date: Mon, 30 Mar 2020 20:41:06 +0530
Subject: [PATCH] Compressing the image size of caas images

Tracked-On: N/A
Signed-off-by: rnaidu <ramya.v.naidu@intel.com>
---
 python/lib/Lib/zipfile.py | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/python/lib/Lib/zipfile.py b/python/lib/Lib/zipfile.py
index c5c9c08fec62..39f15c0f29fc 100644
--- a/python/lib/Lib/zipfile.py
+++ b/python/lib/Lib/zipfile.py
@@ -315,7 +315,7 @@ class ZipFile:
 
     fp = None                   # Set here since __del__ checks it
 
-    def __init__(self, file, mode="r", compression=ZIP_STORED, allowZip64=False):
+    def __init__(self, file, mode="r", compression=ZIP_STORED, allowZip64=True):
         """Open the ZIP file with mode read "r", write "w" or append "a"."""
         self._allowZip64 = allowZip64
         self._didModify = False
@@ -531,10 +531,10 @@ class ZipFile:
             raise RuntimeError, \
                   "That compression method is not supported"
         if zinfo.file_size > ZIP64_LIMIT:
-            if not self._allowZip64:
+            if self._allowZip64:
                 raise LargeZipFile("Filesize would require ZIP64 extensions")
         if zinfo.header_offset > ZIP64_LIMIT:
-            if not self._allowZip64:
+            if self._allowZip64:
                 raise LargeZipFile("Zipfile size would require ZIP64 extensions")
 
     def write(self, filename, arcname=None, compress_type=None):
-- 
2.24.1

