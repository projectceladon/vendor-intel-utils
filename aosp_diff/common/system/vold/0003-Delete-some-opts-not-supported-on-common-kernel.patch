From 7fc2d8a7cfb6d0e3dde952d2dfa9515e49a820eb Mon Sep 17 00:00:00 2001
From: Bing Xu <bing.xu@intel.com>
Date: Thu, 27 Jan 2022 10:24:56 +0800
Subject: [PATCH] Delete some opts not supported on common kernel.

Some test case of StorageManagerTest will fail as
we use common kerel and don't support some fuse mount
opts, such as context and fscontext.

Change-Id: I76986107bfa5658230ebb42846dc0651fba31a2c
Signed-off-by: Bing Xu <bing.xu@intel.com>
---
 AppFuseUtil.cpp | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/AppFuseUtil.cpp b/AppFuseUtil.cpp
index 711e70b..995326d 100644
--- a/AppFuseUtil.cpp
+++ b/AppFuseUtil.cpp
@@ -54,9 +54,7 @@ static android::status_t Mount(int device_fd, const std::string& path) {
         "rootmode=40000,"
         "default_permissions,"
         "allow_other,"
-        "user_id=0,group_id=0,"
-        "context=\"u:object_r:app_fuse_file:s0\","
-        "fscontext=u:object_r:app_fusefs:s0",
+        "user_id=0,group_id=0,",
         device_fd);
 
     const int result =
-- 
2.17.1

