From b83a565d9b2779c57fd3a0f18a8e6101b1061f5f Mon Sep 17 00:00:00 2001
From: devath1x <devathix.mahesh@intel.com>
Date: Tue, 1 Oct 2024 12:16:12 +0000
Subject: [PATCH] [Do not merge]wifi coverity

Signed-off-by: devath1x <devathix.mahesh@intel.com>
---
 wifi/aidl/default/wifi_legacy_hal.cpp | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/wifi/aidl/default/wifi_legacy_hal.cpp b/wifi/aidl/default/wifi_legacy_hal.cpp
index 209670bc69..b0c5934fa6 100644
--- a/wifi/aidl/default/wifi_legacy_hal.cpp
+++ b/wifi/aidl/default/wifi_legacy_hal.cpp
@@ -1388,8 +1388,7 @@ wifi_error WifiLegacyHal::nanRegisterCallbackHandlers(const std::string& iface_n
     on_nan_event_suspension_mode_change_user_callback =
             user_callbacks.on_event_suspension_mode_change;
 
-    return global_func_table_.wifi_nan_register_handler(getIfaceHandle(iface_name),
-                                                        {onAsyncNanNotifyResponse,
+                     NanCallbackHandler handler =       {onAsyncNanNotifyResponse,
                                                          onAsyncNanEventPublishReplied,
                                                          onAsyncNanEventPublishTerminated,
                                                          onAsyncNanEventMatch,
@@ -1411,7 +1410,9 @@ wifi_error WifiLegacyHal::nanRegisterCallbackHandlers(const std::string& iface_n
                                                          onAsyncNanEventPairingConfirm,
                                                          onAsyncNanEventBootstrappingRequest,
                                                          onAsyncNanEventBootstrappingConfirm,
-                                                         onAsyncNanEventSuspensionModeChange});
+                                                         onAsyncNanEventSuspensionModeChange};
+ 
+    return global_func_table_.wifi_nan_register_handler(getIfaceHandle(iface_name), &handler);
 }
 
 wifi_error WifiLegacyHal::nanEnableRequest(const std::string& iface_name, transaction_id id,
-- 
2.34.1

