From 66a581bc9fb16344bd4ac0a578ebe32da3769b70 Mon Sep 17 00:00:00 2001
From: Gowtham Anandha Babu <gowtham.anandha.babu@intel.com>
Date: Fri, 29 Dec 2023 14:04:51 +0530
Subject: [PATCH] Disable Bluetooth fragment from car settings

Tracked-On: OAM-114394
Signed-off-by: Gowtham Anandha Babu <gowtham.anandha.babu@intel.com>
---
 AndroidManifest.xml                                     | 4 ++--
 res/values-w1400dp/config.xml                           | 2 +-
 res/xml/homepage_fragment.xml                           | 4 ++--
 src/com/android/car/settings/qc/SettingsQCRegistry.java | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index 2af2db488..c6537d97c 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -164,7 +164,7 @@
             <meta-data android:name="distractionOptimized" android:value="true"/>
         </activity>
 
-        <activity
+        <!--activity
             android:name=".common.CarSettingActivities$BluetoothSettingsActivity"
             android:windowSoftInputMode="adjustPan"
             android:exported="true">
@@ -175,7 +175,7 @@
             <meta-data android:name="com.android.car.settings.TOP_LEVEL_HEADER_KEY"
                        android:value="@string/hk_BluetoothSettingsActivity" />
             <meta-data android:name="distractionOptimized" android:value="true"/>
-        </activity>
+        </activity-->
 
         <activity
             android:name=".common.CarSettingActivities$UnitsSettingsActivity"
diff --git a/res/values-w1400dp/config.xml b/res/values-w1400dp/config.xml
index d13c5041c..21e292e3f 100644
--- a/res/values-w1400dp/config.xml
+++ b/res/values-w1400dp/config.xml
@@ -17,6 +17,6 @@
 
 <resources>
     <bool name="config_global_force_single_pane">false</bool>
-    <string name="config_homepage_fragment_class" translatable="false">com.android.car.settings.bluetooth.BluetoothSettingsFragment</string>
+    <string name="config_homepage_fragment_class" translatable="false">com.android.car.settings.network.NetworkAndInternetFragment</string>
     <bool name="config_top_level_enable_chevrons">false</bool>
 </resources>
diff --git a/res/xml/homepage_fragment.xml b/res/xml/homepage_fragment.xml
index ce21df9df..7a0ae3442 100644
--- a/res/xml/homepage_fragment.xml
+++ b/res/xml/homepage_fragment.xml
@@ -25,12 +25,12 @@
         android:key="@string/pk_suggestions"
         settings:controller="com.android.car.settings.suggestions.SuggestionsPreferenceController"/>
     -->
-    <com.android.car.settings.common.TopLevelPreference
+    <!--com.android.car.settings.common.TopLevelPreference
         android:fragment="com.android.car.settings.bluetooth.BluetoothSettingsFragment"
         android:icon="@drawable/ic_top_level_bluetooth"
         android:key="@string/pk_bluetooth_settings_entry"
         android:title="@string/bluetooth_settings_title"
-        settings:controller="com.android.car.settings.bluetooth.BluetoothEntryPreferenceController"/>
+        settings:controller="com.android.car.settings.bluetooth.BluetoothEntryPreferenceController"/-->
     <com.android.car.settings.common.TopLevelPreference
         android:fragment="com.android.car.settings.network.NetworkAndInternetFragment"
         android:icon="@drawable/ic_top_level_network_and_internet"
diff --git a/src/com/android/car/settings/qc/SettingsQCRegistry.java b/src/com/android/car/settings/qc/SettingsQCRegistry.java
index 1e2cf923d..0eb825d23 100644
--- a/src/com/android/car/settings/qc/SettingsQCRegistry.java
+++ b/src/com/android/car/settings/qc/SettingsQCRegistry.java
@@ -122,8 +122,8 @@ public class SettingsQCRegistry {
     private static Map<Uri, Class<? extends SettingsQCItem>> createUriToQCMap() {
         Map<Uri, Class<? extends SettingsQCItem>> map = new ArrayMap<>();
 
-        map.put(BLUETOOTH_SWITCH_URI, BluetoothSwitch.class);
-        map.put(PAIRED_BLUETOOTH_DEVICES_URI, PairedBluetoothDevices.class);
+        //map.put(BLUETOOTH_SWITCH_URI, BluetoothSwitch.class);
+        //map.put(PAIRED_BLUETOOTH_DEVICES_URI, PairedBluetoothDevices.class);
         map.put(WIFI_TILE_URI, WifiTile.class);
         map.put(HOTSPOT_TILE_URI, HotspotTile.class);
         map.put(MOBILE_DATA_TILE_URI, MobileDataTile.class);
-- 
2.17.1

