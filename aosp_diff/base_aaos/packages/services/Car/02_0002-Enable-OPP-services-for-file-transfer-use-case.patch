From d2260c2d8fed8ed30a0f0529e8c34b4f3495e454 Mon Sep 17 00:00:00 2001
From: Gowtham Anandha Babu <gowtham.anandha.babu@intel.com>
Date: Mon, 20 Mar 2023 22:53:52 +0530
Subject: [PATCH] Enable OPP services for file transfer use case

Tracked-On: OAM-103692
Signed-off-by: Gowtham Anandha Babu <gowtham.anandha.babu@intel.com>
---
 car_product/build/component-overrides.xml      | 18 ++++++++----------
 .../apps/Bluetooth/res/values/config.xml       |  2 +-
 2 files changed, 9 insertions(+), 11 deletions(-)

diff --git a/car_product/build/component-overrides.xml b/car_product/build/component-overrides.xml
index 9eee2d2b2..817fcfcb4 100644
--- a/car_product/build/component-overrides.xml
+++ b/car_product/build/component-overrides.xml
@@ -58,16 +58,14 @@
         <component class=".map.BluetoothMapSettings" enabled="false" />
 -->
         <!-- Controlled by profile_supported_opp -->
-<!--
-        <component class=".opp.BluetoothOppService" enabled="false" />
-        <component class=".opp.BluetoothOppReceiver" enabled="false" />
-        <component class=".opp.BluetoothOppLauncherActivity" enabled="false" />
-        <component class=".opp.BluetoothOppBtEnableActivity" enabled="false" />
-        <component class=".opp.BluetoothOppBtEnablingActivity" enabled="false" />
-        <component class=".opp.BluetoothOppIncomingFileConfirmActivity" enabled="false" />
-        <component class=".opp.BluetoothOppTransferActivity" enabled="false" />
-        <component class=".opp.BluetoothOppTransferHistory" enabled="false" />
--->
+        <component class=".opp.BluetoothOppService" enabled="true" />
+        <component class=".opp.BluetoothOppReceiver" enabled="true" />
+        <component class=".opp.BluetoothOppLauncherActivity" enabled="true" />
+        <component class=".opp.BluetoothOppBtEnableActivity" enabled="true" />
+        <component class=".opp.BluetoothOppBtEnablingActivity" enabled="true" />
+        <component class=".opp.BluetoothOppIncomingFileConfirmActivity" enabled="true" />
+        <component class=".opp.BluetoothOppTransferActivity" enabled="true" />
+        <component class=".opp.BluetoothOppTransferHistory" enabled="true" />
         <!-- Controlled by profile_supported_sap -->
 <!--
         <component class=".sap.SapService" enabled="false" />
diff --git a/car_product/overlay/packages/apps/Bluetooth/res/values/config.xml b/car_product/overlay/packages/apps/Bluetooth/res/values/config.xml
index 36bd90cc4..108e60442 100644
--- a/car_product/overlay/packages/apps/Bluetooth/res/values/config.xml
+++ b/car_product/overlay/packages/apps/Bluetooth/res/values/config.xml
@@ -39,7 +39,7 @@
     <bool name="profile_supported_pbap">false</bool>
     <bool name="profile_supported_map">false</bool>
     <bool name="profile_supported_hdp">false</bool>
-    <bool name="profile_supported_opp">false</bool>
+    <bool name="profile_supported_opp">true</bool>
     <bool name="profile_supported_sap">false</bool>
     <bool name="enable_phone_policy">false</bool>
 
-- 
2.17.1

