From cb2b31084ce6a9465199adadc908a3954d3cda4d Mon Sep 17 00:00:00 2001
From: "He, Yue" <yue.he@intel.com>
Date: Wed, 25 Sep 2024 10:28:21 +0000
Subject: [PATCH] Add special flag for display consumer

Tracked-On: OAM-125304
Signed-off-by: He, Yue <yue.he@intel.com>
---
 services/surfaceflinger/DisplayHardware/FramebufferSurface.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/services/surfaceflinger/DisplayHardware/FramebufferSurface.cpp b/services/surfaceflinger/DisplayHardware/FramebufferSurface.cpp
index ce602a8ad9..0523387aeb 100644
--- a/services/surfaceflinger/DisplayHardware/FramebufferSurface.cpp
+++ b/services/surfaceflinger/DisplayHardware/FramebufferSurface.cpp
@@ -67,7 +67,8 @@ FramebufferSurface::FramebufferSurface(HWComposer& hwc, PhysicalDisplayId displa
     mConsumer->setConsumerName(mName);
     mConsumer->setConsumerUsageBits(GRALLOC_USAGE_HW_FB |
                                        GRALLOC_USAGE_HW_RENDER |
-                                       GRALLOC_USAGE_HW_COMPOSER);
+                                       GRALLOC_USAGE_HW_COMPOSER |
+                                       GRALLOC_USAGE_PRIVATE_1);
     const auto limitedSize = limitSize(size);
     mConsumer->setDefaultBufferSize(limitedSize.width, limitedSize.height);
     mConsumer->setMaxAcquiredBufferCount(
-- 
2.34.1

