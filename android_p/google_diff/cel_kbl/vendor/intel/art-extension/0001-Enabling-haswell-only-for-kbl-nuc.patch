From b1d8d197c161caabb6a83daa7c6d44e43fa0185b Mon Sep 17 00:00:00 2001
From: anuvarsh <anuvarshini.bc@intel.com>
Date: Fri, 1 Feb 2019 13:22:59 +0530
Subject: [PATCH] Enabling haswell only for kbl nuc

Tracked-On: OAM-75970
---
 build/Android.bp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/build/Android.bp b/build/Android.bp
index b3e5bfd..f2da623 100644
--- a/build/Android.bp
+++ b/build/Android.bp
@@ -35,7 +35,6 @@ art_global_defaults {
         "-Wshadow",
         "-Wunused",
         "-fvisibility=protected",
-        "-march=haswell",
         // Warn about thread safety violations with clang.
         "-Wthread-safety",
         "-Wthread-safety-negative",
@@ -63,6 +62,7 @@ art_global_defaults {
         "-D_LIBCPP_ENABLE_THREAD_SAFETY_ANNOTATIONS",
     ],
 
+
     target: {
         android: {
             cflags: [
@@ -73,6 +73,7 @@ art_global_defaults {
                 // "-fno-omit-frame-pointer",
                 // "-marm",
                 // "-mapcs",
+                   "-march=haswell",
             ],
             include_dirs: [
                 // We optimize Thread::Current() with a direct TLS access. This requires access to a
-- 
1.9.1

