From 69900467df95a09c3c61e46b7a87edf1f22841cf Mon Sep 17 00:00:00 2001
From: saranya <saranya.gopal@intel.com>
Date: Thu, 4 Jul 2019 13:34:39 +0530
Subject: [PATCH] DO NOT MERGE: role: Toggle to host mode

Tracked-On:
Signed-off-by: saranya <saranya.gopal@intel.com>
---
 drivers/usb/roles/intel-xhci-usb-role-switch.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/drivers/usb/roles/intel-xhci-usb-role-switch.c b/drivers/usb/roles/intel-xhci-usb-role-switch.c
index d64f5d24a2ae..65ff5774163b 100644
--- a/drivers/usb/roles/intel-xhci-usb-role-switch.c
+++ b/drivers/usb/roles/intel-xhci-usb-role-switch.c
@@ -175,6 +175,10 @@ static int intel_xhci_usb_probe(struct platform_device *pdev)
 	if (IS_ERR(data->role_sw))
 		return PTR_ERR(data->role_sw);
 
+        intel_xhci_usb_set_role(dev, USB_ROLE_DEVICE);
+        msleep(10);
+        intel_xhci_usb_set_role(dev, USB_ROLE_HOST);
+
 	pm_runtime_set_active(dev);
 	pm_runtime_enable(dev);
 
-- 
2.21.0

