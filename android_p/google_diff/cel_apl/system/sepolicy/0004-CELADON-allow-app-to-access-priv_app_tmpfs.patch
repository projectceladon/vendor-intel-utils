From bbd8e4f77cee6c3a7c30aebbb65436d1a063ac23 Mon Sep 17 00:00:00 2001
From: Swaroop Balan <swaroop.balan@intel.com>
Date: Thu, 23 Aug 2018 16:54:21 +0530
Subject: [PATCH] [CELADON] allow app to access priv_app_tmpfs

Tracked-On: None
---
 private/app.te      | 2 +-
 private/priv_app.te | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/private/app.te b/private/app.te
index f3e1e2a..febfe44 100644
--- a/private/app.te
+++ b/private/app.te
@@ -1,7 +1,7 @@
 # TODO: deal with tmpfs_domain pub/priv split properly
 # Read system properties managed by zygote.
 allow appdomain zygote_tmpfs:file read;
-
+allow appdomain priv_app_tmpfs:file read;
 neverallow appdomain system_server:udp_socket {
         accept append bind create ioctl listen lock name_bind
         relabelfrom relabelto setattr shutdown };
diff --git a/private/priv_app.te b/private/priv_app.te
index 9ff8d09..714403a 100644
--- a/private/priv_app.te
+++ b/private/priv_app.te
@@ -4,6 +4,7 @@
 
 typeattribute priv_app coredomain;
 app_domain(priv_app)
+typeattribute priv_app_tmpfs mlstrustedobject;
 
 # Access the network.
 net_domain(priv_app)
-- 
1.9.1

