From afcb8f4e3d4d480b9a520259c5c001ddbdc396cc Mon Sep 17 00:00:00 2001
From: robinz1x <robinx.zhang@intel.com>
Date: Mon, 30 Oct 2017 16:04:20 +0800
Subject: [PATCH 02/21] fix SystemUI crash issue

avoid invoke method on a null object reference

Change-Id: Ida11afef9a122bce4bd07cd2f85d899c04adabec
Tracked-On: https://jira01.devtools.intel.com/browse/OAM-52058
Signed-off-by: robinz1x <robinx.zhang@intel.com>
---
 .../systemui/statusbar/stack/NotificationStackScrollLayout.java       | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/packages/SystemUI/src/com/android/systemui/statusbar/stack/NotificationStackScrollLayout.java b/packages/SystemUI/src/com/android/systemui/statusbar/stack/NotificationStackScrollLayout.java
index 75532d9..d4d977a 100644
--- a/packages/SystemUI/src/com/android/systemui/statusbar/stack/NotificationStackScrollLayout.java
+++ b/packages/SystemUI/src/com/android/systemui/statusbar/stack/NotificationStackScrollLayout.java
@@ -3689,7 +3689,9 @@ public class NotificationStackScrollLayout extends ViewGroup
         Context context = new ContextThemeWrapper(mContext,
                 lightTheme ? R.style.Theme_SystemUI_Light : R.style.Theme_SystemUI);
         final int textColor = Utils.getColorAttr(context, R.attr.wallpaperTextColor);
-        mDismissView.setTextColor(textColor);
+        if (mDismissView != null) {
+            mDismissView.setTextColor(textColor);
+        }
         mEmptyShadeView.setTextColor(textColor);
     }
 
-- 
1.9.1

