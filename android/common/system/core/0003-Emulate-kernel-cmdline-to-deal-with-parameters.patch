From ae12fe29b1530c5fd0664bcb2e155a8255230561 Mon Sep 17 00:00:00 2001
From: Hongcheng Xie <hongcheng.xie@intel.com>
Date: Fri, 19 Jun 2020 14:03:02 +0800
Subject: [PATCH 3/3] Emulate kernel cmdline to deal with parameters

Change-Id: Ie9f948331e2a208503374ee2124588207e5488f6
Signed-off-by: Hongcheng Xie <hongcheng.xie@intel.com>
---
 init/property_service.cpp | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/init/property_service.cpp b/init/property_service.cpp
index fb5f96456..478e5bf00 100644
--- a/init/property_service.cpp
+++ b/init/property_service.cpp
@@ -1024,6 +1024,11 @@ static void ExportKernelBootProps() {
         { "ro.boot.bootloader", "ro.bootloader", "unknown", },
         { "ro.boot.hardware",   "ro.hardware",   "unknown", },
         { "ro.boot.revision",   "ro.revision",   "0", },
+#ifdef _ANDROID_AS_GUEST_
+        { "ro.boot.container.id",	"ro.container.id",	 "unknown",  },
+        { "ro.boot.container.memnodes", "ro.container.memnodes",	 "unknown",  },
+        { "ro.boot.container.cpus", "ro.container.cpus",	 "unknown",  },
+#endif
             // clang-format on
     };
     for (const auto& prop : prop_map) {
-- 
2.17.1

